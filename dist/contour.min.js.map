{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///contour.min.js","webpack:///webpack/bootstrap 88f7e2de61be3564266b","webpack:///./src/scripts/utils/contour-utils.js","webpack:///external \"d3\"","webpack:///./src/scripts/core/contour.js","webpack:///./src/scripts/core/axis/y-axis.js","webpack:///./src/scripts/core/axis/axis-scale-factory.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/scripts/core/axis/centered-y-axis.js","webpack:///./src/scripts/core/axis/linear-scale-axis.js","webpack:///./src/scripts/core/axis/log-y-axis.js","webpack:///./src/scripts/core/axis/ordinal-scale-axis.js","webpack:///./src/scripts/core/axis/smart-y-axis.js","webpack:///./src/scripts/core/axis/time-scale-axis.js","webpack:///./src/scripts/index.js","webpack:///./src/scripts/utils/visualization-container.js","webpack:///./node_modules/lodash.defaults/index.js","webpack:///./node_modules/lodash.merge/index.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/scripts/core/cartesian.js","webpack:///./src/scripts/core/horizontal-frame.js","webpack:///./src/scripts/core/exportable.js","webpack:///./src/scripts/visualizations/area.js","webpack:///./src/scripts/visualizations/bar.js","webpack:///./src/scripts/visualizations/column.js","webpack:///./src/scripts/visualizations/cool-narwhal.js","webpack:///./src/scripts/visualizations/legend.js","webpack:///./src/scripts/visualizations/line.js","webpack:///./src/scripts/visualizations/null.js","webpack:///./src/scripts/visualizations/pie.js","webpack:///./src/scripts/visualizations/scatter.js","webpack:///./src/scripts/visualizations/stack-tooltip.js","webpack:///./src/scripts/visualizations/tooltip.js","webpack:///./src/scripts/visualizations/trend-line.js"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE_1__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","global","_interopRequireDefault","obj","default","baseGetTag","value","undefined","symToStringTag","toString","isOwn","tag","unmasked","e","result","warning","getCentroid","getStyle","selectDom","isSupportedDataFormat","maxTickValues","sum","stackLayout","normalizeSeries","isCorrectSeriesFormat","isCorrectDataFormat","mergeArrays","dateDiff","textBounds","getTicksThatFit","doXLabelsFit","calcXLabelsWidths","niceTicks","extractScaleDomain","niceMinMax","roundToNextTick","niceRound","linearRegression","translatePoint","rotatePoint","radToDeg","degToRad","clampRight","clampLeft","clamp","log10","decDigits","digits","trunc","roundTo","roundToNearest","firstAndLast","warn","minMaxFilter","cleanNullValues","materialize","seriesNameToClass","getValue","omit","intersection","compact","flatten","uniq","range","isString","isNumber","isDate","isObjectLike","isObject","partialRight","partial","noop","merge","defaults","_typeof","Symbol","iterator","constructor","_lodash","_lodash2","_d","_d2","multiplier","x","dig","Math","pow","maxMultiplier","a","b","max","addFloat","factor","round","subFloat","mulFloat","divFloat","objectProto","window","toStringTag","fn","args","Array","arguments","length","newArgs","fullArgs","concat","apply","type","String","start","end","step","t","index","ceil","array","cache","len","j","el","key","push","reduce","acc","cur","isArray","map","src","props","prop","res","keys","forEach","deafult","ctx","slice","options","curPath","skipList","skip","shouldSkip","path","some","RegExp","test","nodeType","style","ownerDocument","prev","curKeyPath","expectsParam","shouldMaterialize","console","series","assign","data","acum","datum","y","desiredLen","toReturn","increment","floor","maxPt","minPt","hasValidPt","maxIndex","min","intermediateIndex","intermediatePt","msg","log","ar","number","multiple","str","abs","parts","split","LN10","val","h","low","high","deg","PI","rad","point","cos","sin","delta","dataSrc","lr","sum_x","sum_y","sum_xy","sum_xx","sum_yy","slope","intercept","r2","sqrt","num","mag","sign","toExponential","replace","ticks","startAtZero","tickValues","swap","origMax","exponent","defaultMinMax","minMax","defaultRounding","excelRoundUp","up","v","nice","negativeMinAmount","intermediateMax","iMin","roundToDigits","inter","intermediateMin","interval","finalMin","finalMax","ticksValues","prevTick","newTick","every","tick","domain","zeroAnchor","dataMin","dataMax","niced","filter","sort","width","padding","labelFormatter","tickWidths","availableWidthForLabels","chart","plotWidth","axisLabelsWidth","iter","filterMod","finalTicks","text","css","body","document","getElementsByTagName","wrapper","createElement","dummy","className","position","height","visibility","lineHeight","whiteSpace","innerHTML","appendChild","clientWidth","clientHeight","removeChild","d1","d2","getTime","diff","array1","array2","dataArray","isArrayOfObjects","hasDataArrayPerSeries","hasSeriesNamePerSeries","datumInCorrectFormat","categories","sortFn","normal","set","hasX","hasCategories","correctDataFormat","stack","d3","layout","values","out","y0s","y0","tickInteval","selector","select","elem","styles","offsetParent","defaultView","getComputedStyle","element","parentBox","tagName","parentNode","getBoundingClientRect","bbox","left","top","Contour","init","_visualizationContainer","_visualizationContainer2","_contourUtils","nwt","newObj","_axisScaleFactory","animations","enable","duration","defaultWidth","defaultAspect","margin","right","bottom","internalPadding","rotatedFrame","plotHeight","plotTop","plotLeft","xAxis","yAxis","tooltip","version","xScaleFactory","yScaleFactory","utils","addAxis","axes","export","ctorName","renderer","sortSeries","shouldSort","sortFunc","Error","vizOpt","vis","ownData","lastData","VisualizationContainer","_visualizations","expose","functionalityConstructor","ctor","functionality","create","originalOptions","_exposed","_extraOptions","calculateWidth","outerWidth","parseInt","paddingLeft","paddingRight","calculateHeight","outerHeight","paddingTop","paddingBottom","containerHeight","calcWidth","ratio","aspect","calcMetrics","adjustPadding","adjustTitlePadding","composeOptions","allDefaults","mergeExtraOptions","opt","mergeDefaults","forceSkip","updateOptions","baseRender","plotArea","render","renderVisualizations","resize","container","update","chartOpt","attr","svg","node","append","createVisualizationLayer","id","visualization","layer","parent","normalizeData","bind","checkDependencies","listOfDependencies","_this","missing","dep","indexOf","join","ensureDefaults","setData","dataNormalizer","YAxis","scaling","labels","format","setRange","scale","rangeSize","axis","numTicks","formatter","_scale","tickFormat","tickSize","innerTickSize","outerTickSize","tickPadding","linear","setDomain","_niceTheScale","_yAxis","_yAxis2","_centeredYAxis","_centeredYAxis2","_linearScaleAxis","_linearScaleAxis2","_logYAxis","_logYAxis2","_ordinalScaleAxis","_ordinalScaleAxis2","_smartYAxis","_smartYAxis2","_timeScaleAxis","_timeScaleAxis2","LogYAxis","smart","SmartYAxis","centered","CenteredYAxis","ordinal","OrdinalScale","time","TimeScale","xLinear","LinearScale","axisCtor","axisType","smartAxis","g","Function","eval","yMax","yMin","NUM_DECIMALS","__super","_extractYTickValues","scaledDomain","_getScaledDomain","extent","dataRange","domainPadding","tickMin","tickMax","tickRange","tickSpacing","currentTick","_domain","_getAxisDomain","_setRange","formatLabel","getDate","labelsFit","rangeBand","postProcessAxis","optMin","optMax","extents","ticksHint","isCategorized","optFormat","maxTicks","axisGroup","rotation","pos","anchor","selectAll","text-anchor","ref","toFixed","_range","numCats","rangeType","innerRangePadding","outerRangePadding","rangePoints","adjustedDomain","rawMax","nextTick","getOptimalTickFormat","axisDomain","spanDays","_getAxisRange","rangeRound","linearDomain","size","_contour","_contour2","VisInstanceContainer","vizOptions","context","_extent","field","maxs","mins","_stackedExtent","dataSets","ext","_xExtent","_yExtent","rawData","setVisibility","visible","display","_updateDomain","xDomain","xExtent","yExtent","stacked","func","thisArg","baseTimes","iteratee","arrayLikeKeys","inherited","isArguments","skipIndexes","isIndex","assignInDefaults","objValue","srcValue","eq","assignValue","baseKeysIn","nativeKeysIn","isProto","isPrototype","baseRest","nativeMax","otherArgs","copyObject","source","customizer","newValue","MAX_SAFE_INTEGER","reIsUint","isIterateeCall","isArrayLike","Ctor","other","isArrayLikeObject","propertyIsEnumerable","objectToString","argsTag","isLength","isFunction","funcTag","genTag","keysIn","assignInWith","assigner","sources","guard","srcIndex","safeGet","Hash","entries","clear","entry","hashClear","__data__","nativeCreate","hashDelete","has","hashGet","HASH_UNDEFINED","hashHas","hashSet","ListCache","listCacheClear","listCacheDelete","assocIndexOf","pop","splice","listCacheGet","listCacheHas","listCacheSet","MapCache","mapCacheClear","hash","Map","string","mapCacheDelete","getMapData","mapCacheGet","mapCacheHas","mapCacheSet","Stack","stackClear","stackDelete","stackGet","stackHas","stackSet","pairs","LARGE_ARRAY_SIZE","isArr","isArg","isBuff","isBuffer","isType","isTypedArray","assignMergeValue","baseAssignValue","writable","undefinedTag","nullTag","getRawTag","baseIsArguments","baseIsNative","isMasked","reIsNative","reIsHostCtor","toSource","baseIsTypedArray","typedArrayTags","baseMerge","baseFor","baseMergeDeep","mergeFunc","isCommon","isTyped","copyArray","cloneBuffer","cloneTypedArray","isPlainObject","toPlainObject","initCloneObject","setToString","overRest","identity","buffer","isDeep","allocUnsafe","copy","cloneArrayBuffer","arrayBuffer","byteLength","Uint8Array","typedArray","byteOffset","isNew","isKeyable","getNative","nativeObjectToString","baseCreate","getPrototype","maskSrcKey","transform","funcToString","asyncTag","proxyTag","objectTag","proto","objectCtorString","constant","stubFalse","HOT_COUNT","HOT_SPAN","reRegExpChar","freeGlobal","freeSelf","freeExports","freeModule","moduleExports","freeProcess","process","nodeUtil","binding","nodeIsTypedArray","arrayProto","funcProto","coreJsData","uid","exec","IE_PROTO","Buffer","arg","getPrototypeOf","objectCreate","nativeIsBuffer","nativeNow","Date","now","fromRight","keysFunc","iterable","baseSetToString","count","lastCalled","stamp","remaining","webpackPolyfill","deprecate","paths","children","gridlines","clipPlotArea","title","titlePadding","orient","zeroPlane","verticalAlign","cartesian","maxTickSize","readOnlyProps","extraPadding","yDomain","_getYScaledDomain","opts","absMin","xOptions","yOptions","_getAdjustedBottomPadding","_getAdjustedTopPadding","_getAdjustedLeftPadding","_getAdjustedRightPadding","xLabels","xAxisText","xLabelBounds","regularXBounds","em","ang","xLabelHeightUsed","yDomainScaled","tmpScale","yLabels","yAxisText","yLabelBounds","titleBounds","computeXScale","xScale","xScaleGenerator","computeYScale","yScaleDomain","yScale","yScaleGenerator","setYDomain","redrawYAxis","renderGridlines","_animationDuration","computeScales","_xAxis","renderXAxis","transition","adjustTickLabels","selection","adj","_xAxisGroup","enter","renderYAxis","_yAxisGroup","_renderYAxisElement","alignmentOffset","middle","animOpt","renderAxisLabels","bounds","gr","option","horizontal","vertical","w","lines","exit","remove","offset","renderBackground","background","renderClipArea","defs","clip","rect","_normalizeData","adjustDomain","getExtents","_adjustXDomain","_adjustYDomain","getXDomain","dataVis","isCategoricalData","dataSrcCategories","sameCats","viz","all","frame","categoryLabels","xLabel","yLabel","lineHeightAdjustment","titleOneEm","addToQueue","working","queue","startWork","finishWork","shift","checkBrowser","setupBase64Shim","InvalidCharacterError","message","btoa","input","block","charCode","idx","output","charAt","charCodeAt","setupCanvgShim","done","scripts","script","onload","head","browser","checked","encodesBase64","aDownloads","download","savesMsBlobs","navigator","msSaveOrOpenBlob","domUrl","URL","webkitURL","createsObjectUrls","createObjectURL","svgExportChecked","iframe","exportsSvg","doc","contentWindow","querySelector","img","canvas","getContext","getAttribute","sourceImg","Image","drawImage","toDataURL","xml","XMLSerializer","serializeToString","encodeURIComponent","open","write","close","defaultParams","fileName","target","backgroundColor","exportable","getSvgDataUrl","dataUrlCreated","encodeBase64DataUrl","svgXml","dataUrlToBlob","dataUrl","byteString","atob","unescape","mimeString","byteArray","Blob","svgDataUrl","imageRendered","imageDataUrl","imageBlob","objectUrl","revokeObjectURL","canvg","ignoreMouse","ignoreAnimation","offsetX","offsetY","scaleWidth","scaleHeight","renderCallback","svgImg","fillStyle","fillRect","onerror","createSvgClone","svgNode","svgCloned","applyStyles","sourceNode","targetNode","sourceStyle","targetStyle","cssIgnoreDiff","isFinite","cloneNodes","newNode","cloneNode","childNodes","childNode","applyDivStylesToSvg","cssSharedSvg","nodeName","rx","borderTopLeftRadius","ry","fill","stroke","borderLeftColor","stroke-width","borderLeftWidth","color","cloneLegendDiv","containerDiv","empty","containerDivNode","containerSvg","offsetLeft","clientLeft","offsetTop","clientTop","entryDivNode","getEntryDivSubNode","entryDiv","entryDivKeyNode","offsetWidth","offsetHeight","entryDivSeriesNode","textContent","nodeLoaded","iframeWindow","iframeDocument","nodeClone","destroyIsolatedNode","getProportionedBounds","original","specified","exportImage","exporter","performExport","svgNodeClone","destroySvgClone","setAttribute","boundsClone","win","url","blob","revokeUrl","href","click","location","setTimeout","place","cssText","parentRule","font","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","direction","letterSpacing","textDecoration","unicodeBidi","wordSpacing","cursor","overflow","opacity","classFn","startArea","area","y1","areaBase","smooth","interpolate","preprocess","markers","blocks","trackerSize","barRender","bar","chartOffset","grouped","numSeries","groupPadding","rectClass","barClass","barWidth","bars","cssClass","col","base","column","columnClass","rectStyle","dataKey","columnWidth","filteredData","cols","delay","validAlignmentClasses","classes","legend","vAlign","hAlign","Legend","enabled","firstChild","legendHeight","mid","positioner","legendWidth","seriesClassName","extras","shouldAnimate","animationDirection","line","startLine","animFn","animationsMap","startLineFn","animationDelay","marker","dots","class","r","cx","cy","left-to-right","each","totalLength","getTotalLength","ease","bottom-to-top","normalizePadding","pie","piePadding","clampBounds","maxWidth","maxHeight","calcPadding","resolveValueUnits","resolvePaddingUnits","renderSeries","group","arcTween","_current","arc","outerRadius","radius","innerRadius","startArc","startAngle","endAngle","pieData","attrTween","shouldCenterX","shouldCenterY","pixelPadding","referenceSize","totalPadding","proposedRadius","totalWidth","outerPaddingLeft","centerY","baseClass","sliceClass","translatePie","posY","pieGroup","ScatterPlot","scatter","halfRangeBand","stackTooltip","valueFormatter","classed","onMouseOver","isNull","mapFn","seriesName","filtered","html","onMouseOut","on","findOriginalDataPoint","seriesIndex","clearHideTimer","clearTimeout","hideTimer","changeOpacity","animate","tooltipElement","positionTooltip","alignedRight","pointOrCentroid","event","mouse","distanceX","distance","distanceY","parseFloat","pointX","pointY","clampPosition","show","hideTime","getTooltipText","allPoints","formatters","params","list","rest","dataPoints","showTime","normalizeDataSet","dataSet","isLinear","normalizer","raw","regression","numericDomain","lineY","isNaN"],"mappings":"CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,EAAAG,QAAA,OACA,kBAAAC,gBAAAC,IACAD,QAAA,MAAAJ,GACA,gBAAAC,SACAA,QAAA,QAAAD,EAAAG,QAAA,OAEAJ,EAAA,QAAAC,EAAAD,EAAA,KACC,mBAAAO,WAAAC,KAAA,SAAAC,GACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAV,OAGA,IAAAC,GAAAU,EAAAD,IACAE,EAAAF,EACAG,GAAA,EACAb,WAUA,OANAQ,GAAAE,GAAAI,KAAAb,EAAAD,QAAAC,IAAAD,QAAAS,GAGAR,EAAAY,GAAA,EAGAZ,EAAAD,QAvBA,GAAAW,KA4DA,OAhCAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAQ,EAAA,SAAAjB,EAAAkB,EAAAC,GACAV,EAAAW,EAAApB,EAAAkB,IACAG,OAAAC,eAAAtB,EAAAkB,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAV,EAAAiB,EAAA,SAAAzB,GACA,GAAAkB,GAAAlB,KAAA0B,WACA,WAA2B,MAAA1B,GAAA,SAC3B,WAAiC,MAAAA,GAEjC,OADAQ,GAAAQ,EAAAE,EAAA,IAAAA,GACAA,GAIAV,EAAAW,EAAA,SAAAQ,EAAAC,GAAsD,MAAAR,QAAAS,UAAAC,eAAAjB,KAAAc,EAAAC,IAGtDpB,EAAAuB,EAAA,GAGAvB,IAAAwB,EAAA,MDgBM,SAAUhC,EAAQD,EAASS,GAEjC,cAC4B,SAASyB,GA+BrC,QAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,GExFvF,QAASE,GAAWC,GAChB,GAAa,MAATA,EACA,WAAiBC,KAAVD,EAAsB,qBAAuB,eAGxD,MAAME,GAAkBA,IAAkBpB,QAAOkB,IAC7C,MAAOG,GAAS5B,KAAKyB,EAGzB,IAAII,GAAQZ,EAAejB,KAAKyB,EAAOE,GACnCG,EAAML,EAAME,GACZI,GAAW,CAEf,KACIN,EAAME,OAAkBD,GACxBK,GAAW,EACb,MAAOC,IAET,GAAIC,GAASL,EAAS5B,KAAKyB,EAQ3B,OAPIM,KACIF,EACJJ,EAAME,GAAkBG,QAEjBL,GAAME,IAGVM,EFiCX1B,OAAOC,eAAetB,EAAS,cAC3BuC,OAAO,IAEXvC,EAAQgD,QAAUhD,EAAQiD,YAAcjD,EAAQkD,SAAWlD,EAAQmD,UAAYnD,EAAQoD,sBAAwBpD,EAAQqD,cAAgBrD,EAAQsD,IAAMtD,EAAQuD,YAAcvD,EAAQwD,gBAAkBxD,EAAQyD,sBAAwBzD,EAAQ0D,oBAAsB1D,EAAQ2D,YAAc3D,EAAQ4D,SAAW5D,EAAQ6D,WAAa7D,EAAQ8D,gBAAkB9D,EAAQ+D,aAAe/D,EAAQgE,kBAAoBhE,EAAQiE,UAAYjE,EAAQkE,mBAAqBlE,EAAQmE,WAAanE,EAAQoE,gBAAkBpE,EAAQqE,UAAYrE,EAAQsE,iBAAmBtE,EAAQuE,eAAiBvE,EAAQwE,YAAcxE,EAAQyE,SAAWzE,EAAQ0E,SAAW1E,EAAQ2E,WAAa3E,EAAQ4E,UAAY5E,EAAQ6E,MAAQ7E,EAAQ8E,MAAQ9E,EAAQ+E,UAAY/E,EAAQgF,OAAShF,EAAQiF,MAAQjF,EAAQkF,QAAUlF,EAAQmF,eAAiBnF,EAAQoF,aAAepF,EAAQqF,KAAOrF,EAAQsF,aAAetF,EAAQuF,gBAAkBvF,EAAQwF,YAAcxF,EAAQyF,kBAAoBzF,EAAQ0F,SAAW1F,EAAQ2F,KAAO3F,EAAQ4F,aAAe5F,EAAQ6F,QAAU7F,EAAQ8F,QAAU9F,EAAQ+F,KAAO/F,EAAQgG,MAAQhG,EAAQiG,SAAWjG,EAAQkG,SAAWlG,EAAQmG,OAASnG,EAAQoG,aAAepG,EAAQqG,SAAWrG,EAAQsG,aAAetG,EAAQuG,QAAUvG,EAAQwG,KAAOxG,EAAQyG,MAAQzG,EAAQ0G,aAAWlE,EAE5tC,IAAImE,GAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUzE,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXwE,SAAyBxE,EAAI0E,cAAgBF,QAAUxE,IAAQwE,OAAO9E,UAAY,eAAkBM,IAElQ2E,EAAUtG,EAAoB,GAElCY,QAAOC,eAAetB,EAAS,YAC3BwB,YAAY,EACZC,IAAK,WACD,MAAOU,GAAuB4E,GE7F7B1E,UFiGT,IAAI2E,GAAWvG,EAAoB,GAEnCY,QAAOC,eAAetB,EAAS,SAC3BwB,YAAY,EACZC,IAAK,WACD,MAAOU,GAAuB6E,GErG7B3E,UAFT,IAAA4E,GAAAxG,EAAA,GF6GIyG,EAAM/E,EAAuB8E,GEvG7BE,EAAa,SAAUC,GAAK,GAAIC,GAAMtC,EAAUqC,EAAI,OAAe,KAARC,EAAY,EAAIC,KAAKC,IAAI,GAAIF,IACxFG,EAAgB,SAAUC,EAAEC,GAAK,MAAOJ,MAAKK,IAAIR,EAAWM,GAAIN,EAAWO,KAC3EE,EAAW,SAAUH,EAAEC,GAAK,GAAIG,GAASL,EAAcC,EAAEC,EAA8D,QAArDJ,KAAKQ,MAAML,EAAII,GAAcP,KAAKQ,MAAMJ,EAAIG,IAA4BA,GAC1IE,EAAW,SAAUN,EAAEC,GAAK,GAAIG,GAASL,EAAcC,EAAEC,EAA8D,QAArDJ,KAAKQ,MAAML,EAAII,GAAcP,KAAKQ,MAAMJ,EAAIG,IAA4BA,GAC1IG,EAAW,SAAUP,EAAEC,GAAK,GAAIG,GAASL,EAAcC,EAAEC,EAA8D,OAArDJ,MAAKQ,MAAML,EAAII,GAAcP,KAAKQ,MAAMJ,EAAIG,IAA6BA,EAAOA,IAClJI,EAAW,SAAUR,EAAEC,GAAK,GAAIG,GAASL,EAAcC,EAAEC,EAA8D,OAArDJ,MAAKQ,MAAML,EAAII,GAAcP,KAAKQ,MAAMJ,EAAIG,IAK9GK,GAHyB,YAAlB,mBAAOC,QAAP,YAAAxB,EAAOwB,UAAsBA,OAGtB9G,OAAOS,WACrBC,EAAiBmG,EAAYnG,eAC7BW,EAAWwF,EAAYxF,SAGvBD,EAAmC,mBAAXmE,QAAyBA,OAAOwB,gBAAc5F,GAuE7D6D,GAxCAG,OAAO,aAEPD,UAAU,SAAU8B,GAI7B,IAAK,GADDC,GAAO,GAAIC,OAAOC,UAAUC,OAAQ,GAC/B7H,EAAI,EAAGA,EAAI4H,UAAUC,SAAU7H,EACpC0H,EAAK1H,EAAE,GAAK4H,UAAU5H,EAG1B,OAAO,YAEH,IAAK,GADD8H,GAAU,GAAIH,OAAMC,UAAUC,QACzB7H,EAAI,EAAGA,EAAI4H,UAAUC,SAAU7H,EACpC8H,EAAQ9H,GAAK4H,UAAU5H,EAG3B,IAAI+H,GAAWL,EAAKM,OAAOF,EAC3B,OAAOL,GAAGQ,MAAMvI,KAAMqI,KAIjBrC,eAAe,SAAU+B,GAIlC,IAAK,GADDC,GAAO,GAAIC,OAAOC,UAAUC,OAAQ,GAC/B7H,EAAI,EAAGA,EAAI4H,UAAUC,SAAU7H,EACpC0H,EAAK1H,EAAE,GAAK4H,UAAU5H,EAG1B,OAAO,YAEH,IAAK,GADD8H,GAAU,GAAIH,OAAMC,UAAUC,QACzB7H,EAAI,EAAGA,EAAI4H,UAAUC,SAAU7H,EACpC8H,EAAQ9H,GAAK4H,UAAU5H,EAG3B,IAAI+H,GAAWD,EAAQE,OAAON,EAC9B,OAAOD,GAAGQ,MAAMvI,KAAMqI,KAIjBtC,WAAW,SAAW9D,GAC/B,GAAIuG,OAAA,KAAcvG,EAAd,YAAAoE,EAAcpE,EAClB,OAAgB,OAATA,IAA2B,WAATuG,GAA8B,aAATA,KAGrC1C,iBAAe,SAAU7D,GAClC,MAAwB,gBAAjB,KAAOA,EAAP,YAAAoE,EAAOpE,KAAgC,OAAVA,GAO3B2D,GAJAC,SAAS,SAAU5D,GAC5B,MAAO6D,GAAa7D,IAAgC,kBAAtBD,EAAWC,IAGhC2D,WAAW,SAAU3D,GAC9B,MAAwB,gBAAVA,IACT6D,EAAa7D,IAAgC,oBAAtBD,EAAWC,KAO9ByD,GAJAC,WAAW,SAAU1D,GAC9B,MAAwB,gBAAVA,IAAsBA,YAAiBwG,SAG5C/C,QAAQ,SAAUgD,EAAOC,EAAKC,GACvC,GAAyB,IAArBV,UAAUC,OAAc,CACxB,GAAIU,GAAIH,CACRA,GAAQ,EACRC,EAAME,EAGVD,EAAOA,IAASD,GAAOD,EAAQ,GAAK,EAKpC,KAJA,GAAII,IAAS,EACTX,EAASnB,KAAKK,IAAIL,KAAK+B,MAAMJ,EAAMD,IAAUE,GAAQ,IAAK,GAC1DnG,EAAS,GAAIwF,OAAME,GAEhBA,KACH1F,IAASqG,GAASJ,EAClBA,GAASE,CAEb,OAAOnG,KAMEgD,SAAO,SAAUuD,GAC1B,GAAa,MAATA,IAAkBA,EAAMb,OAAQ,QAIpC,KAAK,GAHDc,MAAYxG,KACZyG,EAAMF,EAAMb,OAEPgB,EAAE,EAAGA,EAAED,EAAKC,IAAK,CACtB,GAAIC,GAAKJ,EAAMG,GAAIE,EAAMD,EAAK,EAEzBH,GAAMxH,eAAe4H,KACtBJ,EAAMI,IAAO,EACb5G,EAAO6G,KAAKF,IAIpB,MAAO3G,IAkEE2C,GA/DAI,UAAU,QAAVA,GAAoBwD,GAC7B,MAAKA,IAAUA,EAAMb,OAIda,EAAMO,OAAO,SAAUC,EAAKC,GAC/B,MAAOD,GAAIlB,OAAOL,MAAMyB,QAAQD,GAAOjE,EAAQiE,GAAOA,YAIjDlE,UAAU,SAAUyD,GAC7B,MAAKA,IAAUA,EAAMb,OAIda,EAAMO,OAAO,SAAUC,EAAKC,GAI/B,MAHIA,IACAD,EAAIF,KAAKG,GAEND,WAIFlE,eAAe,SAAU6B,EAAGC,GACrC,IAAKD,IAAMC,EAAG,QACd,KAAKD,EAAEgB,SAAWf,EAAEe,OAAQ,QAE5B,IAAIwB,GAAMvC,EAAEmC,OAAO,SAAUC,EAAKC,GAE9B,MADAD,GAAIC,IAAO,EACJD,MAGX,OAAOrC,GAAEoC,OAAO,SAAUC,EAAKC,GAM3B,MALIE,GAAIF,KACJD,EAAIF,KAAKG,SACFE,GAAIF,IAGRD,QAIFnE,OAAO,SAAUuE,EAAKC,GAC/B,IAAKD,GAA+C,oBAAxC7I,OAAOS,UAAUY,SAAS5B,KAAKoJ,GACvC,MAAOA,EAGX,IAAId,MAAWR,OAAOuB,GAAON,OAAO,SAAUC,EAAKM,GAC/C,MAAON,GAAIM,IAAQ,EAAMN,OAGzBO,IAOJ,OANAhJ,QAAOiJ,KAAKJ,GAAKK,QAAQ,SAAUH,GAC1BhB,EAAMgB,KACPC,EAAID,GAAQF,EAAIE,MAIjBC,GAKE3E,WAAW,SAAUwE,EAAKM,EAASC,EAAKnC,GAEjD,MADAA,GAAOC,MAAMzG,UAAU4I,MAAM5J,KAAK0H,UAAW,GACrC0B,EAA+B,kBAARA,GAAqBA,EAAIrB,MAAM4B,EAAKnC,GAAQ4B,EAA7DM,IA8HLrF,GA3HAM,oBAAoB,SAAUvE,GACvC,MAAOA,IAAQ,IAGNsE,cAAc,QAAdA,GAAwB5D,EAAQ6I,EAAKE,EAASC,GAEvD,GACIC,IAAYF,OAAeG,SAE3BC,EAAa,SAAUC,GACvB,MAAOH,GAASI,KAAK,SAAUnI,GAC3B,QAAKA,IACY,gBAAb,KAAOA,EAAP,YAAA6D,EAAO7D,KAAkBA,YAAaoI,QAC/BpI,EAAEqI,KAAKH,GAGXlI,EAAEJ,aAAesI,KAIhC,OAAc,OAAVpJ,EACOA,EACA2G,MAAMyB,QAAQpI,GACdA,EAjBC,SAAUQ,GAAO,MAAOA,IAAsB,gBAAf,KAAOA,EAAP,YAAAuE,EAAOvE,KAAqC,IAAjBA,EAAIgJ,UAAuC,WAArBzE,EAAOvE,EAAIiJ,QAAmD,WAA7B1E,EAAOvE,EAAIkJ,gBAkB5H1J,GACDA,EACkB,kBAAXA,GACP8D,EAAS9D,EAAQ,KAAM6I,GACL,gBAAlB,KAAO7I,EAAP,YAAA+E,EAAO/E,IACPP,OAAOiJ,KAAK1I,GAAQiI,OAAO,SAAU0B,EAAM5B,GAC9C,GAAI6B,GAAaZ,EAAUA,EAAU,IAAMjB,EAAMA,EAC7C8B,EAAuC,kBAAhB7J,GAAO+H,MAAyB/H,EAAO+H,GAAKlB,OACnEiD,GAAqBX,EAAWS,KAAgBC,CAWpD,OATIA,KAAiBV,EAAWS,IAC5BG,QAAQtG,KAAK,iBAAmBmG,EAAa,oMAI7CD,EAAK5B,GADL+B,EACYlG,EAAY5D,EAAO+H,GAAMc,EAAKE,EAASa,GAEvC5J,EAAO+H,GAEhB4B,OAGJ3J,GAIF2D,kBAAkB,WAC3B,MAAO,UAAUqG,GACb,MAAOA,GAAO3B,IAAI,SAAUhI,GACxB,MAAOZ,QAAOwK,OAAO5J,GACjB6J,KAAM7J,EAAE6J,KAAKjC,OAAO,SAAUkC,EAAMC,GAKhC,MAJe,OAAXA,EAAMC,GACNF,EAAKnC,KAAKoC,GAGPD,aAOdzG,eAAe,SAAU4G,GAClC,MAAO,UAASJ,GACZ,GAAIA,EAAKrD,QAAUyD,EACf,MAAOJ,EAMX,KAJA,GAAIK,IAAYL,EAAK,IACjB1C,EAAQ,EACRgD,EAAY9E,KAAK+E,MAAMP,EAAKrD,OAASyD,GAElC9C,EAAQ0C,EAAKrD,OAAS,GAAG,CAM5B,IAAK,GAJD6D,GACAC,EAFAC,GAAa,EAGbC,EAAWnF,KAAKoF,IAAItD,EAAQgD,EAAWN,EAAKrD,QAEvCkE,EAAoBvD,EAAOuD,EAAoBF,EAAUE,IAAqB,CACnF,GAAIC,GAAiBd,EAAK1C,EACtBwD,GAAeX,MACVO,GAAcI,EAAeX,EAAIK,EAAML,KACxCK,EAAQM,KAEPJ,GAAcI,EAAeX,EAAIM,EAAMN,KACxCM,EAAQK,GAEZJ,GAAa,GAIjBA,IACID,EAAMnF,IAAMkF,EAAMlF,EAClB+E,EAASvC,KAAK2C,GACPA,EAAMnF,EAAIkF,EAAMlF,GACvB+E,EAASvC,KAAK2C,GACdJ,EAASvC,KAAK0C,IACPC,EAAMnF,EAAIkF,EAAMlF,IACvB+E,EAASvC,KAAK0C,GACdH,EAASvC,KAAK2C,KAItBnD,GAAS9B,KAAKK,IAAI,EAAGL,KAAKoF,IAAIZ,EAAKrD,OAAS,EAAIW,EAAOgD,IAG3D,MADAD,GAASvC,KAAKkC,EAAKA,EAAKrD,OAAS,IAC1B0D,IAIF9G,OAAO,SAAUwH,GACtBlB,SAAWA,QAAQmB,KACnBnB,QAAQmB,IAAID,IAIPzH,eAAe,SAAU2H,GAClC,OAAQA,EAAG,GAAIA,EAAGA,EAAGtE,OAAO,KAGnBtD,iBAAiB,SAAU6H,EAAQC,GAC5C,MAAOjF,GAASV,KAAK+B,KAAKpB,EAAS+E,EAAQC,IAAYA,KAG9C/H,YAAU,SAAU3C,EAAOyC,GACpC,MAAOiD,GAASX,KAAK+B,KAAKrB,EAASzF,EAAO+E,KAAKC,IAAI,GAAIvC,KAAWsC,KAAKC,IAAI,GAAIvC,KAGtEC,UAAQ,SAAU1C,GAC3B,MAAOA,GAAQA,EAAQ,GAIdyC,WAAS,SAAUzC,GAC5B,GAAI2K,GAAM5F,KAAK6F,IAAI5K,GAAOG,WACtB0K,EAAQF,EAAIG,MAAM,IACtB,OAAqB,KAAjBD,EAAM3E,OACCnB,KAAKK,IAAI,EAAGyF,EAAM,IAAM,GAEnCA,EAAQF,EAAIG,MAAM,KACXD,EAAM,GAAG3E,SAGP1D,cAAY,SAAUxC,GAC/B,GAAI2K,GAAM5F,KAAK6F,IAAI5K,GAAOG,WACtB0K,EAAQF,EAAIG,MAAM,IACtB,OAAqB,KAAjBD,EAAM3E,OACC2E,EAAM,GAAG3E,QAEpB2E,EAAQF,EAAIG,MAAM,KACG,IAAjBD,EAAM3E,QACEnB,KAAKoF,IAAI,EAAGU,EAAM,IAEvB,IAGEtI,UAAQ,SAAUvC,GAC3B,MAAO+E,MAAKwF,IAAIvK,GAAS+E,KAAKgG,MA6FrBnJ,GA1FAU,QAAQ,SAAU0I,EAAK1M,EAAG2M,GACnC,MAAOD,GAAMC,EAAIA,EAAID,EAAM1M,EAAIA,EAAI0M,GAG1B3I,YAAY,SAAU2I,EAAKE,GACpC,MAAOF,GAAME,EAAMA,EAAMF,GAGhB5I,aAAa,SAAU4I,EAAKG,GACrC,MAAOH,GAAMG,EAAOA,EAAOH,GAGlB7I,WAAW,SAAUiJ,GAC9B,MAAOA,GAAMrG,KAAKsG,GAAK,KAGdnJ,WAAW,SAAUoJ,GAC9B,MAAa,KAANA,EAAYvG,KAAKsG,IAGfpJ,cAAc,SAAUsJ,EAAOD,GACxC,OACIzG,EAAG0G,EAAM1G,EAAIE,KAAKyG,IAAIF,GAAOC,EAAM7B,EAAI3E,KAAK0G,IAAIH,GAChD5B,EAAG6B,EAAM1G,EAAIE,KAAK0G,IAAIH,GAAOC,EAAM7B,EAAI3E,KAAKyG,IAAIF,KAI3CtJ,iBAAiB,SAAUuJ,EAAOG,GAC3C,OACI7G,EAAG0G,EAAM1G,EAAI6G,EAAM7G,EACnB6E,EAAG6B,EAAM7B,EAAIgC,EAAMhC,IAId3H,mBAAmB,SAAU4J,GAStC,IAAK,GARDC,MACAzM,EAAIwM,EAAQzF,OACZ2F,EAAQ,EACRC,EAAQ,EACRC,EAAS,EACTC,EAAS,EACTC,EAAS,EAEJ5N,EAAI,EAAGA,EAAIc,EAAGd,IACnBwN,GAASF,EAAQtN,GAAGwG,EACpBiH,GAASH,EAAQtN,GAAGqL,EACpBqC,GAAWJ,EAAQtN,GAAGwG,EAAE8G,EAAQtN,GAAGqL,EACnCsC,GAAWL,EAAQtN,GAAGwG,EAAE8G,EAAQtN,GAAGwG,EACnCoH,GAAWN,EAAQtN,GAAGqL,EAAEiC,EAAQtN,GAAGqL,CAOvC,OAJAkC,GAAGM,OAAS/M,EAAI4M,EAASF,EAAQC,IAAU3M,EAAE6M,EAASH,EAAQA,GAC9DD,EAAGO,WAAaL,EAAQF,EAAGM,MAAQL,GAAO1M,EAC1CyM,EAAGQ,GAAKrH,KAAKC,KAAK7F,EAAE4M,EAASF,EAAMC,GAAO/G,KAAKsH,MAAMlN,EAAE6M,EAAOH,EAAMA,IAAQ1M,EAAE8M,EAAOH,EAAMA,IAAQ,GAE5FF,GAGE9J,YAAY,SAAUkJ,GAE/B,MAAOjG,MAAK+B,KAAKkE,EAAY,GAANA,IAYdnJ,kBAAkB,SAAUyK,GACrC,GAEIC,GAAK5F,EAFLiE,EAAM7F,KAAK6F,IAAI0B,GACfE,EAAO5B,IAAQ0B,EAAM,GAAK,CAE9B,IAAI1B,GAAO,EACP2B,EAAMxH,KAAK+E,MAAMvH,EAAMqI,IACvBjE,EAAO4F,GAAO,EAAI,EAAIxH,KAAKC,IAAI,GAAIuH,EAAM,OACtC,CAGHA,EADU3B,EAAI6B,gBAAgBC,QAAQ,aAAc,IAC1CxG,OACVS,EAAOlB,EAAkB,IAAR8G,EAAY,EAAI,GAAKxH,KAAKC,IAAI,IAAKuH,IAIxD,MAAOC,GADG5J,EAAegI,EAAKjE,IAIrB/E,aAAa,SAAUuI,EAAK/E,EAAKuH,EAAOC,GAIjD,GAAIzC,EAAM/E,EACN,OACI+E,IAAKA,EACL/E,IAAK+E,EACL0C,cAIR,IAAIC,GAAO1H,EAAM,GAAK+E,EAAM,EACxB4C,EAAU3H,CACV0H,KACA1H,GAAO+E,EACPA,GAAO4C,GAIXJ,EAAiB,MAATA,EAAgB,EAAI5H,KAAKK,IAAI,EAAGuH,GAGpChJ,EAASgJ,KAWTA,EAAQlJ,EAAMkJ,EAAe,KAARA,GAChBtG,OAAO5C,EAAMkJ,EAAQ,EAAiB,KAAbA,EAAQ,IAAY,KAGnC,MAAfC,IACAA,EAAsB,IAARzC,GAAa4C,EAAU,EAGzC,IAAIC,EAGIA,GAFJ7C,IAAQ/E,EACI,IAARA,GACY,EAED7C,EAAMwC,KAAK6F,IAAIxF,IAG3BwH,EACYrK,EAAMwC,KAAK6F,IAAIxF,IAAQ,GAEvB7C,EAAM6C,EAAI+E,GAAO,EAIpC,IA+DI8C,GACAC,EAhEAC,IAAoBH,GAAY,EAAItK,EAAMsK,GAAYjI,KAAK+E,MAAMkD,IAOjEI,EAAe,SAAUpN,EAAOqN,GAChCA,EAAW,MAANA,EAAaA,EAAK,CAEvB,OAAO3H,GADO,SAAU4H,GAAK,MAAOA,IAAK,EAAIvI,KAAK+B,KAAKwG,GAAKvI,KAAK+E,MAAMwD,IAC/CtN,EAAQ+E,KAAKC,IAAI,GAAIqI,IAAMtI,KAAKC,IAAI,GAAIqI,KAGhEE,EAAO,SAAUZ,GACjB,GAAIa,GAAoBJ,EAAarI,KAAKK,IAAI,GAAI+E,GAAOwC,EAAOQ,EAAkB,GAE9EM,EAAkBtD,IAAQ/E,GAAc,IAARA,EAAY,EAC1CgI,EAAahI,EAAMoI,EAAkBL,GAEvCO,EAAO,CACX,KAAKd,GAAezC,IAAQ/E,EAAK,CAC7B,GAEIuI,GAFAC,EAAQzD,EAAMqD,EACd1I,EAAMrC,EAAOmL,EAGbD,GADAC,EAAQ,GACU7I,KAAK+E,MAAMvH,EAAMqL,IAElB7I,KAAKK,IAAI,EAAGL,KAAK6F,IAAI9F,EAAI,IAG9C4I,GAAQ/K,GAASiL,EAAOD,GACxBD,EAAgB,IAATA,EAAa,EAAIA,EAa5B,IAAK,GARDG,GAAkBH,EAElBI,EAAWV,EAAa1H,EAASF,EAASiI,EAAiBI,GAAiBlB,GAAQQ,GACpFY,EAAWvI,EAASqI,EAAiBL,GACrCQ,EAAW3I,EAAS0I,EAAUtI,EAASkH,EAAOmB,IAC9CG,GAAeF,GACfG,EAAWH,EAEN7G,EAAE,EAAGA,EAAIyF,EAAOzF,IAAK,CAC1B,GAAIiH,GAAU9I,EAAS6I,EAAUJ,EAEjCG,GAAY5G,KAAK8G,GACjBD,EAAWC,EAQf,MAJIpJ,MAAK6F,IAAIsD,EAAWF,GAAY,OAChCC,EAAY5G,KAAK2G,IAIjB7D,IAAK2C,GAAQkB,EAAWD,EACxB3I,IAAK0H,GAAQiB,EAAWC,EACxBnB,WAAYoB,EAAYvG,IAAI,SAAUxC,GAAK,MAAO4H,IAAQ5H,EAAIA,KActE,OAP0ByH,GAAMjE,KAAK,SAAUiE,GAG3C,MAFAO,GAASK,EAAKZ,GACdM,EAAgBA,GAAiBC,EAC1BA,EAAOL,WAAWuB,MAAM,SAAUC,GACrC,MAAOA,KAAStJ,KAAKQ,MAAM8I,OAGNnB,EAASD,IAyD7BxL,GAtDAE,qBAAqB,SAAU2M,EAAQnE,EAAK/E,EAAKuH,EAAO4B,GACjE,GAAIC,GAAiB,MAAPrE,EAAcA,EAAMpF,KAAKoF,IAAI7D,MAAM,KAAMgI,GACnDG,EAAiB,MAAPrJ,EAAcA,EAAML,KAAKK,IAAIkB,MAAM,KAAMgI,EACvD3B,GAAiB,MAATA,EAAgB,EAAIA,CAE5B,IAAI+B,GAAQ9M,EAAW4M,EAASC,EAAS9B,EAAO4B,EAMhD,OAAW,OAAPpE,GAAsB,MAAP/E,GACPsJ,EAAMvE,IAAKuE,EAAMtJ,KAGlB,MAAP+E,GACQpF,KAAKoF,IAAIuE,EAAMvE,IAAK/E,GAAMA,GAG3B,MAAPA,GACQ+E,EAAKpF,KAAKK,IAAI+E,EAAKuE,EAAMtJ,OAG7B+E,EAAK/E,IAGJ1D,YAAY,SAAUyI,EAAK/E,EAAKuH,EAAO4B,EAAYD,GAC5D3B,EAAiB,MAATA,EAAgB,EAAIA,EAC5BxC,EAAa,MAAPA,EAAcA,EAAMoE,EAAaxJ,KAAKoF,IAAI,EAAGmE,EAAO,IAAMA,EAAO,GACvElJ,EAAa,MAAPA,EAAcA,EAAMkJ,EAAO,EAEjC,IAAII,GAAQ9M,EAAWuI,EAAK/E,EAAKuH,EAAO4B,GACpC1B,EAAa6B,EAAM7B,UAmBvB,OAhBI1C,KAAQmE,EAAO,KACfzB,EAAWxF,KAAK8C,GAChB0C,EAAaA,EAAW8B,OAAO,SAASN,GACpC,MAAOA,IAAQlE,KAInB/E,IAAQkJ,EAAO,KACfzB,EAAWxF,KAAKjC,GAChByH,EAAaA,EAAW8B,OAAO,SAASN,GACpC,MAAOA,IAAQjJ,KAIvByH,EAAW+B,KAAK,SAAU1J,EAAGC,GAAK,MAAOD,GAAIC,IAEtC3B,EAAKqJ,IAGHpL,oBAAoB,SAAUkL,GACvC,GACIrJ,GAAU,SAAU/C,GAAK,QAASA,EACtC,OAAOoM,GAAMgC,OAAOrL,GAASoE,IAAIlB,QAAQkB,IAAI,SAAUhJ,GACnD,MAAKA,GAGE4C,EAAW5C,EAAG,gBAAgBmQ,MAASC,GAFnCA,OA+CNxN,GAzCAE,eAAe,SAAUmL,EAAOoC,EAAgB3G,GACzD,GAAI4G,GAAavN,EAAkBkL,EAAMjF,IAAIqH,IACzCE,EAA2B7G,EAAQ8G,MAAMC,UAAYH,EAAW,GAAK,EAAIA,EAAWrC,EAAMzG,OAAS,GAAK,CAE5G,OADsBnF,GAAIiO,IACAC,GAGjB1N,kBAAkB,SAAUoL,EAAOoC,EAAgB3G,GA8B5D,MA3BA,YAOI,IANA,GAAI4G,GAAavN,EAAkBkL,EAAMjF,IAAIqH,IACzCK,EAAkBrO,EAAIiO,GACtBC,EAA2B7G,EAAQ8G,MAAMC,UAAYH,EAAW,GAAK,EAAIA,EAAWrC,EAAMzG,OAAS,GAAK,EACxGmJ,EAAO,EACPC,EAAY,SAAU5Q,EAAGL,GAAK,MAAQA,GAAIgR,GAAU,GACpDE,EAAa5C,EACXyC,EAAkBH,GAAiD,IAAtBM,EAAWrJ,QAC1DmJ,IACAE,EAAa5C,EAAMgC,OAAOW,GAC1BF,EAAkBrO,EAAIU,EAAkB8N,EAAW7H,IAAIqH,IAG3D,OAAOQ,OAkBFjO,aAAa,SAAUkO,EAAMC,GACtC,GAAIC,GAAOC,SAASC,qBAAqB,QAAQ,GAC7CC,EAAUF,SAASG,cAAc,QACjCC,EAAQJ,SAASG,cAAc,OACnCD,GAAQG,UAAY,gBACpBD,EAAMjH,MAAMmH,SAAW,WACvBF,EAAMjH,MAAM+F,MAAQ,OACpBkB,EAAMjH,MAAMoH,OAAS,OACrBH,EAAMjH,MAAMqH,WAAa,SACzBJ,EAAMjH,MAAMsH,WAAa,OACzBL,EAAMjH,MAAMuH,WAAa,SAEzBN,EAAMO,UAAYd,EAClBO,EAAMC,UAAYP,EAAI/C,QAAQ,MAAO,KACrCmD,EAAQU,YAAYR,GACpBL,EAAKa,YAAYV,EACjB,IAAI/H,IAAQ+G,MAAOkB,EAAMS,YAAaN,OAAQH,EAAMU,aAGpD,OAFAZ,GAAQa,YAAYX,GACpBL,EAAKgB,YAAYb,GACV/H,IAmBE3G,GAhBAE,WAAW,SAASsP,EAAIC,GAEjC,OADWD,EAAGE,UAAYD,EAAGC,WACtBC,OAKE1P,cAAc,SAAU2P,EAAQC,GAGzC,MAFsB,gBAAZD,KAAsBA,GAAUA,IACpB,gBAAZC,KAAsBA,GAAUA,IACtCD,GAAWA,EAAO7K,OAClB8K,GAAWA,EAAO9K,UAEZG,OAAO0K,EAAQC,GAAQpC,KAAK,SAAU1J,EAAEC,GAAK,MAAOD,GAAEC,IAF3B4L,EADAC,GAM5B7P,sBAAsB,SAAU8P,GACzC,MAAOjL,OAAMyB,QAAQwJ,IAAcA,EAAU7C,MAAM,SAAU3O,GAAK,MAAOA,GAAED,eAAe,MAAQC,EAAED,eAAe,SAG1G0B,0BAAwB,SAAUqI,GAC3C,GAAI2H,GAAmBlL,MAAMyB,QAAQ8B,IAASzF,EAASyF,EAAK,GAC5D,KAAK2H,EACD,OAAO,CAGX,IAAIC,GAAwB5H,EAAK6E,MAAM,SAAU1P,GAAK,MAAOA,GAAEc,eAAe,UAC1E4R,EAAyB7H,EAAK6E,MAAM,SAAU1P,GAAK,MAAOA,GAAEc,eAAe,UAC3E6R,EAAuBH,GAAoBC,GAAyBhQ,EAAoBoI,EAAK,GAAGA,KAEpG,OAAO2H,IAAoBC,GAAyBC,GAA0BC,GA6ErEtQ,GA1EAE,kBAAkB,SAAUsI,EAAM+H,GAE3C,QAASC,GAAOrM,EAAGC,GAAK,MAAOD,GAAEL,EAAIM,EAAEN,EACvC,QAAS2M,GAAOC,EAAK9S,GACjB,GAAID,IACAC,KAAMA,EACN4K,KAAMkI,EAAI/J,IAAI,SAAUhJ,EAAGL,GACvB,GAAIqT,GAAY,MAALhT,GAAaA,EAAEc,eAAe,KACrCwL,EAAM,SAAUsC,GAAK,MAAY,OAALA,EAAYA,EAAI,KAGhD,OAAOoE,GAAO5S,OAAOwK,OAAO5K,GAAKmG,EAAGnG,EAAEmG,EAAG6E,EAAGsB,EAAItM,EAAEgL,MAAU7E,EAD3C,SAAUxG,GAAK,MAAQsT,GAAqC,MAAjBL,EAAWjT,GAAa,KAAOiT,EAAWjT,GAAK,GAAnDA,GACkBA,GAAIqL,EAAGsB,EAAItM,MAQ7F,OAJKiT,IACDjT,EAAE6K,KAAKqF,KAAK2C,GAGT7S,EAlBX,GAAIiT,MAAmBL,IAActL,MAAMyB,QAAQ6J,IAqB/CM,EAAoBzQ,EAAoBoI,EAI5C,OAH0BrI,GAAsBqI,GAIrCA,EAIPqI,GACKD,GAAepI,EAAKqF,KAAK2C,KACpB5S,KAAM,WAAY4K,KAAMA,KAIlCvD,MAAMyB,QAAQ8B,GACTzF,EAASyF,EAAK,KAAOA,EAAK,GAAG/J,eAAe,SAAYwG,MAAMyB,QAAQ8B,EAAK,IAErEA,EAAK7B,IAAI,SAAUhJ,EAAGL,GAAK,MAAOmT,GAAO9S,EAAE6K,KAAO7K,EAAE6K,KAAO7K,EAAGA,EAAEC,KAAOD,EAAEC,KAAO,WAAaN,EAAE,OAG9FmT,EAAOjI,EAAM,aAKtBA,GAOEvI,cAAc,WACvB,GAAI6Q,GAAQC,UAAGC,OACVF,QACAG,OAAO,SAAUtT,GAAK,MAAOA,GAAE6K,MAapC,OAFAsI,GAAMI,IATM,WACR,GAAIC,KACJ,OAAO,UAAUxT,EAAGyT,EAAIzI,GACpBhL,EAAEyT,GAAiB,MAAZD,EAAIxT,EAAEmG,GAAaqN,EAAIxT,EAAEmG,GAAK,EACrCnG,EAAEgL,EAAIA,EACNwI,EAAIxT,EAAEmG,IAAMqN,EAAIxT,EAAEmG,IAAM,GAAK6E,OAM9BmI,GAGE9Q,MAAM,SAAUgG,GACzB,MAAOA,GAAMO,OAAO,SAAUC,EAAKC,GAAO,MAAOD,IAAOC,GAAQ,IAGvD1G,iBAAgB,SAAUsE,EAAKkJ,GACxC,GAAIrH,GAAMqH,EAAOpI,OACb8L,IAEJ,IAAI5M,GAAO6B,EAAK,MAAOqH,GAAOnG,OAM9B,KAFA,GAAIiK,GAAcrN,KAAK+B,KAAMG,EAAQ7B,GACjCoC,EAAM,EACHA,EAAMP,GACT+K,EAAO3K,KAAKiH,EAAO9G,IACnBA,GAAO4K,CAGX,OAAOJ,IAGEnR,wBAAwB,SAAU0I,GAI3C,MAAOvD,OAAMyB,QAAQ8B,IAChBzF,EAASyF,EAAK,KAAOA,EAAK,GAAG/J,eAAe,SAAWwG,MAAMyB,QAAQ8B,EAAK,GAAGA,OAC9EvD,MAAMyB,QAAQ8B,EAAK,KAGd3I,YAAY,SAAUyR,GAC/B,MAAOP,WAAGQ,OAAOD,GAAU,GAAG,IAGrB1R,WAAW,SAAUwG,EAAI2B,GAClC,GAAI3B,EAAJ,CACA,GAAIoL,GAAqB,gBAAPpL,GAAkBpJ,KAAK6C,UAAUuG,GAAMA,EAErDqL,EAASD,EAAKE,aAAeF,EAAKxJ,cAAc2J,YAAYC,iBAAiBJ,EAAM,MAAQA,EAAKzJ,KAEpG,OAAOA,GAAQ0J,EAAO1J,GAAS0J,IAGtB9R,cAAc,SAAUkS,GACjC,GAeIC,GAfkB,WAClB,GAAID,EAAQH,aACR,MAAOG,GAAQH,YAMnB,KADA,GAAI7L,GAAIgM,EACFhM,GAAmB,QAAdA,EAAEkM,SACTlM,EAAIA,EAAEmM,UAGV,OAAOnM,MAGuBoM,wBAC9BC,EAAOL,EAAQI,uBAEnB,QAAQC,EAAKC,KAAOL,EAAUK,KAAOD,EAAKpE,MAAM,EAAGoE,EAAKE,IAAMN,EAAUM,IAAMF,EAAK/C,OAAO,IAGjFzP,UAAU,SAAU6J,GAC1BlB,SAAWA,QAAQmB,KAClBnB,QAAQmB,IAAI,YAAcD,MF0JL/L,KAAKd,EAASS,EAAoB,KAIzD,SAAUR,EAAQD,GG5iCxBC,EAAAD,QAAAO,GHkjCM,SAAUN,EAAQD,EAASS,GAEjC,YAwBA,SAAS0B,GAAuBC,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,GI5/BxE,QAASuT,GAAShL,GAG7B,MAFArK,MAAKsV,KAAKjL,GAEHrK,KJo+BXe,OAAOC,eAAetB,EAAS,cAC3BuC,OAAO,IAEXvC,EAAQqC,QI1+BgBsT,CAhFxB,IAAA1O,GAAAxG,EAAA,GJ8jCIyG,EAAM/E,EAAuB8E,GI7jCjC4O,EAAApV,EAAA,IJikCIqV,EAA2B3T,EAAuB0T,GIhkCtDE,EAAAtV,EAAA,GAAYuV,EJwkCZ,SAAiC5T,GAAO,GAAIA,GAAOA,EAAIT,WAAc,MAAOS,EAAc,IAAI6T,KAAa,IAAW,MAAP7T,EAAe,IAAK,GAAIuH,KAAOvH,GAAWf,OAAOS,UAAUC,eAAejB,KAAKsB,EAAKuH,KAAMsM,EAAOtM,GAAOvH,EAAIuH,GAAgC,OAAtBsM,GAAO5T,QAAUD,EAAY6T,GAJhOF,GInkClCG,EAAAzV,EAAA,GAEIiG,GACA+K,OACI0E,YACIC,QAAQ,EAERC,SAAU,KAGdC,aAAc,IAEdC,cAAe,EAAI,cAEnBnF,UAAO5O,GAEPiQ,WAAQjQ,GAERgU,QACId,IAAK,EACLe,MAAO,EACPC,OAAQ,EACRjB,KAAM,GAGVpE,SACIqE,IAAK,KACLe,MAAO,KACPC,OAAQ,KACRjB,KAAM,MAEVkB,iBACID,OAAQ,EACRjB,KAAM,GAGVmB,cAAc,EAEdlF,cAAWlP,GAEXqU,eAAYrU,GAEZsU,YAAStU,GAETuU,aAAUvU,IAGdwU,SAGAC,SAGAC,WA6BJvB,GAAQwB,QAAU,QAClBxB,EAAQyB,cAAgBA,gBACxBzB,EAAQ0B,cAAgBA,gBACxB1B,EAAQ2B,MAAQtB,EAChBL,EAAQ4B,QAAUA,UAClB5B,EAAQ6B,KAAOA,OAsBf7B,EAAQ8B,OAAS,SAAUC,EAAUC,GAIjC,QAASC,GAAW9L,GAChB,IAAIA,IAASA,EAAKrD,OAAQ,QAEvBqD,GAAK,GAAGA,MACPA,EAAKvB,QAAQqN,EAGjB,IAAIC,GAAa7B,EAAI3P,SAASyF,EAAK,KAAOkK,EAAI7P,OAAO2F,EAAK,GAAG1E,GACzD0Q,EAAW,SAAUrQ,EAAGC,GAAK,MAAOD,GAAEL,EAAIM,EAAEN,EAKhD,OAJGyQ,IACC/L,EAAKqF,KAAK2G,GAGPhM,EAfX,GAAwB,kBAAb6L,GAAyB,KAAM,IAAII,OAAM,+BAAiCL,EAAW,iBAkBhG/B,GAAQ7T,UAAU4V,GAAY,SAAU5L,EAAMnB,GAC1C,GAAIqN,KACJA,GAAON,GAAY/M,KACnB,IAAIsN,GACAC,GAAU,CAmBd,OAjBKpM,KACDA,EAAOxL,KAAK6X,aACZD,GAAU,GAGdN,EAAW9L,GACXmM,EAAM,GAAIG,WAAuBtM,EAAMkM,EAAQN,EAAUC,EAAUrX,MACnE2X,EAAIC,QAAUA,EACd5X,KAAK+X,gBAAgBzO,KAAKqO,GAO1B3X,KAAK6X,SAAWrM,EAETxL,MAUXqV,EAAQ7T,UAAU4V,GAAUC,SAAWA,GAkC3ChC,EAAQ2C,OAAS,SAAUZ,EAAUa,GACjC,GAAIC,GAAO,WACP,GAAIC,GAAgBF,CAiBpB,OAhBwC,kBAA7BA,KACPE,EAAgBpX,OAAOqX,OAAOH,GAC9BE,EAAgBF,EAAyB1P,MAAM4P,EAAejQ,YAIlEnH,OAAOwK,OAAOvL,KAAM0V,EAAIrQ,KAAK8S,EAAe,SAEzCA,EAAc7C,MACb6C,EAAc7C,KAAK9U,KAAKR,KAAMA,KAAKqY,iBAKvCrY,KAAKsY,SAAShP,KAAK8N,GAEZpX,KAKX,OAFAqV,GAAQ7T,UAAU4V,GAAYc,EAEvBlY,MAGXqV,EAAQ7T,UAAYT,OAAOwK,OAAO8J,EAAQ7T,WACtCuW,oBAAiB7V,GAEjBqW,kBAAerW,GAEfoW,aAAUpW,GAGVoT,KAAM,SAAUjL,GAUZ,MANArK,MAAKqY,gBAAkBhO,MAEvBrK,KAAKuY,iBACLvY,KAAK+X,mBACL/X,KAAKsY,YAEEtY,MAGXwY,eAAgB,WAGZ,GAAIC,GAAaC,SAAShD,EAAI9S,SAAS5C,KAAKqK,QAAQjB,GAAI,UAAY,EAAG,IACnEuP,EAAcD,SAAShD,EAAI9S,SAAS5C,KAAKqK,QAAQjB,GAAI,iBAAmB,EAAG,IAC3EwP,EAAeF,SAAShD,EAAI9S,SAAS5C,KAAKqK,QAAQjB,GAAI,kBAAoB,EAAG,IAE7E0H,EAAQ2H,EAAaG,EAAeD,CAExC,OAAO3Y,MAAKqK,QAAQjB,GAAM0H,GAAS9Q,KAAKqK,QAAQ8G,MAAM6E,aAAgBhW,KAAKqK,QAAQ8G,MAAM6E,cAG7F6C,gBAAiB,WAEb,GAAIC,GAAcJ,SAAShD,EAAI9S,SAAS5C,KAAKqK,QAAQjB,GAAI,WAAa,EAAG,IACrE2P,EAAaL,SAAShD,EAAI9S,SAAS5C,KAAKqK,QAAQjB,GAAI,gBAAkB,EAAG,IACzE4P,EAAgBN,SAAShD,EAAI9S,SAAS5C,KAAKqK,QAAQjB,GAAI,mBAAqB,EAAG,IAC/E+I,EAAS2G,EAAcC,EAAaC,EAEpCC,EAAkBjZ,KAAKqK,QAAQjB,GAAK+I,MAASjQ,GAC7CgX,EAAYlZ,KAAKqK,QAAQ8G,MAAML,MAC/BqI,EAAQnZ,KAAKqK,QAAQ8G,MAAMiI,QAAUpZ,KAAKqK,QAAQ8G,MAAM8E,aAE5D,OAASgD,IAAmBA,EAAkB,EAAKA,EAAkBjS,KAAKQ,MAAM0R,EAAYC,IAGhGE,YAAa,WACT,GAAIhP,GAAUrK,KAAKqK,OAEnBrK,MAAKsZ,gBAELtZ,KAAKuZ,qBAELlP,EAAQ8G,MAAML,MAAQzG,EAAQ8G,MAAML,OAAS9Q,KAAKwY,iBAClDnO,EAAQ8G,MAAMgB,OAAS9H,EAAQ8G,MAAMgB,QAAUnS,KAAK6Y,kBAEpD7Y,KAAKqK,QAAUqL,EAAIvP,MAAMkE,GACrB8G,OACIC,UAAW/G,EAAQ8G,MAAML,MAAQzG,EAAQ8G,MAAM+E,OAAOf,KAAO9K,EAAQ8G,MAAM+E,OAAOC,MAAQ9L,EAAQ8G,MAAMkF,gBAAgBlB,KAAO9K,EAAQ8G,MAAMJ,QAAQoF,MACrJI,WAAYlM,EAAQ8G,MAAMgB,OAAS9H,EAAQ8G,MAAM+E,OAAOd,IAAM/K,EAAQ8G,MAAM+E,OAAOE,OAAS/L,EAAQ8G,MAAMJ,QAAQqE,IAAM/K,EAAQ8G,MAAMkF,gBAAgBD,OACtJK,SAAUpM,EAAQ8G,MAAM+E,OAAOf,KAAO9K,EAAQ8G,MAAMkF,gBAAgBlB,KACpEqB,QAASnM,EAAQ8G,MAAM+E,OAAOd,IAAM/K,EAAQ8G,MAAMJ,QAAQqE,QAI9DpV,KAAKqK,QAAQ8G,MAAMC,WAAa,GAAKpR,KAAKqK,QAAQ8G,MAAMoF,YAAc,KACtElL,QAAQtG,KAAK,0GAA4GsF,EAAQ8G,MAAML,MACnI,aAAezG,EAAQ8G,MAAMgB,OAC7B,mBAAqB9H,EAAQ8G,MAAMJ,QAAQoE,KAC3C,oBAAsB9K,EAAQ8G,MAAMJ,QAAQoF,MAC5C,kBAAoB9L,EAAQ8G,MAAMJ,QAAQqE,IAC1C,qBAAuB/K,EAAQ8G,MAAMJ,QAAQqF,QAEjDpW,KAAKqK,QAAQ8G,MAAMC,UAAYpR,KAAKqK,QAAQ8G,MAAMC,UAAY,EAAI,EAAIpR,KAAKqK,QAAQ8G,MAAMC,UACzFpR,KAAKqK,QAAQ8G,MAAMoF,WAAavW,KAAKqK,QAAQ8G,MAAMoF,WAAa,EAAI,EAAIvW,KAAKqK,QAAQ8G,MAAMoF,aAInG+C,cAAe,WAEX,MAAOtZ,OAGXuZ,mBAAoB,WAEhB,MAAOvZ,OAGXwZ,eAAgB,WACZ,GAAIC,GAAc/D,EAAIvP,SAAUC,GAC5BsT,EAAoB,SAAUC,GAAOjE,EAAIvP,MAAMsT,EAAaE,IAC5DC,EAAgB,SAAUjC,GAAOjC,EAAIvP,MAAMsT,EAAa9B,EAAIN,SAASjR,UAEzEpG,MAAKuY,cAActO,QAAQyP,GAC3B1Z,KAAK+X,gBAAgB9N,QAAQ2P,EAE7B,IAAIC,IAAa,OAAQ,YAAa,KAAM,aAAc,eAAgB,YAAa,YAAa,WAAY,aAAc,aAAc,eAGxIF,EAAMjE,EAAIvP,SAAUsT,EAAazZ,KAAKqY,gBAC1CrY,MAAKqK,QAAUqL,EAAIxQ,YAAYyU,EAAK3Z,MAAQwK,KAAMqP,EAAUvR,OAAOtI,KAAKqY,gBAAgB7N,SAsB5FsP,cAAe,SAAUzP,GAErB,MADArK,MAAKqY,gBAAkB3C,EAAIvP,SAAUnG,KAAKqY,gBAAiBhO,GACpDrK,MAGX+Z,WAAY,WAGR,MAFA/Z,MAAKga,WAEEha,MAeXia,OAAQ,WASJ,MARAja,MAAKwZ,iBAELxZ,KAAKqZ,cAELrZ,KAAK+Z,aAEL/Z,KAAKka,uBAEEla,MAwBXma,OAAQ,SAASrJ,EAAOqB,GAiBpB,MAfInS,MAAKoa,WACLpa,KAAKoa,UAAUrP,MAAM,SAAU,SAE5B/K,MAAKqK,QAAQ8G,MAAML,YACnB9Q,MAAKqK,QAAQ8G,MAAMgB,aACnBnS,MAAKqK,QAAQ8G,MAAMC,gBACnBpR,MAAKqK,QAAQ8G,MAAMoF,iBACnBvW,MAAKqK,QAAQ8G,MAAMsF,eACnBzW,MAAKqK,QAAQ8G,MAAMqF,QAEtB1F,IACA9Q,KAAKqK,QAAQ8G,MAAML,MAAQA,GAE3BqB,IACAnS,KAAKqK,QAAQ8G,MAAMgB,OAASA,GACzBnS,MAGXqa,OAAQ,WAEJ,MADAra,MAAKqZ,cACErZ,MAGXga,SAAU,WAEN,GAAIM,GAAWta,KAAKqK,QAAQ8G,KAwB5B,OAtBAnR,MAAKoa,UAAYrG,UAAGQ,OAAOvU,KAAKqK,QAAQjB,IAExCpJ,KAAKoa,UAAUG,KAAK,QAAS,2DAEzBva,KAAKwa,KAULxa,KAAKwa,IACAD,KAAK,YAAa,aAAeD,EAASpE,OAAOf,KAAO,IAAMmF,EAASpE,OAAOd,IAAM,KAEzFrB,UAAGQ,OAAOvU,KAAKwa,IAAIC,OAAOzF,YACrBuF,KAAK,UAAW,OAASD,EAASxJ,MAAQ,IAAMwJ,EAASnI,QACzDoI,KAAK,SAAUD,EAASnI,SAd7BnS,KAAKwa,IAAMxa,KAAKoa,UACXM,OAAO,OACPH,KAAK,UAAW,OAASD,EAASxJ,MAAQ,IAAMwJ,EAASnI,QACzDoI,KAAK,sBAAuB,YAC5BA,KAAK,QAAS,iBACdA,KAAK,SAAUD,EAASnI,QACxBuI,OAAO,KACHH,KAAK,YAAa,aAAeD,EAASpE,OAAOf,KAAO,IAAMmF,EAASpE,OAAOd,IAAM,KAU1FpV,MAGX2a,yBAA0B,SAAUhD,EAAKiD,GACrC,MAAO5a,MAAKwa,IAAIE,OAAO,KAClBH,KAAK,SAAUK,GACfL,KAAK,WAAY5C,EAAInP,OAG9B0R,qBAAsB,WAclB,MAZAla,MAAK+X,gBAAgB9N,QAAQ,SAAU4Q,EAAe/R,GAClD,GAAI8R,GAAK9R,EAAQ,EACbgS,EAAQD,EAAcC,OAAS9a,KAAK2a,yBAAyBE,EAAeD,GAC5EjB,EAAMjE,EAAIvP,SAAUnG,KAAKqK,QAASwQ,EAAcxQ,QAEpDyQ,GAAMP,KAAK,YAAa,aAAeva,KAAKqK,QAAQ8G,MAAMkF,gBAAgBlB,KAAO,KAAOnV,KAAKqK,QAAQ8G,MAAMJ,QAAQqE,KAAO,GAAK,KAC/HyF,EAAcC,MAAQA,EACtBD,EAAcE,OAAS/a,KACvB6a,EAAcG,cAAcrB,GAC5BkB,EAAcZ,OAAOa,EAAOnB,EAAK3Z,OACnCib,KAAKjb,OAEAA,MAaXkb,kBAAmB,SAAUC,GACzBA,EAAqBlT,MAAMyB,QAAQyR,GAAsBA,GAAsBA,EAC/E,IAAIC,GAAQpb,KACRqb,IAQJ,IANAF,EAAmBlR,QAAQ,SAAUqR,IACI,IAAjCF,EAAM9C,SAASiD,QAAQD,IACvBD,EAAQ/R,KAAKgS,KAIjBD,EAAQlT,OACR,KAAM,IAAIsP,OAAM,2HAA6H4D,EAAQG,KAAK,MAAQ,2FAI1KC,eAAgB,SAAUpR,EAASgN,GAK/B,GAJI3B,EAAI/P,SAAS0R,KACbA,EAAWrX,KAAKqX,GAAUA,UAG1BA,EAASjR,SAAU,CACnB,GAAIA,GAAWiR,EAASjR,QACxBiE,GAAUqL,EAAItP,SAASiE,MAAejE,GACtCpG,KAAKqK,QAAUqL,EAAItP,SAASpG,KAAKqK,QAASjE,KAuBlDsV,QAAS,SAAUlQ,GAKf,MAJAxL,MAAK+X,gBAAgB9N,QAAQ,SAAUsF,GACnCA,EAAEmM,QAAQlQ,KAGPxL,MAoBXuU,OAAQ,SAAUzL,GACd,MAAO9I,MAAK+X,gBAAgBjP,IAIhC0C,KAAM,aAINmQ,eAAgBjG,EAAIxS,gBAEpBJ,sBAAuB4S,EAAI5S,yBJ0jCzB,SAAUnD,EAAQD,EAASS,GAEjC,YKxnDA,SAASyb,GAAMpQ,EAAMnB,EAASkG,GAC1BvQ,KAAKwL,KAAOA,EACZxL,KAAKqK,QAAUA,IACXsM,OACIkF,SAAWxR,YACXyR,QAAUC,OAAQ,OAG1B/b,KAAKuQ,OAASA,IAAW,EAAG,GAGhC,QAASyL,GAASC,EAAO5R,GACrB,GAAI6R,GAAY7R,EAAQ8G,MAAMmF,aAAejM,EAAQ8G,MAAMC,UAAY/G,EAAQ8G,MAAMoF,WACjF7Q,EAAQ2E,EAAQ8G,MAAMmF,cAAgB,EAAG4F,IAAcA,EAAW,EACtE,OAAOD,GAAMvW,MAAMA,GL6mDvB3E,OAAOC,eAAetB,EAAS,cAC3BuC,OAAO,GK/nDX,IAAA0E,GAAAxG,EAAA,GLooDIyG,EAQJ,SAAgC9E,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,IARtD6E,GKnoDjC8O,EAAAtV,EAAA,GAAYuV,ELyoDZ,SAAiC5T,GAAO,GAAIA,GAAOA,EAAIT,WAAc,MAAOS,EAAc,IAAI6T,KAAa,IAAW,MAAP7T,EAAe,IAAK,GAAIuH,KAAOvH,GAAWf,OAAOS,UAAUC,eAAejB,KAAKsB,EAAKuH,KAAMsM,EAAOtM,GAAOvH,EAAIuH,GAAgC,OAAtBsM,GAAO5T,QAAUD,EAAY6T,GAFhOF,EKpnDlCmG,GAAMpa,WACF2a,KAAM,WACF,GAAI9R,GAAUrK,KAAKqK,QAAQsM,MACvBpG,EAASvQ,KAAKuQ,OACdC,EAAoC,MAAtBnG,EAAQmG,WAAsBnG,EAAQmG,WAAanG,EAAQwR,QAAQxR,QAAQmG,WACzF1B,EAAazE,EAAQyE,YAAc4G,EAAI/R,UAAU0G,EAAQ+B,IAAK/B,EAAQhD,IAAKgD,EAAQuE,MAAO4B,EAAYD,GACtG6L,EAAWpc,KAAKoc,SAAS7L,EAAQlG,EAAQ+B,IAAK/B,EAAQhD,KACtD0U,EAAS1R,EAAQyR,OAAOO,WAAatI,UAAGgI,OAAO1R,EAAQyR,OAAOC,OAElE,OAAOhI,WAAGyG,IAAI2B,OACTF,MAAMjc,KAAKsc,QACXC,WAAWR,GACXS,SAASnS,EAAQoS,cAAepS,EAAQqS,eACxCC,YAAYtS,EAAQsS,aACpB/N,MAAMwN,GACNtN,WAAWA,IAGpBmN,MAAO,SAAU1L,GAOb,MANIvQ,MAAKsc,SACLtc,KAAKsc,OAASvI,UAAGkI,MAAMW,SACvB5c,KAAK6c,UAAUtM,IAGnByL,EAAShc,KAAKsc,OAAQtc,KAAKqK,SACpBrK,KAAKsc,QAGhBO,UAAW,SAAUtM,GAGjB,MAFAvQ,MAAKsc,OAAO/L,OAAOA,GACnBvQ,KAAK8c,gBACE9c,KAAKsc,QAGhBjC,OAAQ,SAAU9J,EAAQ3C,GACtB5N,KAAKwL,KAAOoC,EACZ5N,KAAK6c,UAAUtM,GACfvQ,KAAKic,SAGTG,SAAU,WACN,MAAmC,OAA5Bpc,KAAKqK,QAAQsM,MAAM/H,MAAgB5O,KAAKqK,QAAQsM,MAAM/H,UAAQ1M,IAGzE4a,cAAe,cL0oDnBpd,EAAQqC,QKroDO6Z,GLyoDT,SAAUjc,EAAQD,EAASS,GAEjC,YAwCA,SAAS0B,GAAuBC,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,GArCvFf,OAAOC,eAAetB,EAAS,cAC3BuC,OAAO,IAEXvC,EAAQqX,cAAgBrX,EAAQoX,cAAgBpX,EAAQuX,QAAUvX,EAAQwX,SAAOhV,EMttDjF,IAAAuT,GAAAtV,EAAA,GAAYuV,EN0vDZ,SAAiC5T,GAAO,GAAIA,GAAOA,EAAIT,WAAc,MAAOS,EAAc,IAAI6T,KAAa,IAAW,MAAP7T,EAAe,IAAK,GAAIuH,KAAOvH,GAAWf,OAAOS,UAAUC,eAAejB,KAAKsB,EAAKuH,KAAMsM,EAAOtM,GAAOvH,EAAIuH,GAAgC,OAAtBsM,GAAO5T,QAAUD,EAAY6T,GAhChOF,GMztDlCsH,EAAA5c,EAAA,GN6tDI6c,EAAUnb,EAAuBkb,GM5tDrCE,EAAA9c,EAAA,GNguDI+c,EAAkBrb,EAAuBob,GM/tD7CE,EAAAhd,EAAA,GNmuDIid,EAAoBvb,EAAuBsb,GMluD/CE,EAAAld,EAAA,GNsuDImd,EAAazb,EAAuBwb,GMruDxCE,EAAApd,EAAA,GNyuDIqd,EAAqB3b,EAAuB0b,GMxuDhDE,EAAAtd,EAAA,IN4uDIud,EAAe7b,EAAuB4b,GM3uD1CE,EAAAxd,EAAA,IN+uDIyd,EAAkB/b,EAAuB8b,GM5uDhCzG,UACT1K,IAAOqR,UACPC,MAASC,UACTnB,OAAUhB,UACVoC,SAAYC,UACZC,QAAWC,UACXC,KAAQC,UACRC,QAAWC,UAEFtH,WAAU,SAACrW,EAAM4d,GAC1BtH,EAAKtW,GAAQ4d,GAGJ1H,gBAAgB,SAAUtL,EAAMnB,GAYzC,MALwC,SAAvBA,EAAQqM,MAAMlO,QAAoBP,MAAMyB,QAAQ8B,IAASA,EAAKrD,OAAS,GAAKqD,EAAK,GAAGA,KACjGA,EAAK,GAAGA,KAAK,GAAG1E,GAAK4O,EAAI7P,OAAO2F,EAAK,GAAGA,KAAK,GAAG1E,GAChDmB,MAAMyB,QAAQ8B,IAASA,EAAKrD,OAAS,GAAKqD,EAAK,GAAG1E,GAAK4O,EAAI7P,OAAO2F,EAAK,GAAG1E,KAGrC,YAAvBuD,EAAQqM,MAAMlO,KAI3B6B,EAAQqM,MAAMnD,YAAqC,WAAvBlJ,EAAQqM,MAAMlO,KAIxC,GAAI2V,WAAa3S,EAAMnB,GAHnB,GAAIkU,WAAY/S,EAAMnB,GAJtB,GAAIgU,WAAU7S,EAAMnB,IAUtB0M,gBAAgB,SAAUvL,EAAMnB,EAASoU,EAAUlO,GAEjDsN,UACEE,UACCnC,UACEqC,SAehB,IAZKQ,IACDA,EAAW,UAGE,WAAbA,IAA0BpU,EAAQsM,MAAM+H,WAA4C,UAA/BrU,EAAQsM,MAAMkF,QAAQrT,OAC3EiW,EAAW,SAGE,WAAbA,GAAwD,aAA/BpU,EAAQsM,MAAMkF,QAAQrT,OAC/CiW,EAAW,YAGXA,IAAYvH,GACZ,MAAO,IAAIA,GAAKuH,GAAUjT,EAAMnB,EAASkG,EAG7C,MAAM,IAAIkH,OAAM,uBAAyBgH,EAAW,ONovDlD,SAAU9e,EAAQD,GO1zDxB,GAAAif,EAGAA,GAAA,WACA,MAAA3e,QAGA,KAEA2e,KAAAC,SAAA,qBAAAC,MAAA,QACC,MAAArc,GAED,gBAAAqF,UACA8W,EAAA9W,QAOAlI,EAAAD,QAAAif,GPi0DM,SAAUhf,EAAQD,EAASS,GAEjC,YAqBA,SAAS0B,GAAuBC,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,GQv2DvF,QAASmc,GAAczS,EAAMnB,EAASkG,GAClCvQ,KAAKwL,KAAOA,EACZxL,KAAKqK,QAAUA,EACfrK,KAAK8e,KAAOvO,EAAO,GACnBvQ,KAAK+e,KAAOxO,EAAO,GACnBvQ,KAAKgf,aAAe,ERg1DxBje,OAAOC,eAAetB,EAAS,cAC3BuC,OAAO,GQ31DX,IAAA0E,GAAAxG,EAAA,GRg2DIyG,EAAM/E,EAAuB8E,GQ/1DjC8O,EAAAtV,EAAA,GACA4c,GRw2DA,SAAiCjb,GAAO,GAAIA,GAAOA,EAAIT,WAAc,MAAOS,EAAc,IAAI6T,KAAa,IAAW,MAAP7T,EAAe,IAAK,GAAIuH,KAAOvH,GAAWf,OAAOS,UAAUC,eAAejB,KAAKsB,EAAKuH,KAAMsM,EAAOtM,GAAOvH,EAAIuH,GAAUsM,GAAO5T,QAAUD,GANpN2T,GQl2DlCtV,EAAA,IRs2DI6c,EAAUnb,EAAuBkb,GQ31D/BkC,EAAUrD,UAAMpa,SACtByc,GAAczc,UAAYT,OAAOwK,UAAW0T,GACxC9C,KAAM,WACF,GAAI9R,GAAUrK,KAAKqK,QAAQsM,KAC3B3W,MAAKuQ,OAASvQ,KAAKsc,OAAO/L,QAC1B,IAAI6L,GAAW/R,EAAQuE,OAAS,EAC5BuN,EAAO8C,EAAQ9C,KAAK3b,KAAKR,MACzB8O,EAAa9O,KAAKkf,oBAAoB7U,EAAQ+B,IAAK/B,EAAQhD,IAAK+U,EAEpE,OAAOD,GAAKvN,MAAMwN,GACbtN,WAAWA,GACXyN,eAAWra,KAGpB2a,UAAW,SAAUtM,GACjB,GAAI4O,GAAenf,KAAKof,iBAAiB7O,EAEzCvQ,MAAK+e,KAAOI,EAAa,GACzBnf,KAAK8e,KAAOK,EAAa,GACzBnf,KAAKsc,OAAO/L,OAAO4O,IAGvBC,iBAAkB,SAAS7O,GACvB,GAAI8O,GAAStL,UAAGsL,OAAO9O,GACnB+O,EAAYD,EAAO,GAAKA,EAAO,GAC/BE,EAA4B,GAAZD,CAKpB,QAHgBvL,UAAGvM,MAAM6X,EAAO,GAAKE,EAAevf,KAAKgf,cACzCjL,UAAGvM,MAAM6X,EAAO,GAAKE,EAAevf,KAAKgf,gBAKzDE,oBAAsB,SAAS9S,EAAK/E,EAAK+U,GASzC,IARA,GAAIoD,GAAiB,MAAPpT,EAAcA,EAAMpM,KAAK+e,KACnCU,EAAiB,MAAPpY,EAAcA,EAAMrH,KAAK8e,KAEnCY,EAAYD,EAAUD,EACtBG,EAAcD,EAAYtD,EAE1BwD,EAAcJ,EACd1Q,GAAc0Q,GACXI,EAAcH,GACjBG,GAAeD,EACf7Q,EAAWxF,KAAKyK,UAAGvM,MAAMoY,EAAa5f,KAAKgf,cAI/C,OAFAlQ,GAAWxF,KAAKmW,GAET3Q,KR42DfpP,EAAQqC,QQx2DOkc,GR42DT,SAAUte,EAAQD,EAASS,GAEjC,YS56DA,SAASoe,GAAY/S,EAAMnB,GACvBrK,KAAKqK,QAAUA,EACfrK,KAAKwL,KAAOA,EAEZxL,KAAKsV,OT26DTvU,OAAOC,eAAetB,EAAS,cAC3BuC,OAAO,GSn7DX,IAAA0E,GAAAxG,EAAA,GTw7DIyG,EAQJ,SAAgC9E,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,IARtD6E,GSv7DjC8O,EAAAtV,EAAA,GAAYuV,ET67DZ,SAAiC5T,GAAO,GAAIA,GAAOA,EAAIT,WAAc,MAAOS,EAAc,IAAI6T,KAAa,IAAW,MAAP7T,EAAe,IAAK,GAAIuH,KAAOvH,GAAWf,OAAOS,UAAUC,eAAejB,KAAKsB,EAAKuH,KAAMsM,EAAOtM,GAAOvH,EAAIuH,GAAgC,OAAtBsM,GAAO5T,QAAUD,EAAY6T,GAFhOF,ESl7DlC8I,GAAY/c,WACR8T,KAAM,iBACKtV,MAAKsc,QAGhBL,MAAO,SAAU1L,GAWb,MAVAvQ,MAAK6f,QAAUtP,EAASvQ,KAAK8f,eAAevP,GAAUvQ,KAAK8f,eAAe9f,KAAKwL,MAC/ExL,KAAKsc,OAAStc,KAAKsc,QAAUvI,UAAGkI,MAAMW,SACtC5c,KAAKsc,OAAO/L,OAAOvQ,KAAK6f,SAEM,MAA1B7f,KAAKqK,QAAQqM,MAAMtK,KAAyC,MAA1BpM,KAAKqK,QAAQqM,MAAMrP,KACrDrH,KAAKsc,OAAO9M,OAGhBxP,KAAK+f,YAEE/f,KAAKsc,QAGhBH,KAAM,WACF,GAAI9R,GAAUrK,KAAKqK,QAAQqM,MACvBsJ,EAAc3V,EAAQyR,OAAOO,WAAatI,UAAGgI,OAAO1R,EAAQyR,OAAOC,QAAU,KAC7EI,EAAOpI,UAAGyG,IAAI2B,OACbF,MAAMjc,KAAKsc,QACXE,SAASnS,EAAQoS,cAAepS,EAAQqS,eACxCC,YAAYtS,EAAQsS,aACpBJ,WAAW,SAAU5b,GAClB,MAAO+U,GAAI7P,OAAOlF,GAAKA,EAAEsf,UAAYD,EAAYrf,KAGrDiO,EAAQuN,EAAKF,QAAQrN,QAErBsR,EAAYxK,EAAIjS,aAAamL,EAAOoR,EAAahgB,KAAKqK,QAE1D,IAAIA,EAAQvF,aAERqX,EAAKrN,WAAW4G,EAAI5Q,aAAa9E,KAAK6f,cACnC,IAAIxV,EAAQyE,WACfqN,EAAKrN,WAAWzE,EAAQyE,gBACrB,IAAqB,MAAjBzE,EAAQuE,MACfuN,EAAKvN,MAAMvE,EAAQuE,WAChB,KAAKsR,EAAW,CACnB,GAAI1O,GAAakE,EAAIlS,gBAAgBoL,EAAOoR,EAAahgB,KAAKqK,QAC9D8R,GAAKrN,WAAW0C,GAChB2K,EAAKvN,MAAM4C,EAAWrJ,QAG1B,MAAOgU,IAGX9B,OAAQ,SAAU9J,EAAQ3C,EAASvD,GAC/BrK,KAAKwL,KAAOoC,EACZ5N,KAAKqK,QAAUA,GAAWrK,KAAKqK,QAC/BrK,KAAKic,MAAM1L,IAGf4P,UAAW,WACP,MAAO,IAGXC,gBAAiB,WACb,MAAOpgB,OAGX+f,UAAW,WACP,GAAI7D,GAAclc,KAAKqK,QAAQ8G,MAAMmF,aAAetW,KAAKqK,QAAQ8G,MAAMoF,WAAavW,KAAKqK,QAAQ8G,MAAMC,UACnG1L,EAAU1F,KAAKqK,QAAQ8G,MAAMmF,cAAgB4F,EAAW,IAAO,EAAGA,EACtE,OAAOlc,MAAKsc,OAAO5W,MAAMA,IAG7Boa,eAAgB,SAAUvP,GACtB,GAAI8P,GAASrgB,KAAKqK,QAAQqM,MAAMtK,IAC5BkU,EAAStgB,KAAKqK,QAAQqM,MAAMrP,IAC5BkZ,EAAUxM,UAAGsL,OAAO9O,EAExB,OAAc,OAAV8P,GAA4B,MAAVC,EACXC,EAGG,MAAVF,GACQrZ,KAAKoF,IAAImU,EAAQ,GAAID,GAASA,GAG5B,MAAVA,GACQD,EAAQrZ,KAAKK,IAAIkZ,EAAQ,GAAIF,IAIrCA,EAASC,EACFC,GAGHF,EAAQC,KT+7DxB5gB,EAAQqC,QS37DOwc,GT+7DT,SAAU5e,EAAQD,EAASS,GAEjC,YAeA,SAAS0B,GAAuBC,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,GUvjEvF,QAAS+b,GAASrS,EAAMnB,GACpBrK,KAAKwL,KAAOA,EACZxL,KAAKqK,QAAUA,EAGnB,QAAS2R,GAASC,EAAO5R,GACrB,GAAI6R,GAAY7R,EAAQ8G,MAAMmF,aAAejM,EAAQ8G,MAAMC,UAAY/G,EAAQ8G,MAAMoF,WACjF7Q,EAAQ2E,EAAQ8G,MAAMmF,cAAgB,EAAG4F,IAAcA,EAAW,EACtE,OAAOD,GAAMvW,MAAMA,GVmiEvB3E,OAAOC,eAAetB,EAAS,cAC3BuC,OAAO,GU/iEX,IAAA0E,GAAAxG,EAAA,GVojEIyG,EAAM/E,EAAuB8E,GUnjEjCoW,EAAA5c,EAAA,GVujEI6c,EAAUnb,EAAuBkb,GU1iEjCkC,EAAUrD,UAAMpa,SACpBqc,GAASrc,UAAYT,OAAOwK,UAAW0T,GACnC9C,KAAM,WACF,GAAI9R,GAAUrK,KAAKqK,QAAQsM,MACvBpG,EAASvQ,KAAKsc,OAAO/L,SACrBiQ,EAAYxZ,KAAK+B,KAAK/B,KAAKwF,IAAI+D,EAAO,IAAMvJ,KAAKwF,IAAI,KACrDuP,EAAS1R,EAAQyR,OAAOO,WAAatI,UAAGgI,OAAO1R,EAAQyR,OAAOC,QAAU,QAExEI,EAAOpI,UAAGyG,IAAI2B,OACbF,MAAMjc,KAAKsc,QACXE,SAASnS,EAAQoS,cAAepS,EAAQqS,eACxCC,YAAYtS,EAAQsS,YAQzB,OAPGtS,GAAQyR,OAAOO,UACdF,EAAKI,WAAWlS,EAAQyR,OAAOO,WAE/BF,EAAKvN,MAAMvE,EAAQuE,OAAS4R,EAAWzE,GAIpCI,GAGXF,MAAO,SAAU1L,GAWb,MAVIvQ,MAAKsc,SACF/L,EAAO,IAAM,KAAKA,EAAO,GAAK,IAEjCvQ,KAAKsc,OAASvI,UAAGkI,MAAMzP,MACvBxM,KAAK6c,UAAUtM,GAAQhM,OAAM,IAIjCyX,EAAShc,KAAKsc,OAAQtc,KAAKqK,SAEpBrK,KAAKsc,QAGhBjC,OAAQ,SAAU9J,EAAQ3C,GACtB5N,KAAKwL,KAAOoC,EACT2C,EAAO,IAAM,KAAKA,EAAO,GAAK,IACjCvQ,KAAK6c,UAAUtM,GAAQhM,OAAM,GAC7BvE,KAAKic,WVwjEbvc,EAAQqC,QUpjEO8b,GVwjET,SAAUle,EAAQD,EAASS,GAEjC,YWpmEA,SAASge,GAAa3S,EAAMnB,GACxBrK,KAAKqK,QAAUA,EACfrK,KAAKwL,KAAOA,EAEZxL,KAAKsV,OXmmETvU,OAAOC,eAAetB,EAAS,cAC3BuC,OAAO,GWxnEX,IAAA0E,GAAAxG,EAAA,GX6nEIyG,EAQJ,SAAgC9E,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,IARtD6E,GW5nEjC8O,EAAAtV,EAAA,GAAYuV,EXkoEZ,SAAiC5T,GAAO,GAAIA,GAAOA,EAAIT,WAAc,MAAOS,EAAc,IAAI6T,KAAa,IAAW,MAAP7T,EAAe,IAAK,GAAIuH,KAAOvH,GAAWf,OAAOS,UAAUC,eAAejB,KAAKsB,EAAKuH,KAAMsM,EAAOtM,GAAOvH,EAAIuH,GAAgC,OAAtBsM,GAAO5T,QAAUD,EAAY6T,GAFhOF,EW1mElC0I,GAAa3c,WACT8T,KAAM,WACFtV,KAAKygB,eAAgB,QACdzgB,MAAKsc,QAGhBL,MAAO,SAAU1L,GAOb,MANIvQ,MAAKsc,SACLtc,KAAKsc,OAAS,GAAIvI,WAAGkI,MAAMiC,SAG/Ble,KAAK6c,UAAUtM,GAAUvQ,KAAKwL,MAEvBxL,KAAKsc,QAIhBH,KAAM,WACF,GAAI9R,GAAUrK,KAAKqK,QAAQqM,MACvBgK,EAAarW,EAAQyR,OAAOC,OAAShI,UAAGgI,OAAO1R,EAAQyR,OAAOC,QAAU,EACxEiE,EAAc3V,EAAQyR,OAAOO,WAAatI,UAAGgI,OAAO1R,EAAQyR,OAAOC,QAAU,KAE7EQ,EAAalS,EAAQyR,OAAOO,YAAerc,KAAKygB,cAA4B,EAAZC,IAAkB,SAAU/f,GAAK,MAAO+U,GAAI7P,OAAOlF,GAAKA,EAAEsf,UAAYtf,GACtIwb,EAAOpI,UAAGyG,IAAI2B,OACbF,MAAMjc,KAAKsc,QACXG,cAAcpS,EAAQoS,eACtBC,cAAcrS,EAAQqS,eACtBC,YAAYtS,EAAQsS,aACpBJ,WAAWA,GAEZ3N,EAAQ5O,KAAKygB,eAAiBpW,EAAQkJ,WAAalJ,EAAQkJ,WAAamC,EAAIhQ,MAAM1F,KAAK6f,QAAQ1X,YAC/F+X,EAAYxK,EAAIjS,aAAamL,EAAOoR,EAAahgB,KAAKqK,QAE1D,IAAIA,EAAQvF,aAERqX,EAAKrN,WAAW4G,EAAI5Q,aAAa9E,KAAK6f,cACnC,IAAIxV,EAAQsW,SACfxE,EAAKrN,WAAW4G,EAAI3S,cAAcsH,EAAQsW,SAAU3gB,KAAK6f,cACtD,IAAIxV,EAAQyE,WACfqN,EAAKrN,WAAWzE,EAAQyE,gBACrB,IAAqB,MAAjBzE,EAAQuE,MACfuN,EAAKvN,MAAMvE,EAAQuE,OACG,IAAlBvE,EAAQuE,OACRuN,EAAKrN,mBAEN,IAAKoR,EAKR/D,EAAKrN,WAAWzE,EAAQkJ,gBALL,CACnB,GAAI/B,GAAakE,EAAIlS,gBAAgBoL,EAAOoR,EAAahgB,KAAKqK,QAC9D8R,GAAKrN,WAAW0C,GAChB2K,EAAKvN,MAAM4C,EAAWrJ,QAK1B,MAAOgU,IAIXiE,gBAAiB,SAAUQ,GACvB,GAAIvW,GAAUrK,KAAKqK,QAAQqM,KAC3B,IAAKrM,EAAQyR,QAAqC,MAA3BzR,EAAQyR,OAAO+E,SAAtC,CAEA,GAAIxT,GAAMhD,EAAQyR,OAAO+E,SACrBtT,EAAMmI,EAAItR,SAASiJ,GACnBoB,EAAOpB,EAAM,EAAI,EAAIA,EAAM,GAAK,EAAI,EACpCyT,EAAMzT,EAAM,GAAK,EAAI,EAGrBI,EAAMzG,KAAKyG,IAAIF,GACfG,EAAM1G,KAAK0G,IAAIH,GACfwT,EAAS1W,EAAQyR,OAAO+E,SAAW,EAAI,MAAQxW,EAAQyR,OAAO+E,SAAW,EAAI,QAAU,QAE3FD,GAAUI,UAAU,cACfjW,OAAOkW,cAAeF,IACtBxG,KAAK,YAAa,SAAU5Z,EAAGL,EAAG6I,GAC/B,GAAIrC,GAAIiN,UAAGQ,OAAOvU,MAAMua,KAAK,MAAQ,EACjC5O,EAAIoI,UAAGQ,OAAOvU,MAAMua,KAAK,MAAQ,CACrC,OAAO,UAAYlQ,EAAQyR,OAAO+E,SAAW,IAAM/Z,EAAI,IAAM6E,EAAI,MAEpE4O,KAAK,KAAM,SAAU5Z,EAAGL,EAAG6I,GACxB,GAAI+X,GAAc,IAAR7T,EAdD,IACAgF,IAeT,QADY5E,EAAMyT,EAAQxT,EAAMwT,EAAMJ,GACzBK,QAAQ,GAAK,OAG7B5G,KAAK,KAAM,SAAU5Z,EAAGL,EAAG6I,GAGxB,QArBSkJ,KAqBA3E,EAAmB,IAAOe,GAAM0S,QAAQ,GAAK,SAKlE9G,OAAQ,SAAU9J,EAAQ/E,EAAMnB,GAC5BrK,KAAKwL,KAAOA,EACZxL,KAAKqK,QAAUA,GAAWrK,KAAKqK,QAC/BrK,KAAKic,MAAM1L,IAGfsM,UAAW,SAAUtM,GACjBvQ,KAAK6f,QAAUtP,EACfvQ,KAAKsc,OAAO/L,OAAOA,GACnBvQ,KAAKohB,UAGTjB,UAAW,WAIP,MAHWngB,MAAKsc,OAAO6D,aACZzK,EAAI3Q,KAAK,6GAA+G/E,KAAKqK,QAAQ8G,MAAMC,UAAY,UAAapR,KAAK6f,QAAQ1X,OAAU,+FAE/LnI,KAAKsc,OAAO6D,aAGvBiB,OAAQ,WACJ,GAAI1b,GAAQ1F,KAAKqK,QAAQ8G,MAAMmF,cAAgBtW,KAAKqK,QAAQ8G,MAAMoF,WAAY,IAAM,EAAGvW,KAAKqK,QAAQ8G,MAAMC,WACtGiQ,GAAWrhB,KAAK6f,aAAe1X,OAE/BmZ,EAAYD,GADA,GACuB,kBAAoB,YAE3D,OAAOrhB,MAAKygB,cAERzgB,KAAKsc,OAAOgF,GAAW5b,EAAO1F,KAAKqK,QAAQqM,MAAM6K,kBAAmBvhB,KAAKqK,QAAQqM,MAAM8K,mBACvFxhB,KAAKsc,OAAOmF,YAAY/b,KX+nEpChG,EAAQqC,QW3nEOoc,GX+nET,SAAUxe,EAAQD,EAASS,GAEjC,YAqBA,SAAS0B,GAAuBC,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,GYryEvF,QAASic,GAAWvS,EAAMnB,EAASkG,GAC/BvQ,KAAKwL,KAAOA,EACZxL,KAAKqK,QAAUA,EACfrK,KAAK8e,KAAOvO,EAAO,GACnBvQ,KAAK+e,KAAOxO,EAAO,GACnBvQ,KAAK0Q,QAAUqD,UAAG1M,IAAImE,EAAK7B,IAAI,SAAUhJ,GAAK,MAAOA,GAAEgL,KAG3D,QAASuT,GAAoB3O,EAAQnE,EAAK/E,EAAK0X,EAAMD,EAAMpO,GACvD,GAAIgR,GAAiBhM,EAAIjQ,KAAKiQ,EAAIrS,YAAYqS,EAAIrS,YAAYkN,EAAQuO,GAAOpO,GAI7E,OAAW,OAAPtE,GAAsB,MAAP/E,EACRqa,EAEA,MAAPtV,EACO/E,EAAM0X,EAAOrJ,EAAIrS,aAAagE,GAAMqa,IAAmBra,GAGvD,MAAPA,EACI+E,GAAO0S,GAAc1S,IACzBsV,EAAe,GAAKtV,EAEbsV,GAGJhM,EAAIrS,aAAa+I,EAAK/E,GAAMyX,GZwvEvC/d,OAAOC,eAAetB,EAAS,cAC3BuC,OAAO,GYxxEX,IAAA0E,GAAAxG,EAAA,GZ6xEIyG,EAAM/E,EAAuB8E,GY5xEjC8O,EAAAtV,EAAA,GAAYuV,EZsyEZ,SAAiC5T,GAAO,GAAIA,GAAOA,EAAIT,WAAc,MAAOS,EAAc,IAAI6T,KAAa,IAAW,MAAP7T,EAAe,IAAK,GAAIuH,KAAOvH,GAAWf,OAAOS,UAAUC,eAAejB,KAAKsB,EAAKuH,KAAMsM,EAAOtM,GAAOvH,EAAIuH,GAAgC,OAAtBsM,GAAO5T,QAAUD,EAAY6T,GANhOF,GY/xElCsH,EAAA5c,EAAA,GZmyEI6c,EAAUnb,EAAuBkb,GYnwEjCkC,EAAUrD,UAAMpa,SACpBuc,GAAWvc,UAAYT,OAAOwK,UAAW0T,GACrC9C,KAAM,WACF,GAAI9R,GAAUrK,KAAKqK,QAAQsM,KAC3B3W,MAAKuQ,OAASvQ,KAAKsc,OAAO/L,QAC1B,IAAIzB,GAAaoQ,EAAoBlf,KAAKuQ,OAAQlG,EAAQ+B,IAAK/B,EAAQhD,IAAKrH,KAAK+e,KAAM/e,KAAK8e,KAAM9e,KAAK0Q,SACnG0L,EAAWpc,KAAKoc,UAEpB,OADW6C,GAAQ9C,KAAK3b,KAAKR,MACjB4O,MAAMwN,GACbtN,WAAWA,IAGpBsN,SAAU,WACN,MAAO,IAGXS,UAAW,SAAUtM,GACjB,GAAI8O,GAAStL,UAAGsL,OAAO9O,EACvBvQ,MAAK+e,KAAOM,EAAO,GACnBrf,KAAK8e,KAAOO,EAAO,GACnBrf,KAAKsc,OAAO/L,OAAOA,GAEnBvQ,KAAK8c,iBAGTA,cAAe,WACX,GACIvM,GAASvQ,KAAKsc,OAAO/L,SACrBnE,EAAMpM,KAAKqK,QAAQsM,MAAMvK,KAAOmE,EAAO,GACvCoR,EAAS3hB,KAAKqK,QAAQsM,MAAMtP,KAAOrH,KAAK0Q,QACxCkR,EAAWlM,EAAI5R,gBAAgB6d,GAE/Bta,EAAML,KAAK6F,IAAI+U,EAAWD,GANZ,IAMsBA,EAAuBjM,EAAI5R,gBAAgB6d,EANjE,IAM0EA,GAAwBC,EAEhHpS,GAAQpD,EAAK/E,EACjBrH,MAAKsc,OAAO/L,OAAOf,MZ2yE3B9P,EAAQqC,QYvyEOgc,GZ2yET,SAAUpe,EAAQD,EAASS,GAEjC,Ya12EA,SAASmD,GAASsP,EAAIC,GAClB,MAAKD,IAAOC,GACDD,EAAGE,UAAYD,EAAGC,WACtBC,MAFgB,EAM3B,QAASsL,GAAU7S,EAAMnB,GACrBrK,KAAKqK,QAAUA,EACfrK,KAAKwL,KAAOA,EAEZxL,KAAKsV,Obk2ETvU,OAAOC,eAAetB,EAAS,cAC3BuC,OAAO,Ga13EX,IAAA0E,GAAAxG,EAAA,Gb+3EIyG,EAQJ,SAAgC9E,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,IARtD6E,Ga93EjC8O,EAAAtV,EAAA,GAAYuV,Ebo4EZ,SAAiC5T,GAAO,GAAIA,GAAOA,EAAIT,WAAc,MAAOS,EAAc,IAAI6T,KAAa,IAAW,MAAP7T,EAAe,IAAK,GAAIuH,KAAOvH,GAAWf,OAAOS,UAAUC,eAAejB,KAAKsB,EAAKuH,KAAMsM,EAAOtM,GAAOvH,EAAIuH,GAAgC,OAAtBsM,GAAO5T,QAAUD,EAAY6T,GAFhOF,Eaz2ElC4I,GAAU7c,WACN8T,KAAM,iBACKtV,MAAKsc,QAGhBL,MAAO,SAAU1L,GASb,MAPIvQ,MAAKsc,SACLtc,KAAKsc,OAAS,GAAIvI,WAAGqK,KAAKnC,MAC1Bjc,KAAK6c,UAAUtM,IAGnBvQ,KAAK0F,QAEE1F,KAAKsc,QAKhBH,KAAM,WACF,GAAI9R,GAAUrK,KAAKqK,QAAQqM,MACvB6F,EAAavc,KAAK6hB,uBAElB1F,EAAOpI,UAAGyG,IAAI2B,OACbF,MAAMjc,KAAKsc,QACXC,WAAWA,GACXC,SAASnS,EAAQoS,cAAepS,EAAQqS,eACxCC,YAAYtS,EAAQsS,aACpB7N,WAAW9O,KAAK6f,QAcrB,OAZqC,OAAjC7f,KAAKqK,QAAQqM,MAAM5H,WACnBqN,EAAKrN,WAAW9O,KAAKqK,QAAQqM,MAAM5H,YACG,MAA/B9O,KAAKqK,QAAQqM,MAAMiK,UAAoB3gB,KAAKqK,QAAQqM,MAAMiK,SAAW3gB,KAAK6f,QAAQ1X,OAGzFgU,EAAKrN,WAAW4G,EAAI3S,cAAcsH,EAAQsW,SAAU3gB,KAAK6f,UAElD7f,KAAKqK,QAAQqM,MAAM5R,cAE1BqX,EAAKrN,WAAW4G,EAAI5Q,aAAa9E,KAAK6f,UAGnC1D,GAGX9B,OAAQ,SAAU9J,EAAQ/E,EAAMnB,GAC5BrK,KAAKwL,KAAOA,EACZxL,KAAKqK,QAAUA,GAAWrK,KAAKqK,QAC/BrK,KAAK6c,UAAUtM,GACfvQ,KAAKic,SAGTY,UAAW,SAAUtM,GACjBvQ,KAAK6f,QAAUtP,CACf,IAAIuR,GAAa9hB,KAAK8f,eAAe9f,KAAK6f,QAC1C7f,MAAKsc,OAAO/L,OAAOuR,IAGvB1B,gBAAiB,SAAUQ,GACvB,GAAK5gB,KAAKqK,QAAQqM,MAAM5R,aAAxB,CACA,GAAIgX,GAAS8E,EAAUI,UAAU,cAAc,EAC/CjN,WAAGQ,OAAOuH,EAAO,IAAI/Q,OAAOkW,cAAe,UAC3ClN,UAAGQ,OAAOuH,EAAOA,EAAO3T,OAAS,IAAI4C,OAAOkW,cAAe,UAG/Dd,UAAW,WACP,MAAO,IAGX0B,qBAAsB,WAClB,GAAI7hB,KAAKqK,QAAQqM,MAAMoF,OAAOO,UAAW,MAAOrc,MAAKqK,QAAQqM,MAAMoF,OAAOO,SAC1E,IAAIrc,KAAKqK,QAAQqM,MAAMoF,OAAOC,OAAQ,MAAOhI,WAAGqK,KAAKrC,OAAO/b,KAAKqK,QAAQqM,MAAMoF,OAAOC,OAEtF,IAAIgG,GAAW/a,KAAK6F,IAAIvJ,EAAStD,KAAK6f,QAAQ7f,KAAK6f,QAAQ1X,OAAO,GAAInI,KAAK6f,QAAQ,IAEnF,OAAIkC,IADgB/hB,KAAKqK,QAAQqM,MAAMiK,UAAY,GACd5M,UAAGqK,KAAKrC,OAAO,SAChDgG,EAAW,IAAYhO,UAAGqK,KAAKrC,OAAO,SAEnChI,UAAGqK,KAAKrC,OAAO,OAG1BrW,MAAO,WACH,GAAIA,GAAQ1F,KAAKgiB,cAAchiB,KAAK6f,QACpC,OAAO7f,MAAKsc,OAAO2F,WAAWvc,EAAO,KAIzCoa,eAAgB,SAAUvP,GACtB,MAAGvQ,MAAKqK,QAAQqM,MAAMwL,aACX3R,EAGJwD,UAAGsL,OAAO9O,IAGrByR,cAAe,SAAUzR,GACrB,GAAI4R,GAAOniB,KAAKqK,QAAQ8G,MAAMmF,aAAetW,KAAKqK,QAAQ8G,MAAMoF,WAAavW,KAAKqK,QAAQ8G,MAAMC,SAEhG,OAAGpR,MAAKqK,QAAQqM,MAAMwL,aACXxM,EAAIhQ,MAAM,EAAGyc,EAAMA,GAAQ5R,EAAOpI,OAAS,IAAIG,QAAQ6Z,KAG1D,EAAGA,Kbi4EnBziB,EAAQqC,Qa73EOsc,Gbi4ET,SAAU1e,EAAQD,EAASS,GAEjC,YctgFA,IAAAiiB,GAAAjiB,EAAA,Gd2gFIkiB,EAkDJ,SAAgCvgB,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,IAlDhDsgB,Ec1gFvCjiB,GAAA,IACAA,EAAA,IACAA,EAAA,IAEAA,EAAA,GACAA,EAAA,GACAA,EAAA,GACAA,EAAA,GACAA,EAAA,GACAA,EAAA,GACAA,EAAA,IACAA,EAAA,IAEAA,EAAA,IACAA,EAAA,IACAA,EAAA,IACAA,EAAA,IACAA,EAAA,IACAA,EAAA,IACAA,EAAA,IACAA,EAAA,IACAA,EAAA,IACAA,EAAA,IACAA,EAAA,IACAA,EAAA,IAEAA,EAAA,IAEAR,EAAOD,QAAU2V,WdsiFX,SAAU1V,EAAQD,EAASS,GAEjC,YeniFA,SAASmiB,GAAqB9W,EAAM+W,EAAY/Z,EAAM6O,EAAUmL,GAC5DxiB,KAAKwI,KAAOA,EACZxI,KAAKqX,SAAWA,EAChBrX,KAAKmK,IAAMqY,EACXxiB,KAAKqK,QAAUkY,EACfviB,KAAKsV,KAAK9J,GfiiFdzK,OAAOC,eAAetB,EAAS,cAC3BuC,OAAO,Ge1kFX,IAAA0E,GAAAxG,EAAA,Gf+kFIyG,EAQJ,SAAgC9E,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,IARtD6E,Ge9kFjC8O,EAAAtV,EAAA,GAAYuV,EfolFZ,SAAiC5T,GAAO,GAAIA,GAAOA,EAAIT,WAAc,MAAOS,EAAc,IAAI6T,KAAa,IAAW,MAAP7T,EAAe,IAAK,GAAIuH,KAAOvH,GAAWf,OAAOS,UAAUC,eAAejB,KAAKsB,EAAKuH,KAAMsM,EAAOtM,GAAOvH,EAAIuH,GAAgC,OAAtBsM,GAAO5T,QAAUD,EAAY6T,GAFhOF,GehlF9BgN,EAAU,SAAUnX,EAAQoX,GAC5B,GAAIC,MAAWC,IASf,OARAtX,GAAOrB,QAAQ,SAAUtJ,GACrB,GAAIA,EAAE6K,KAAKrD,OAAX,CACA,GAAI8L,GAAStT,EAAE6K,KAAK7B,IAAI,SAAUhJ,GAAK,MAAOA,GAAE+hB,IAChDC,GAAKrZ,KAAKyK,UAAG1M,IAAI4M,IACjB2O,EAAKtZ,KAAKyK,UAAG3H,IAAI6H,OAIjB2O,EAAKza,QAAWwa,EAAKxa,QAEjBnB,KAAKoF,IAAI7D,MAAM,KAAMqa,GAAO5b,KAAKK,IAAIkB,MAAM,KAAMoa,QAGzDE,EAAiB,SAAUrX,GAC3B,GAAIsI,GAAQ4B,EAAIzS,cACZ6f,EAAWhP,EAAMtI,GACjBuX,IAQJ,OAPAD,GAAS7Y,QAAQ,SAAUyJ,GACvBA,EAAIlI,KAAKvB,QAAQ,SAAUtJ,EAAGL,GAC1B,GAAImJ,GAAMsZ,EAAIziB,IAAM,CACpByiB,GAAIziB,GAAKmJ,EAAM9I,EAAEgL,OAIjB3E,KAAKoF,IAAI7D,MAAM,KAAMwa,GAAM/b,KAAKK,IAAIkB,MAAM,KAAMwa,KAGxDC,EAAWtN,EAAI1P,aAAayc,EAAS,KACrCQ,EAAWvN,EAAI1P,aAAayc,EAAS,IAUzCH,GAAqB9gB,WACjB8T,KAAM,SAAU9J,GACZxL,KAAKkjB,QAAU1X,GAGnByO,OAAQ,SAAUa,EAAOzQ,EAASF,GAE9B,MADAnK,MAAKqX,SAAS7W,KAAK2J,EAAKnK,KAAKwL,KAAMsP,EAAOzQ,GACnCF,GAGXgZ,cAAe,SAAUC,GACrB,GAAI3I,GAAOza,KAAK8a,MAAML,MAQtB,OALIA,GAAK1P,MAAMsY,QADXD,EACqB,QAEA,OAGlBpjB,KAAKmK,KAGhBuR,QAAS,SAAUlQ,GAEf,MADAxL,MAAKkjB,QAAU1X,EACRxL,KAAKmK,KAIhB6Q,cAAe,SAAU3Q,GACrB,GAAIoJ,IAAUzT,KAAKmK,SAAWwR,gBAAkBjG,EAAIxS,gBAChDqQ,GAAclJ,EAAQqM,WAAanD,UAIvC,OAHAvT,MAAKwL,KAAOiI,EAAOzT,KAAKkjB,QAAS3P,GACjCvT,KAAKsjB,cAAcjZ,GAEZrK,KAAKmK,KAGhBmZ,cAAe,SAAUjZ,GACrB,IAAIA,EAAQrK,KAAKwI,MAAO,KAAM,IAAIiP,OAAM,6DAEfzX,KAAKmK,SAAWrH,uBAAyB4S,EAAI5S,uBAEhD9C,KAAKwL,QACvBxL,KAAKujB,QAAU7N,EAAIlQ,QAAQxF,KAAKwL,KAAK7B,IAAI,SAAU+J,GAAO,MAAOA,GAAIlI,KAAK7B,IAAI,SAAUhJ,GAAK,MAAOA,GAAEmG,OACtG9G,KAAKwjB,QAAUR,EAAShjB,KAAKwL,KAAM,KACnCxL,KAAKyjB,QAAUpZ,EAAQrK,KAAKwI,MAAMkb,QAAUb,EAAe7iB,KAAKwL,MAAQyX,EAASjjB,KAAKwL,SfimFlG9L,EAAQqC,Qe5lFOugB,GfgmFT,SAAU3iB,EAAQD,GgB/pFxB,QAAA6I,GAAAob,EAAAC,EAAA5b,GACA,OAAAA,EAAAG,QACA,aAAAwb,GAAAnjB,KAAAojB,EACA,cAAAD,GAAAnjB,KAAAojB,EAAA5b,EAAA,GACA,cAAA2b,GAAAnjB,KAAAojB,EAAA5b,EAAA,GAAAA,EAAA,GACA,cAAA2b,GAAAnjB,KAAAojB,EAAA5b,EAAA,GAAAA,EAAA,GAAAA,EAAA,IAEA,MAAA2b,GAAApb,MAAAqb,EAAA5b,GAYA,QAAA6b,GAAAziB,EAAA0iB,GAIA,IAHA,GAAAhb,IAAA,EACArG,EAAAwF,MAAA7G,KAEA0H,EAAA1H,GACAqB,EAAAqG,GAAAgb,EAAAhb,EAEA,OAAArG,GA8BA,QAAAshB,GAAA9hB,EAAA+hB,GAGA,GAAAvhB,GAAAiH,EAAAzH,IAAAgiB,EAAAhiB,GACA4hB,EAAA5hB,EAAAkG,OAAAM,WAGAN,EAAA1F,EAAA0F,OACA+b,IAAA/b,CAEA,QAAAkB,KAAApH,IACA+hB,IAAAviB,EAAAjB,KAAAyB,EAAAoH,IACA6a,IAAA,UAAA7a,GAAA8a,EAAA9a,EAAAlB,KACA1F,EAAA6G,KAAAD,EAGA,OAAA5G,GAaA,QAAA2hB,GAAAC,EAAAC,EAAAjb,EAAA/H,GACA,WAAAY,KAAAmiB,GACAE,EAAAF,EAAAzc,EAAAyB,MAAA5H,EAAAjB,KAAAc,EAAA+H,GACAib,EAEAD,EAaA,QAAAG,GAAAljB,EAAA+H,EAAApH,GACA,GAAAoiB,GAAA/iB,EAAA+H,EACA5H,GAAAjB,KAAAc,EAAA+H,IAAAkb,EAAAF,EAAApiB,SACAC,KAAAD,GAAAoH,IAAA/H,MACAA,EAAA+H,GAAApH,GAWA,QAAAwiB,GAAAnjB,GACA,IAAAyE,EAAAzE,GACA,MAAAojB,GAAApjB,EAEA,IAAAqjB,GAAAC,EAAAtjB,GACAmB,IAEA,QAAA4G,KAAA/H,IACA,eAAA+H,IAAAsb,GAAAljB,EAAAjB,KAAAc,EAAA+H,KACA5G,EAAA6G,KAAAD,EAGA,OAAA5G,GAWA,QAAAoiB,GAAAlB,EAAAjb,GAEA,MADAA,GAAAoc,MAAA5iB,KAAAwG,EAAAib,EAAAxb,OAAA,EAAAO,EAAA,GACA,WAMA,IALA,GAAAV,GAAAE,UACAY,GAAA,EACAX,EAAA2c,EAAA9c,EAAAG,OAAAO,EAAA,GACAM,EAAAf,MAAAE,KAEAW,EAAAX,GACAa,EAAAF,GAAAd,EAAAU,EAAAI,EAEAA,IAAA,CAEA,KADA,GAAAic,GAAA9c,MAAAS,EAAA,KACAI,EAAAJ,GACAqc,EAAAjc,GAAAd,EAAAc,EAGA,OADAic,GAAArc,GAAAM,EACAT,EAAAob,EAAA3jB,KAAA+kB,IAcA,QAAAC,GAAAC,EAAApb,EAAAvI,EAAA4jB,GACA5jB,SAKA,KAHA,GAAAwH,IAAA,EACAX,EAAA0B,EAAA1B,SAEAW,EAAAX,GAAA,CACA,GAAAkB,GAAAQ,EAAAf,GAEAqc,EAAAD,EACAA,EAAA5jB,EAAA+H,GAAA4b,EAAA5b,KAAA/H,EAAA2jB,OACA/iB,EAEAsiB,GAAAljB,EAAA+H,MAAAnH,KAAAijB,EAAAF,EAAA5b,GAAA8b,GAEA,MAAA7jB,GA4CA,QAAA6iB,GAAAliB,EAAAkG,GAEA,SADAA,EAAA,MAAAA,EAAAid,EAAAjd,KAEA,gBAAAlG,IAAAojB,EAAAxa,KAAA5I,KACAA,GAAA,GAAAA,EAAA,MAAAA,EAAAkG,EAaA,QAAAmd,GAAArjB,EAAA6G,EAAAxH,GACA,IAAAyE,EAAAzE,GACA,QAEA,IAAAkH,SAAAM,EACA,oBAAAN,EACA+c,EAAAjkB,IAAA6iB,EAAArb,EAAAxH,EAAA6G,QACA,UAAAK,GAAAM,IAAAxH,KAEAijB,EAAAjjB,EAAAwH,GAAA7G,GAYA,QAAA2iB,GAAA3iB,GACA,GAAAujB,GAAAvjB,KAAAuE,WAGA,OAAAvE,MAFA,kBAAAujB,MAAAhkB,WAAAoG,GAcA,QAAA8c,GAAApjB,GACA,GAAAmB,KACA,UAAAnB,EACA,OAAA+H,KAAAtI,QAAAO,GACAmB,EAAA6G,KAAAD,EAGA,OAAA5G,GAmCA,QAAA8hB,GAAAtiB,EAAAwjB,GACA,MAAAxjB,KAAAwjB,GAAAxjB,OAAAwjB,MAqBA,QAAAxB,GAAAhiB,GAEA,MAAAyjB,GAAAzjB,IAAAR,EAAAjB,KAAAyB,EAAA,aACA0jB,EAAAnlB,KAAAyB,EAAA,WAAA2jB,EAAAplB,KAAAyB,IAAA4jB,GAqDA,QAAAN,GAAAtjB,GACA,aAAAA,GAAA6jB,EAAA7jB,EAAAkG,UAAA4d,EAAA9jB,GA4BA,QAAAyjB,GAAAzjB,GACA,MAAA6D,GAAA7D,IAAAsjB,EAAAtjB,GAoBA,QAAA8jB,GAAA9jB,GAGA,GAAAK,GAAAyD,EAAA9D,GAAA2jB,EAAAplB,KAAAyB,GAAA,EACA,OAAAK,IAAA0jB,GAAA1jB,GAAA2jB,EA6BA,QAAAH,GAAA7jB,GACA,sBAAAA,IACAA,GAAA,GAAAA,EAAA,MAAAA,GAAAmjB,EA4BA,QAAArf,GAAA9D,GACA,GAAAuG,SAAAvG,EACA,SAAAA,IAAA,UAAAuG,GAAA,YAAAA,GA2BA,QAAA1C,GAAA7D,GACA,QAAAA,GAAA,gBAAAA,GAqFA,QAAAikB,GAAA5kB,GACA,MAAAikB,GAAAjkB,GAAAyiB,EAAAziB,GAAA,GAAAmjB,EAAAnjB,GA9oBA,GAAA8jB,GAAA,iBAGAS,EAAA,qBACAG,EAAA,oBACAC,EAAA,6BAGAZ,EAAA,mBA0CAzd,EAAA7G,OAAAS,UAGAC,EAAAmG,EAAAnG,eAOAmkB,EAAAhe,EAAAxF,SAGAujB,EAAA/d,EAAA+d,qBAGAb,EAAA9d,KAAAK,IA4UAqC,EAAAzB,MAAAyB,QA0MAyc,EA/XA,SAAAC,GACA,MAAAvB,GAAA,SAAAvjB,EAAA+kB,GACA,GAAAvd,IAAA,EACAX,EAAAke,EAAAle,OACA+c,EAAA/c,EAAA,EAAAke,EAAAle,EAAA,OAAAjG,GACAokB,EAAAne,EAAA,EAAAke,EAAA,OAAAnkB,EAWA,KATAgjB,EAAAkB,EAAAje,OAAA,qBAAA+c,IACA/c,IAAA+c,OACAhjB,GAEAokB,GAAAhB,EAAAe,EAAA,GAAAA,EAAA,GAAAC,KACApB,EAAA/c,EAAA,MAAAjG,GAAAgjB,EACA/c,EAAA,GAEA7G,EAAAP,OAAAO,KACAwH,EAAAX,GAAA,CACA,GAAA8c,GAAAoB,EAAAvd,EACAmc,IACAmB,EAAA9kB,EAAA2jB,EAAAnc,EAAAoc,GAGA,MAAA5jB,MAyWA,SAAAA,EAAA2jB,EAAAsB,EAAArB,GACAF,EAAAC,EAAAiB,EAAAjB,GAAA3jB,EAAA4jB,KAwBA9e,EAAAye,EAAA,SAAA7c,GAEA,MADAA,GAAAsB,SAAApH,GAAAkiB,GACA7b,EAAA4d,MAAAjkB,GAAA8F,IA8BArI,GAAAD,QAAA0G,GhBosFM,SAAUzG,EAAQD,EAASS,IiB/1GjC,SAAAyB,EAAAjC,GA2HA,QAAA4I,GAAAob,EAAAC,EAAA5b,GACA,OAAAA,EAAAG,QACA,aAAAwb,GAAAnjB,KAAAojB,EACA,cAAAD,GAAAnjB,KAAAojB,EAAA5b,EAAA,GACA,cAAA2b,GAAAnjB,KAAAojB,EAAA5b,EAAA,GAAAA,EAAA,GACA,cAAA2b,GAAAnjB,KAAAojB,EAAA5b,EAAA,GAAAA,EAAA,GAAAA,EAAA,IAEA,MAAA2b,GAAApb,MAAAqb,EAAA5b,GAYA,QAAA6b,GAAAziB,EAAA0iB,GAIA,IAHA,GAAAhb,IAAA,EACArG,EAAAwF,MAAA7G,KAEA0H,EAAA1H,GACAqB,EAAAqG,GAAAgb,EAAAhb,EAEA,OAAArG,GAwBA,QAAA2C,GAAA9D,EAAA+H,GACA,aAAA/H,MAAAY,GAAAZ,EAAA+H,GAyBA,QAAAmd,GAAAllB,EAAA+H,GACA,mBAAAA,MACAnH,GACAZ,EAAA+H,GAkGA,QAAAod,GAAAC,GACA,GAAA5d,IAAA,EACAX,EAAA,MAAAue,EAAA,EAAAA,EAAAve,MAGA,KADAnI,KAAA2mB,UACA7d,EAAAX,GAAA,CACA,GAAAye,GAAAF,EAAA5d,EACA9I,MAAA0T,IAAAkT,EAAA,GAAAA,EAAA,KAWA,QAAAC,KACA7mB,KAAA8mB,SAAAC,MAAA,SACA/mB,KAAAmiB,KAAA,EAaA,QAAA6E,GAAA3d,GACA,GAAA5G,GAAAzC,KAAAinB,IAAA5d,UAAArJ,MAAA8mB,SAAAzd,EAEA,OADArJ,MAAAmiB,MAAA1f,EAAA,IACAA,EAYA,QAAAykB,GAAA7d,GACA,GAAAmC,GAAAxL,KAAA8mB,QACA,IAAAC,GAAA,CACA,GAAAtkB,GAAA+I,EAAAnC,EACA,OAAA5G,KAAA0kB,OAAAjlB,GAAAO,EAEA,MAAAhB,IAAAjB,KAAAgL,EAAAnC,GAAAmC,EAAAnC,OAAAnH,GAYA,QAAAklB,GAAA/d,GACA,GAAAmC,GAAAxL,KAAA8mB,QACA,OAAAC,QAAA7kB,KAAAsJ,EAAAnC,GAAA5H,GAAAjB,KAAAgL,EAAAnC,GAaA,QAAAge,GAAAhe,EAAApH,GACA,GAAAuJ,GAAAxL,KAAA8mB,QAGA,OAFA9mB,MAAAmiB,MAAAniB,KAAAinB,IAAA5d,GAAA,IACAmC,EAAAnC,GAAA0d,QAAA7kB,KAAAD,EAAAklB,GAAAllB,EACAjC,KAiBA,QAAAsnB,GAAAZ,GACA,GAAA5d,IAAA,EACAX,EAAA,MAAAue,EAAA,EAAAA,EAAAve,MAGA,KADAnI,KAAA2mB,UACA7d,EAAAX,GAAA,CACA,GAAAye,GAAAF,EAAA5d,EACA9I,MAAA0T,IAAAkT,EAAA,GAAAA,EAAA,KAWA,QAAAW,KACAvnB,KAAA8mB,YACA9mB,KAAAmiB,KAAA,EAYA,QAAAqF,GAAAne,GACA,GAAAmC,GAAAxL,KAAA8mB,SACAhe,EAAA2e,EAAAjc,EAAAnC,EAEA,SAAAP,EAAA,KAIAA,GADA0C,EAAArD,OAAA,EAEAqD,EAAAkc,MAEAC,GAAAnnB,KAAAgL,EAAA1C,EAAA,KAEA9I,KAAAmiB,MACA,GAYA,QAAAyF,GAAAve,GACA,GAAAmC,GAAAxL,KAAA8mB,SACAhe,EAAA2e,EAAAjc,EAAAnC,EAEA,OAAAP,GAAA,MAAA5G,GAAAsJ,EAAA1C,GAAA,GAYA,QAAA+e,GAAAxe,GACA,MAAAoe,GAAAznB,KAAA8mB,SAAAzd,IAAA,EAaA,QAAAye,GAAAze,EAAApH,GACA,GAAAuJ,GAAAxL,KAAA8mB,SACAhe,EAAA2e,EAAAjc,EAAAnC,EAQA,OANAP,GAAA,KACA9I,KAAAmiB,KACA3W,EAAAlC,MAAAD,EAAApH,KAEAuJ,EAAA1C,GAAA,GAAA7G,EAEAjC,KAiBA,QAAA+nB,GAAArB,GACA,GAAA5d,IAAA,EACAX,EAAA,MAAAue,EAAA,EAAAA,EAAAve,MAGA,KADAnI,KAAA2mB,UACA7d,EAAAX,GAAA,CACA,GAAAye,GAAAF,EAAA5d,EACA9I,MAAA0T,IAAAkT,EAAA,GAAAA,EAAA,KAWA,QAAAoB,KACAhoB,KAAAmiB,KAAA,EACAniB,KAAA8mB,UACAmB,KAAA,GAAAxB,GACA9c,IAAA,IAAAue,IAAAZ,GACAa,OAAA,GAAA1B,IAaA,QAAA2B,GAAA/e,GACA,GAAA5G,GAAA4lB,EAAAroB,KAAAqJ,GAAA,OAAAA,EAEA,OADArJ,MAAAmiB,MAAA1f,EAAA,IACAA,EAYA,QAAA6lB,GAAAjf,GACA,MAAAgf,GAAAroB,KAAAqJ,GAAAlI,IAAAkI,GAYA,QAAAkf,GAAAlf,GACA,MAAAgf,GAAAroB,KAAAqJ,GAAA4d,IAAA5d,GAaA,QAAAmf,GAAAnf,EAAApH,GACA,GAAAuJ,GAAA6c,EAAAroB,KAAAqJ,GACA8Y,EAAA3W,EAAA2W,IAIA,OAFA3W,GAAAkI,IAAArK,EAAApH,GACAjC,KAAAmiB,MAAA3W,EAAA2W,QAAA,IACAniB,KAiBA,QAAAyoB,GAAA/B,GACA,GAAAlb,GAAAxL,KAAA8mB,SAAA,GAAAQ,GAAAZ,EACA1mB,MAAAmiB,KAAA3W,EAAA2W,KAUA,QAAAuG,KACA1oB,KAAA8mB,SAAA,GAAAQ,GACAtnB,KAAAmiB,KAAA,EAYA,QAAAwG,GAAAtf,GACA,GAAAmC,GAAAxL,KAAA8mB,SACArkB,EAAA+I,EAAA,OAAAnC,EAGA,OADArJ,MAAAmiB,KAAA3W,EAAA2W,KACA1f,EAYA,QAAAmmB,GAAAvf,GACA,MAAArJ,MAAA8mB,SAAA3lB,IAAAkI,GAYA,QAAAwf,GAAAxf,GACA,MAAArJ,MAAA8mB,SAAAG,IAAA5d,GAaA,QAAAyf,GAAAzf,EAAApH,GACA,GAAAuJ,GAAAxL,KAAA8mB,QACA,IAAAtb,YAAA8b,GAAA,CACA,GAAAyB,GAAAvd,EAAAsb,QACA,KAAAoB,IAAAa,EAAA5gB,OAAA6gB,GAAA,EAGA,MAFAD,GAAAzf,MAAAD,EAAApH,IACAjC,KAAAmiB,OAAA3W,EAAA2W,KACAniB,IAEAwL,GAAAxL,KAAA8mB,SAAA,GAAAiB,GAAAgB,GAIA,MAFAvd,GAAAkI,IAAArK,EAAApH,GACAjC,KAAAmiB,KAAA3W,EAAA2W,KACAniB,KAkBA,QAAA+jB,GAAA9hB,EAAA+hB,GACA,GAAAiF,GAAAvf,GAAAzH,GACAinB,GAAAD,GAAAhF,GAAAhiB,GACAknB,GAAAF,IAAAC,GAAAE,GAAAnnB,GACAonB,GAAAJ,IAAAC,IAAAC,GAAAG,GAAArnB,GACAiiB,EAAA+E,GAAAC,GAAAC,GAAAE,EACA5mB,EAAAyhB,EAAAL,EAAA5hB,EAAAkG,OAAAM,WACAN,EAAA1F,EAAA0F,MAEA,QAAAkB,KAAApH,IACA+hB,IAAAviB,GAAAjB,KAAAyB,EAAAoH,IACA6a,IAEA,UAAA7a,GAEA8f,IAAA,UAAA9f,GAAA,UAAAA,IAEAggB,IAAA,UAAAhgB,GAAA,cAAAA,GAAA,cAAAA,IAEA8a,EAAA9a,EAAAlB,KAEA1F,EAAA6G,KAAAD,EAGA,OAAA5G,GAYA,QAAA8mB,GAAAjoB,EAAA+H,EAAApH,QACAC,KAAAD,GAAAsiB,GAAAjjB,EAAA+H,GAAApH,UACAC,KAAAD,GAAAoH,IAAA/H,KACAkoB,EAAAloB,EAAA+H,EAAApH,GAcA,QAAAuiB,GAAAljB,EAAA+H,EAAApH,GACA,GAAAoiB,GAAA/iB,EAAA+H,EACA5H,IAAAjB,KAAAc,EAAA+H,IAAAkb,GAAAF,EAAApiB,SACAC,KAAAD,GAAAoH,IAAA/H,KACAkoB,EAAAloB,EAAA+H,EAAApH,GAYA,QAAAwlB,GAAAze,EAAAK,GAEA,IADA,GAAAlB,GAAAa,EAAAb,OACAA,KACA,GAAAoc,GAAAvb,EAAAb,GAAA,GAAAkB,GACA,MAAAlB,EAGA,UAYA,QAAAqhB,GAAAloB,EAAA+H,EAAApH,GACA,aAAAoH,GAAArI,GACAA,GAAAM,EAAA+H,GACApI,cAAA,EACAC,YAAA,EACAe,QACAwnB,UAAA,IAGAnoB,EAAA+H,GAAApH,EAwBA,QAAAD,GAAAC,GACA,aAAAA,MACAC,KAAAD,EAAAynB,GAAAC,GAEAxnB,SAAApB,QAAAkB,GACA2nB,EAAA3nB,GACA2jB,GAAA3jB,GAUA,QAAA4nB,GAAA5nB,GACA,MAAA6D,IAAA7D,IAAAD,EAAAC,IAAA4jB,GAWA,QAAAiE,GAAA7nB,GACA,SAAA8D,GAAA9D,IAAA8nB,GAAA9nB,MAGA8jB,GAAA9jB,GAAA+nB,GAAAC,IACApf,KAAAqf,GAAAjoB,IAUA,QAAAkoB,GAAAloB,GACA,MAAA6D,IAAA7D,IACA6jB,GAAA7jB,EAAAkG,WAAAiiB,GAAApoB,EAAAC,IAUA,QAAAwiB,GAAAnjB,GACA,IAAAyE,GAAAzE,GACA,MAAAojB,IAAApjB,EAEA,IAAAqjB,GAAAC,GAAAtjB,GACAmB,IAEA,QAAA4G,KAAA/H,IACA,eAAA+H,IAAAsb,GAAAljB,GAAAjB,KAAAc,EAAA+H,KACA5G,EAAA6G,KAAAD,EAGA,OAAA5G,GAcA,QAAA4nB,GAAA/oB,EAAA2jB,EAAAsB,EAAArB,EAAApR,GACAxS,IAAA2jB,GAGAqF,GAAArF,EAAA,SAAAX,EAAAjb,GACA,GAAAtD,GAAAue,GACAxQ,MAAA,GAAA2U,IACA8B,EAAAjpB,EAAA2jB,EAAA5b,EAAAkd,EAAA8D,EAAAnF,EAAApR,OAEA,CACA,GAAAqR,GAAAD,EACAA,EAAAsB,EAAAllB,EAAA+H,GAAAib,EAAAjb,EAAA,GAAA/H,EAAA2jB,EAAAnR,OACA5R,OAEAA,KAAAijB,IACAA,EAAAb,GAEAiF,EAAAjoB,EAAA+H,EAAA8b,KAEGe,IAkBH,QAAAqE,GAAAjpB,EAAA2jB,EAAA5b,EAAAkd,EAAAiE,EAAAtF,EAAApR,GACA,GAAAuQ,GAAAmC,EAAAllB,EAAA+H,GACAib,EAAAkC,EAAAvB,EAAA5b,GACAqa,EAAA5P,EAAA3S,IAAAmjB,EAEA,IAAAZ,EAEA,WADA6F,GAAAjoB,EAAA+H,EAAAqa,EAGA,IAAAyB,GAAAD,EACAA,EAAAb,EAAAC,EAAAjb,EAAA,GAAA/H,EAAA2jB,EAAAnR,OACA5R,GAEAuoB,MAAAvoB,KAAAijB,CAEA,IAAAsF,EAAA,CACA,GAAAxB,GAAAvf,GAAA4a,GACA6E,GAAAF,GAAAG,GAAA9E,GACAoG,GAAAzB,IAAAE,GAAAG,GAAAhF,EAEAa,GAAAb,EACA2E,GAAAE,GAAAuB,EACAhhB,GAAA2a,GACAc,EAAAd,EAEAqB,GAAArB,GACAc,EAAAwF,EAAAtG,GAEA8E,GACAsB,GAAA,EACAtF,EAAAyF,EAAAtG,GAAA,IAEAoG,GACAD,GAAA,EACAtF,EAAA0F,EAAAvG,GAAA,IAGAa,KAGA2F,GAAAxG,IAAAL,GAAAK,IACAa,EAAAd,EACAJ,GAAAI,GACAc,EAAA4F,GAAA1G,KAEAte,GAAAse,IAAAkC,GAAAR,GAAA1B,MACAc,EAAA6F,EAAA1G,KAIAmG,GAAA,EAGAA,IAEA3W,EAAAJ,IAAA4Q,EAAAa,GACAqF,EAAArF,EAAAb,EAAAiC,EAAArB,EAAApR,GACAA,EAAA,OAAAwQ,IAEAiF,EAAAjoB,EAAA+H,EAAA8b,GAWA,QAAAN,GAAAlB,EAAAjb,GACA,MAAAuiB,IAAAC,GAAAvH,EAAAjb,EAAAyiB,IAAAxH,EAAA,IA4BA,QAAAiH,GAAAQ,EAAAC,GACA,GAAAA,EACA,MAAAD,GAAAhhB,OAEA,IAAAjC,GAAAijB,EAAAjjB,OACA1F,EAAA6oB,MAAAnjB,GAAA,GAAAijB,GAAA5kB,YAAA2B,EAGA,OADAijB,GAAAG,KAAA9oB,GACAA,EAUA,QAAA+oB,GAAAC,GACA,GAAAhpB,GAAA,GAAAgpB,GAAAjlB,YAAAilB,EAAAC,WAEA,OADA,IAAAC,IAAAlpB,GAAAiR,IAAA,GAAAiY,IAAAF,IACAhpB,EAWA,QAAAooB,GAAAe,EAAAP,GACA,GAAAD,GAAAC,EAAAG,EAAAI,EAAAR,QAAAQ,EAAAR,MACA,WAAAQ,GAAAplB,YAAA4kB,EAAAQ,EAAAC,WAAAD,EAAAzjB,QAWA,QAAAwiB,GAAA1F,EAAAjc,GACA,GAAAF,IAAA,EACAX,EAAA8c,EAAA9c,MAGA,KADAa,MAAAf,MAAAE,MACAW,EAAAX,GACAa,EAAAF,GAAAmc,EAAAnc,EAEA,OAAAE,GAaA,QAAAgc,GAAAC,EAAApb,EAAAvI,EAAA4jB,GACA,GAAA4G,IAAAxqB,CACAA,UAKA,KAHA,GAAAwH,IAAA,EACAX,EAAA0B,EAAA1B,SAEAW,EAAAX,GAAA,CACA,GAAAkB,GAAAQ,EAAAf,GAEAqc,EAAAD,EACAA,EAAA5jB,EAAA+H,GAAA4b,EAAA5b,KAAA/H,EAAA2jB,OACA/iB,OAEAA,KAAAijB,IACAA,EAAAF,EAAA5b,IAEAyiB,EACAtC,EAAAloB,EAAA+H,EAAA8b,GAEAX,EAAAljB,EAAA+H,EAAA8b,GAGA,MAAA7jB,GAoEA,QAAA+mB,GAAA1e,EAAAN,GACA,GAAAmC,GAAA7B,EAAAmd,QACA,OAAAiF,IAAA1iB,GACAmC,EAAA,gBAAAnC,GAAA,iBACAmC,EAAA7B,IAWA,QAAAqiB,GAAA1qB,EAAA+H,GACA,GAAApH,GAAAmD,EAAA9D,EAAA+H,EACA,OAAAygB,GAAA7nB,SAAAC,GAUA,QAAA0nB,GAAA3nB,GACA,GAAAI,GAAAZ,GAAAjB,KAAAyB,EAAAE,IACAG,EAAAL,EAAAE,GAEA,KACAF,EAAAE,QAAAD,EACA,IAAAK,IAAA,EACG,MAAAC,IAEH,GAAAC,GAAAwpB,GAAAzrB,KAAAyB,EAQA,OAPAM,KACAF,EACAJ,EAAAE,IAAAG,QAEAL,GAAAE,KAGAM,EAUA,QAAAuoB,GAAA1pB,GACA,wBAAAA,GAAAkF,aAAAoe,GAAAtjB,MACA4qB,GAAAC,GAAA7qB,IAYA,QAAA6iB,GAAAliB,EAAAkG,GACA,GAAAK,SAAAvG,EAGA,UAFAkG,EAAA,MAAAA,EAAAid,GAAAjd,KAGA,UAAAK,GACA,UAAAA,GAAA6c,GAAAxa,KAAA5I,KACAA,GAAA,GAAAA,EAAA,MAAAA,EAAAkG,EAaA,QAAAmd,IAAArjB,EAAA6G,EAAAxH,GACA,IAAAyE,GAAAzE,GACA,QAEA,IAAAkH,SAAAM,EACA,oBAAAN,EACA+c,GAAAjkB,IAAA6iB,EAAArb,EAAAxH,EAAA6G,QACA,UAAAK,GAAAM,IAAAxH,KAEAijB,GAAAjjB,EAAAwH,GAAA7G,GAYA,QAAA8pB,IAAA9pB,GACA,GAAAuG,SAAAvG,EACA,iBAAAuG,GAAA,UAAAA,GAAA,UAAAA,GAAA,WAAAA,EACA,cAAAvG,EACA,OAAAA,EAUA,QAAA8nB,IAAApG,GACA,QAAAyI,SAAAzI,GAUA,QAAAiB,IAAA3iB,GACA,GAAAujB,GAAAvjB,KAAAuE,WAGA,OAAAvE,MAFA,kBAAAujB,MAAAhkB,WAAAoG,IAcA,QAAA8c,IAAApjB,GACA,GAAAmB,KACA,UAAAnB,EACA,OAAA+H,KAAAtI,QAAAO,GACAmB,EAAA6G,KAAAD,EAGA,OAAA5G,GAUA,QAAAmjB,IAAA3jB,GACA,MAAAgqB,IAAAzrB,KAAAyB,GAYA,QAAAipB,IAAAvH,EAAAjb,EAAA2jB,GAEA,MADA3jB,GAAAoc,OAAA5iB,KAAAwG,EAAAib,EAAAxb,OAAA,EAAAO,EAAA,GACA,WAMA,IALA,GAAAV,GAAAE,UACAY,GAAA,EACAX,EAAA2c,GAAA9c,EAAAG,OAAAO,EAAA,GACAM,EAAAf,MAAAE,KAEAW,EAAAX,GACAa,EAAAF,GAAAd,EAAAU,EAAAI,EAEAA,IAAA,CAEA,KADA,GAAAic,GAAA9c,MAAAS,EAAA,KACAI,EAAAJ,GACAqc,EAAAjc,GAAAd,EAAAc,EAGA,OADAic,GAAArc,GAAA2jB,EAAArjB,GACAT,EAAAob,EAAA3jB,KAAA+kB,IAkDA,QAAAmF,IAAAvG,GACA,SAAAA,EAAA,CACA,IACA,MAAA2I,IAAA9rB,KAAAmjB,GACK,MAAAnhB,IACL,IACA,MAAAmhB,GAAA,GACK,MAAAnhB,KAEL,SAmCA,QAAA+hB,IAAAtiB,EAAAwjB,GACA,MAAAxjB,KAAAwjB,GAAAxjB,OAAAwjB,MA4EA,QAAAF,IAAAtjB,GACA,aAAAA,GAAA6jB,GAAA7jB,EAAAkG,UAAA4d,GAAA9jB,GA4BA,QAAAyjB,IAAAzjB,GACA,MAAA6D,IAAA7D,IAAAsjB,GAAAtjB,GAuCA,QAAA8jB,IAAA9jB,GACA,IAAA8D,GAAA9D,GACA,QAIA,IAAAK,GAAAN,EAAAC,EACA,OAAAK,IAAA0jB,IAAA1jB,GAAA2jB,IAAA3jB,GAAAiqB,IAAAjqB,GAAAkqB,GA6BA,QAAA1G,IAAA7jB,GACA,sBAAAA,IACAA,GAAA,GAAAA,EAAA,MAAAA,GAAAmjB,GA4BA,QAAArf,IAAA9D,GACA,GAAAuG,SAAAvG,EACA,cAAAA,IAAA,UAAAuG,GAAA,YAAAA,GA2BA,QAAA1C,IAAA7D,GACA,aAAAA,GAAA,gBAAAA,GA+BA,QAAA6oB,IAAA7oB,GACA,IAAA6D,GAAA7D,IAAAD,EAAAC,IAAAwqB,GACA,QAEA,IAAAC,GAAAP,GAAAlqB,EACA,WAAAyqB,EACA,QAEA,IAAAlH,GAAA/jB,GAAAjB,KAAAksB,EAAA,gBAAAA,EAAAlmB,WACA,yBAAAgf,oBACA8G,GAAA9rB,KAAAglB,IAAAmH,GA8CA,QAAA5B,IAAA9oB,GACA,MAAA+iB,GAAA/iB,EAAAikB,GAAAjkB,IA0BA,QAAAikB,IAAA5kB,GACA,MAAAikB,IAAAjkB,GAAAyiB,EAAAziB,GAAA,GAAAmjB,EAAAnjB,GAyDA,QAAAsrB,IAAA3qB,GACA,kBACA,MAAAA,IAoBA,QAAAkpB,IAAAlpB,GACA,MAAAA,GAgBA,QAAA4qB,MACA,SA75DA,GAAA7D,IAAA,IAGA7B,GAAA,4BAGA2F,GAAA,IACAC,GAAA,GAGA3H,GAAA,iBAGAS,GAAA,qBAEA0G,GAAA,yBAIAvG,GAAA,oBACAC,GAAA,6BAGA0D,GAAA,gBACA8C,GAAA,kBACAD,GAAA,iBAIA9C,GAAA,qBAmBAsD,GAAA,sBAGA/C,GAAA,8BAGA5E,GAAA,mBAGA+E,KACAA,IAxBA,yBAwBAA,GAvBA,yBAwBAA,GAvBA,sBAuBAA,GAtBA,uBAuBAA,GAtBA,uBAsBAA,GArBA,uBAsBAA,GArBA,8BAqBAA,GApBA,wBAqBAA,GApBA,yBAoBA,EACAA,GAAAvE,IAAAuE,GAjDA,kBAkDAA,GAhCA,wBAgCAA,GAhDA,oBAiDAA,GAhCA,qBAgCAA,GAhDA,iBAiDAA,GAhDA,kBAgDAA,GAAApE,IACAoE,GA9CA,gBA8CAA,GA7CA,mBA8CAA,GAAAqC,IAAArC,GA1CA,mBA2CAA,GA1CA,gBA0CAA,GAzCA,mBA0CAA,GAxCA,qBAwCA,CAGA,IAAA6C,IAAA,gBAAArrB,SAAAb,iBAAAa,EAGAsrB,GAAA,gBAAAntB,kBAAAgB,iBAAAhB,KAGAP,GAAAytB,IAAAC,IAAAtO,SAAA,iBAGAuO,GAAA,gBAAAztB,UAAAoL,UAAApL,EAGA0tB,GAAAD,IAAA,gBAAAxtB,UAAAmL,UAAAnL,EAGA0tB,GAAAD,OAAA1tB,UAAAytB,GAGAG,GAAAD,IAAAJ,GAAAM,QAGAC,GAAA,WACA,IACA,MAAAF,QAAAG,SAAAH,GAAAG,QAAA,QACG,MAAAjrB,QAIHkrB,GAAAF,OAAAlE,aA+FAqE,GAAA1lB,MAAAzG,UACAosB,GAAAhP,SAAApd,UACAoG,GAAA7G,OAAAS,UAGAqsB,GAAAruB,GAAA,sBAGA8sB,GAAAsB,GAAAxrB,SAGAX,GAAAmG,GAAAnG,eAGA2qB,GAAA,WACA,GAAA0B,GAAA,SAAAC,KAAAF,OAAA7jB,MAAA6jB,GAAA7jB,KAAAgkB,UAAA,GACA,OAAAF,GAAA,iBAAAA,EAAA,MAQA7B,GAAArkB,GAAAxF,SAGAuqB,GAAAL,GAAA9rB,KAAAO,QAGAipB,GAAApf,OAAA,IACA0hB,GAAA9rB,KAAAiB,IAAAkN,QAAAqe,GAAA,QACAre,QAAA,uEAIAsf,GAAAZ,GAAA7tB,GAAAyuB,WAAA/rB,GACAoE,GAAA9G,GAAA8G,OACAqlB,GAAAnsB,GAAAmsB,WACAL,GAAA2C,MAAA3C,gBAAAppB,GACAiqB,GA7DA,SAAAxI,EAAA0I,GACA,gBAAA6B,GACA,MAAAvK,GAAA0I,EAAA6B,MA2DAntB,OAAAotB,eAAAptB,QACAqtB,GAAArtB,OAAAqX,OACAuN,GAAA/d,GAAA+d,qBACAgC,GAAAgG,GAAAhG,OACAxlB,GAAAmE,MAAAwB,gBAAA5F,GAEAlB,GAAA,WACA,IACA,GAAA2iB,GAAAqI,EAAAjrB,OAAA,iBAEA,OADA4iB,MAAW,OACXA,EACG,MAAAnhB,QAIH6rB,GAAAJ,MAAA7E,aAAAlnB,GACA4iB,GAAA9d,KAAAK,IACAinB,GAAAC,KAAAC,IAGAtG,GAAA8D,EAAAxsB,GAAA,OACAunB,GAAAiF,EAAAjrB,OAAA,UAUAmrB,GAAA,WACA,QAAA5qB,MACA,gBAAAorB,GACA,IAAA3mB,GAAA2mB,GACA,QAEA,IAAA0B,GACA,MAAAA,IAAA1B,EAEAprB,GAAAE,UAAAkrB,CACA,IAAAjqB,GAAA,GAAAnB,EAEA,OADAA,GAAAE,cAAAU,GACAO,KAoGAgkB,GAAAjlB,UAAAmlB,MAAAE,EACAJ,EAAAjlB,UAAA,OAAAwlB,EACAP,EAAAjlB,UAAAL,IAAA+lB,EACAT,EAAAjlB,UAAAylB,IAAAG,EACAX,EAAAjlB,UAAAkS,IAAA2T,EA+GAC,EAAA9lB,UAAAmlB,MAAAY,EACAD,EAAA9lB,UAAA,OAAAgmB,EACAF,EAAA9lB,UAAAL,IAAAymB,EACAN,EAAA9lB,UAAAylB,IAAAY,EACAP,EAAA9lB,UAAAkS,IAAAoU,EAiGAC,EAAAvmB,UAAAmlB,MAAAqB,EACAD,EAAAvmB,UAAA,OAAA4mB,EACAL,EAAAvmB,UAAAL,IAAAmnB,EACAP,EAAAvmB,UAAAylB,IAAAsB,EACAR,EAAAvmB,UAAAkS,IAAA8U,EAgGAC,EAAAjnB,UAAAmlB,MAAA+B,EACAD,EAAAjnB,UAAA,OAAAmnB,EACAF,EAAAjnB,UAAAL,IAAAynB,EACAH,EAAAjnB,UAAAylB,IAAA4B,EACAJ,EAAAjnB,UAAAkS,IAAAoV,CA0HA,IAAAwB,IAsWA,SAAAmE,GACA,gBAAAntB,EAAAwiB,EAAA4K,GAMA,IALA,GAAA5lB,IAAA,EACA6lB,EAAA5tB,OAAAO,GACAuI,EAAA6kB,EAAAptB,GACA6G,EAAA0B,EAAA1B,OAEAA,KAAA,CACA,GAAAkB,GAAAQ,EAAA4kB,EAAAtmB,IAAAW,EACA,SAAAgb,EAAA6K,EAAAtlB,KAAAslB,GACA,MAGA,MAAArtB,OAlKAstB,GAAA5tB,GAAA,SAAA2iB,EAAAwE,GACA,MAAAnnB,IAAA2iB,EAAA,YACA1iB,cAAA,EACAC,YAAA,EACAe,MAAA2qB,GAAAzE,GACAsB,UAAA,KALA0B,GA+XAF,GAWA,SAAAtH,GACA,GAAAkL,GAAA,EACAC,EAAA,CAEA,mBACA,GAAAC,GAAAT,KACAU,EAAAjC,IAAAgC,EAAAD,EAGA,IADAA,EAAAC,EACAC,EAAA,GACA,KAAAH,GAAA/B,GACA,MAAA5kB,WAAA,OAGA2mB,GAAA,CAEA,OAAAlL,GAAApb,UAAArG,GAAAgG,aA3BA0mB,IAwGA3K,GAAA4F,EAAA,WAA8C,MAAA3hB,eAAoB2hB,EAAA,SAAA5nB,GAClE,MAAA6D,IAAA7D,IAAAR,GAAAjB,KAAAyB,EAAA,YACA0jB,GAAAnlB,KAAAyB,EAAA,WA0BAyH,GAAAzB,MAAAyB,QA6EA0f,GAAAiF,IAAAxB,GAgLAvD,GAAAoE,GAjnDA,SAAA/J,GACA,gBAAA1hB,GACA,MAAA0hB,GAAA1hB,KA+mDAyrB,IAAAvD,EAwFAhkB,GApuBA,SAAAigB,GACA,MAAAvB,GAAA,SAAAvjB,EAAA+kB,GACA,GAAAvd,IAAA,EACAX,EAAAke,EAAAle,OACA+c,EAAA/c,EAAA,EAAAke,EAAAle,EAAA,OAAAjG,GACAokB,EAAAne,EAAA,EAAAke,EAAA,OAAAnkB,EAWA,KATAgjB,EAAAkB,EAAAje,OAAA,qBAAA+c,IACA/c,IAAA+c,OACAhjB,GAEAokB,GAAAhB,GAAAe,EAAA,GAAAA,EAAA,GAAAC,KACApB,EAAA/c,EAAA,MAAAjG,GAAAgjB,EACA/c,EAAA,GAEA7G,EAAAP,OAAAO,KACAwH,EAAAX,GAAA,CACA,GAAA8c,GAAAoB,EAAAvd,EACAmc,IACAmB,EAAA9kB,EAAA2jB,EAAAnc,EAAAoc,GAGA,MAAA5jB,MA8sBA,SAAAA,EAAA2jB,EAAAsB,GACA8D,EAAA/oB,EAAA2jB,EAAAsB,IAiEA5mB,GAAAD,QAAAyG,KjBm2G6B3F,KAAKd,EAASS,EAAoB,GAAIA,EAAoB,IAAIR,KAIrF,SAAUA,EAAQD,GkBjxKxBC,EAAAD,QAAA,SAAAC,GAoBA,MAnBAA,GAAAsvB,kBACAtvB,EAAAuvB,UAAA,aACAvvB,EAAAwvB,SAEAxvB,EAAAyvB,WAAAzvB,EAAAyvB,aACAruB,OAAAC,eAAArB,EAAA,UACAuB,YAAA,EACAC,IAAA,WACA,MAAAxB,GAAAY,KAGAQ,OAAAC,eAAArB,EAAA,MACAuB,YAAA,EACAC,IAAA,WACA,MAAAxB,GAAAW,KAGAX,EAAAsvB,gBAAA,GAEAtvB,IlByxKM,SAAUA,EAAQD,EAASS,GAEjC,YAmBA,SAAS0B,GAAuBC,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,GmBl0KvF,GAAA6E,GAAAxG,EAAA,GnBozKIyG,EAAM/E,EAAuB8E,GmBnzKjC8O,EAAAtV,EAAA,GAAYuV,EnB+zKZ,SAAiC5T,GAAO,GAAIA,GAAOA,EAAIT,WAAc,MAAOS,EAAc,IAAI6T,KAAa,IAAW,MAAP7T,EAAe,IAAK,GAAIuH,KAAOvH,GAAWf,OAAOS,UAAUC,eAAejB,KAAKsB,EAAKuH,KAAMsM,EAAOtM,GAAOvH,EAAIuH,GAAgC,OAAtBsM,GAAO5T,QAAUD,EAAY6T,GARhOF,GmBtzKlC2M,EAAAjiB,EAAA,GnB0zKIkiB,EAAYxgB,EAAuBugB,GmBzzKvCxM,EAAAzV,EAAA,GAEIiG,GACA+K,OACIke,UAAW,OAGXC,cAAc,EACdve,SACIqE,IAAK,EACLe,MAAO,EAEPC,WAAQlU,GAERiT,SAAMjT,KAIdwU,OAEIlO,KAAM,KACN+K,eAAYrR,GACZmF,QAAKnF,GACLkK,QAAKlK,GACLua,cAAe,EACfC,cAAe,EACfC,YAAa,EACbgE,aAAUze,GACV0M,UAAO1M,GACP4M,eAAY5M,GACZqtB,UAAOrtB,GACPstB,aAAc,EAEdjO,kBAAmB,GAEnBC,kBAAmB,GACnB1c,cAAc,EACd2qB,OAAQ,SACR3T,QACIC,WAAQ7Z,GACRma,cAAWna,IAEfggB,cAAc,EAEdwN,WAAW,GAGf/Y,OAGIvK,QAAKlK,GACLmF,QAAKnF,GACL2Z,SACIrT,KAAM,OACN6B,SACImG,YAAY,IAGpBiM,cAAe,EACfC,cAAe,EACfC,YAAa,EACb7N,eAAY5M,GACZ0M,UAAO1M,GACPqtB,UAAOrtB,GACPstB,aAAc,EACdC,OAAQ,OACR3T,QAEI6T,cAAe,SACf5T,OAAQ,IACRM,cAAWna,MAkBnB0tB,EAAY,WACZ,GAAIC,GAAc,SAAUxlB,GAAW,MAAOrD,MAAKK,IAAIgD,EAAQqS,eAAiB,EAAGrS,EAAQoS,eAAiB,GAC5G,QACI7O,WAEA0H,KAAM,SAAUjL,GAGZ,GAAIylB,IACA3e,OACImF,cAAc,EACdD,iBACID,WAAQlU,GACRiT,SAAMjT,KAKlBlC,MAAKqK,QAAUA,MAEfqL,EAAIvP,MAAMnG,KAAKqK,QAASylB,EAExB,IAAIC,KAOJ,OANK/vB,MAAKqK,QAAQqM,OAAU1W,KAAKqK,QAAQqM,MAAM5R,eAC3CirB,GAAiB5e,OAAUJ,SAAWoF,MAAO,OAGjDnW,KAAKuY,cAAcjP,KAAKoM,EAAIvP,SAAUC,EAAU2pB,IAEzC/vB,MAGXujB,WACAyM,WAEAC,kBAAmB,SAAU1f,EAAQlG,GACjC,GAAI6lB,GAAOlwB,KAAKqK,QAAQsM,MACpBnG,EAAiC,MAAnB0f,EAAK1f,WAAsB0f,EAAK1f,WAAa0f,EAAKrU,QAAQxR,QAAQmG,WAChF2f,EAAS3f,GAAcD,GAAUA,EAAO,GAAK,EAAI,MAAIrO,GACrDkK,EAAkB,MAAZ8jB,EAAK9jB,IAAc8jB,EAAK9jB,IAAM+jB,CAExC,OAAID,GAAKphB,WACW,MAAZohB,EAAK9jB,KAA2B,MAAZ8jB,EAAK7oB,KACjB6oB,EAAK9jB,IAAK8jB,EAAK7oB,KACJ,MAAZ6oB,EAAK9jB,KACJ8jB,EAAK9jB,IAAK2H,UAAG1M,IAAImJ,GAAc,GAAGlI,OAAO4nB,EAAKphB,YAAcohB,EAAKphB,aACtD,MAAZohB,EAAK7oB,KACJ0M,UAAG3H,IAAIoE,GAAc,GAAGlI,OAAO4nB,EAAKphB,YAAcohB,EAAKphB,YAAaohB,EAAK7oB,KAE1E0M,UAAGsL,OAAO7O,GAA0B,MAAZ0f,EAAK9jB,KAAeA,GAAK9D,OAAO4nB,EAAKphB,YAAcohB,EAAKphB,YAEpFohB,EAAKxR,WAAmC,UAAtBwR,EAAKrU,QAAQrT,KAC/BuL,UAAGsL,OAAO7O,GAA0B,MAAZ0f,EAAK9jB,KAAeA,GAAK9D,OAAOiI,GAAUA,GAC5C,aAAtB2f,EAAKrU,QAAQrT,KACbuL,UAAGsL,OAAO9O,GAGdmF,EAAI9R,mBAAmB2M,EAAQnE,EAAK8jB,EAAK7oB,IAAK6oB,EAAKthB,QAI9D0K,cAAe,WACX,GAAI8W,GAAWpwB,KAAKqK,QAAQqM,MACxB2Z,EAAWrwB,KAAKqK,QAAQsM,KAEa,OAArC3W,KAAKqK,QAAQ8G,MAAMJ,QAAQqF,OAC3BpW,KAAKqK,QAAQ8G,MAAMkF,gBAAgBD,OAASpW,KAAKswB,0BAA0BF,GAE3EpwB,KAAKqK,QAAQ8G,MAAMkF,gBAAgBD,OAASpW,KAAKqK,QAAQ8G,MAAMJ,QAAQqF,QAAU,EAGrFpW,KAAKqK,QAAQ8G,MAAMJ,QAAQqE,IAAMpV,KAAKqK,QAAQ8G,MAAMkF,gBAAgBjB,IAAMpV,KAAKuwB,uBAAuBH,GAG/D,MAAnCpwB,KAAKqK,QAAQ8G,MAAMJ,QAAQoE,KAC3BnV,KAAKqK,QAAQ8G,MAAMkF,gBAAgBlB,KAAOnV,KAAKwwB,wBAAwBH,GAEvErwB,KAAKqK,QAAQ8G,MAAMkF,gBAAgBlB,KAAOnV,KAAKqK,QAAQ8G,MAAMJ,QAAQoE,KAGzEnV,KAAKqK,QAAQ8G,MAAMJ,QAAQoF,MAAQnW,KAAKqK,QAAQ8G,MAAMkF,gBAAgBF,MAAQnW,KAAKywB,yBAAyBJ,IAGhHE,uBAAwB,SAAUlmB,GAC9B,MAAOrK,MAAKqK,QAAQ8G,MAAMJ,QAAQqE,KAGtCkb,0BAA2B,SAAUjmB,GACjC,GAAsB,IAAlBA,EAAQuE,MAAa,CACrB,GAAI8hB,GAAU1wB,KAAKujB,QACfoN,EAAYD,EAAQlV,KAAK,QACzBoV,EAAelb,EAAInS,WAAWotB,EAAW,WACzCE,EAAiBnb,EAAInS,WAAW,iEAAkE,WAClGutB,EAAKD,EAAe1e,OACpB4e,EAAM1mB,EAAQyR,QAAUzR,EAAQyR,OAAO+E,SAAWxW,EAAQyR,OAAO+E,SAAW,IAAM,EAClFmQ,EAA2B,IAARD,EAAYF,EAAe1e,OAASnL,KAAK+B,KAAK/B,KAAK6F,IAAI+jB,EAAa9f,MAAQ9J,KAAK0G,IAAIgI,EAAItR,SAAS2sB,KAASD,EAAK,EACvI,OAAOjB,GAAYxlB,IAAYA,EAAQsS,aAAe,GAClDqU,EAEJ,MAAOnB,GAAYxlB,IAAYA,EAAQsS,aAAe,IAI9D6T,wBAAyB,SAAUnmB,GAC/B,GAAI4mB,GAAgBjxB,KAAKiwB,kBAAkBjwB,KAAKgwB,QAAShwB,KAAKqK,SAC1D6mB,EAAWnd,UAAGkI,MAAMW,SAASrM,OAAO0gB,GACpCE,EAAUD,EAAStiB,MAAMvE,EAAQuE,OAEjCmN,EAAS1R,EAAQyR,OAAOO,WAAatI,UAAGgI,OAAO1R,EAAQyR,OAAOC,QAAU,QACxEqV,EAAYD,EAAQxnB,IAAIoS,GAAQP,KAAK,QACrC6V,EAAe3b,EAAInS,WAAW6tB,EAAW,UAC7C,OAAOvB,GAAY7vB,KAAKqK,QAAQsM,QAAU3W,KAAKqK,QAAQsM,MAAMgG,aAAe,GACxE0U,EAAavgB,OAGrB2f,yBAA0B,SAAUpmB,GAChC,MAAOrK,MAAKqK,QAAQ8G,MAAMJ,QAAQoF,OAGtCoD,mBAAoB,WAChB,GAAI+X,IACAtxB,KAAKqK,QAAQqM,MAAM6Y,OAASvvB,KAAKqK,QAAQsM,MAAM4Y,SAC5CvvB,KAAKqK,QAAQqM,MAAM6Y,QAClB+B,EAAc5b,EAAInS,WAAWvD,KAAKqK,QAAQqM,MAAM6Y,MAAO,iBACvDvvB,KAAKqK,QAAQ8G,MAAMkF,gBAAgBD,QAAUkb,EAAYnf,OAASnS,KAAKqK,QAAQqM,MAAM8Y,cAGtFxvB,KAAKqK,QAAQsM,MAAM4Y,QAClB+B,EAAc5b,EAAInS,WAAWvD,KAAKqK,QAAQsM,MAAM4Y,MAAO,iBACvDvvB,KAAKqK,QAAQ8G,MAAMkF,gBAAgBlB,MAAQmc,EAAYnf,OAASnS,KAAKqK,QAAQsM,MAAM6Y,gBAK/F+B,cAAe,WACX,IAAKvxB,KAAKujB,QAAS,KAAM,IAAI9L,OAAM,2DAE/BzX,MAAKwxB,QAKLxxB,KAAKyxB,gBAAgBpX,OAAOra,KAAKujB,QAASvjB,KAAK4N,QAAS5N,KAAKqK,SAC7DrK,KAAKmgB,UAAYngB,KAAKyxB,gBAAgBtR,cALtCngB,KAAKyxB,iBAAkB,EAAA7b,EAAAkB,eAAc9W,KAAK4N,QAAS5N,KAAKqK,SACxDrK,KAAKwxB,OAASxxB,KAAKyxB,gBAAgBxV,MAAMjc,KAAKujB,SAC9CvjB,KAAKmgB,UAAYngB,KAAKyxB,gBAAgBtR,cAO9CuR,cAAe,WACX,IAAK1xB,KAAKgwB,QAAS,KAAM,IAAIvY,OAAM,2DAEnC,IAAIka,GAAe3xB,KAAKiwB,kBAAkBjwB,KAAKgwB,QAAShwB,KAAKqK,QAEzDrK,MAAK4xB,OAIL5xB,KAAK6xB,gBAAgBxX,OAAOsX,EAAc3xB,KAAK4N,UAH/C5N,KAAK6xB,iBAAkB,EAAAjc,EAAAmB,eAAc/W,KAAK4N,QAAS5N,KAAKqK,QAASrK,KAAKqK,QAAQsM,MAAMnO,KAAMxI,KAAKgwB,SAC/FhwB,KAAK4xB,OAAS5xB,KAAK6xB,gBAAgB5V,MAAM0V,KAiBjDH,WAAQtvB,GAaR0vB,WAAQ1vB,GAWR4vB,WAAY,SAAUvhB,GAClBvQ,KAAK6xB,gBAAgBhV,UAAUtM,IAYnCwhB,YAAa,WACT/xB,KAAKwa,IAAIjG,OAAO,WAAW/T,KAAKR,KAAK2W,SACrC3W,KAAKgyB,mBAGTC,mBAAoB,WAChB,GAAItY,GAAM3Z,KAAKqK,QAAQ8G,MAAM0E,UAC7B,OAAO8D,IAAOA,EAAI7D,OACE,MAAhB6D,EAAI5D,SAAmB4D,EAAI5D,SAAW,IACtC,GAGRmc,cAAe,WAIX,MAHAlyB,MAAKuxB,gBACLvxB,KAAK0xB,gBAEE1xB,MAGXmyB,WAAQjwB,GACRwU,MAAO,WAIH,MAHK1W,MAAKmyB,SACNnyB,KAAKmyB,OAASnyB,KAAKyxB,gBAAgBtV,OAAOsT,OAAOzvB,KAAKqK,QAAQqM,MAAM+Y,SAEjEzvB,KAAKmyB,QAGhBpV,WAAQ7a,GACRyU,MAAO,WAIH,MAHI3W,MAAK+c,SACL/c,KAAK+c,OAAS/c,KAAK6xB,gBAAgB1V,OAAOsT,OAAOzvB,KAAKqK,QAAQsM,MAAM8Y,SAEjEzvB,KAAK+c,QAGhBqV,YAAa,WAAY,GAAAhX,GAAApb,KACf0W,EAAQ1W,KAAK0W,QACbH,EAAavW,KAAKqK,QAAQ8G,MAAMoF,WAChCwC,EAAa/Y,KAAKqK,QAAQ8G,MAAMkF,gBAAgBjB,IAChDtO,EAAI9G,KAAKqK,QAAQ8G,MAAMkF,gBAAgBlB,KAEzCxJ,GADY3L,KAAKqK,QAAQ8G,MAAM0E,WAC3B7V,KAAKqK,QAAQ8G,MAAMJ,QAAQqE,KAC7BvM,EAAIkL,UAAGse,aAAatc,SAAS/V,KAAKiyB,sBAElCK,EAAmB,iBAAM,UAACC,GAC5B,GAAInX,EAAK/Q,QAAQqM,MAAMgZ,UAAW,CAC9B,GAAM8C,GAAMjc,EAAa5K,EAAIoN,CACbwZ,GAAUvR,UAAU,gBAC5BzG,KAAK,YAAa,gBAAmBiY,EAAO,OAa5D,IATIxyB,KAAKqK,QAAQqM,MAAMgZ,UACnB/jB,GAAK3L,KAAK4xB,OAAO,GAEjBjmB,GAAK4K,EAGTvW,KAAKyyB,YAAczyB,KAAKwa,IAAIwG,UAAU,WACjCxV,MAAM,IAENxL,KAAKyyB,YAAYhY,OAOf,CACH,GAAMd,GAAM3Z,KAAKqK,QAAQ8G,MAAM0E,UAE3B8D,IAAOA,EAAI7D,OAGX9V,KAAKyyB,YACAJ,WAAWxpB,GACX0R,KAAK,YAAa,aAAezT,EAAI,IAAM6E,EAAI,KAC/CnL,KAAKkW,GACLlW,KAAK8xB,KAElBtyB,KAAKyyB,YACQlY,KAAK,YAAa,aAAezT,EAAI,IAAM6E,EAAI,KACvDnL,KAAKkW,GACGlW,KAAK8xB,SArBdtyB,MAAKyyB,YAAYC,QACZhY,OAAO,KACPH,KAAK,YAAa,aAAezT,EAAI,IAAM6E,EAAI,KAC/C4O,KAAK,QAAS,UACd/Z,KAAKkW,GACLlW,KAAK8xB,IAsBd,OAFAtyB,MAAKyxB,gBAAgBrR,gBAAgBpgB,KAAKyyB,aAEnCzyB,MAGX2yB,YAAa,WACT,GAAI7rB,GAAI9G,KAAKqK,QAAQ8G,MAAMkF,gBAAgBlB,KACvCxJ,EAAI3L,KAAKqK,QAAQ8G,MAAMJ,QAAQqE,GAiBnC,OAfApV,MAAK4yB,YAAc5yB,KAAKwa,IAAIwG,UAAU,WACjCxV,MAAM,IAENxL,KAAK4yB,YAAYnY,OAMlB1G,UAAGQ,OAAOvU,KAAK4yB,YAAYnY,QACtBF,KAAK,YAAa,aAAezT,EAAI,IAAM6E,EAAI,KANpD3L,KAAK4yB,YACAF,QAAQhY,OAAO,KACfH,KAAK,YAAa,aAAezT,EAAI,IAAM6E,EAAI,KAC/C4O,KAAK,QAAS,UAMvBva,KAAK6yB,sBAEE7yB,MAGX6yB,oBAAqB,WACjB,GAAMxoB,GAAUrK,KAAKqK,QAAQsM,MACvBmc,GAAoB1c,OAAQ,OAAQ2c,OAAQ,QAAS3d,IAAK,KAC1D4d,EAAUhzB,KAAKqK,QAAQ8G,MAAM0E,UAE/Bmd,IAAWA,EAAQld,OACnB9V,KAAK4yB,YACAP,aAAatc,SAAS/V,KAAKiyB,sBAC3BzxB,KAAKR,KAAK2W,SACVqK,UAAU,cACNzG,KAAK,KAAMuY,EAAgBzoB,EAAQyR,OAAO6T,gBAEnD3vB,KAAK4yB,YACApyB,KAAKR,KAAK2W,SACVqK,UAAU,cACNzG,KAAK,KAAMuY,EAAgBzoB,EAAQyR,OAAO6T,iBAI3DsD,iBAAkB,WACd,GACIC,GAAQpsB,EAAG6E,EACXvC,CAwCJ,OAtCIpJ,MAAKqK,QAAQqM,MAAM6Y,QACnB2D,EAASxd,EAAInS,WAAWvD,KAAKqK,QAAQqM,MAAM6Y,MAAO,iBAClD5jB,EAAI3L,KAAKqK,QAAQ8G,MAAMkF,gBAAgBD,OACvCtP,EAAI,EACJsC,EAAKpJ,KAAKyyB,YAAYzR,UAAU,iBAAiBxV,MAAM,IAClDpC,EAAGqR,QACJrR,EAAGspB,QAAQhY,OAAO,QACbH,KAAK,QAAS,gBAGvBxG,UAAGQ,OAAOnL,EAAGqR,QACRF,KAAK,IAAKzT,GACVyT,KAAK,IAAK5O,GACV4O,KAAK,qBAAsB,cAC3BA,KAAK,MAAOva,KAAKqK,QAAQ8G,MAAMC,UAAY8hB,EAAOpiB,OAAS,GAC3DW,KAAKzR,KAAKqK,QAAQqM,MAAM6Y,QAG7BvvB,KAAKqK,QAAQsM,MAAM4Y,QACnB2D,EAASxd,EAAInS,WAAWvD,KAAKqK,QAAQsM,MAAM4Y,MAAO,iBAClD5jB,GAAK3L,KAAKqK,QAAQ8G,MAAMkF,gBAAgBlB,KAAO+d,EAAO/gB,QAxBvC,GAAG,QAyBlBrL,EAAI,EACJsC,EAAKpJ,KAAK4yB,YAAY5R,UAAU,iBAAiBxV,MAAM,IAClDpC,EAAGqR,QACJrR,EAAGspB,QAAQhY,OAAO,QACbH,KAAK,QAAS,gBAGvBxG,UAAGQ,OAAOnL,EAAGqR,QACRF,KAAK,QAAS,gBACdA,KAAK,YAAa,eAClBA,KAAK,IAAKzT,GACVyT,KAAK,IAAK5O,GACV4O,KAAK,OAAQva,KAAKqK,QAAQ8G,MAAMoF,WAAa2c,EAAOpiB,OAAS,GAC7DyJ,KAAK,KAAM,GACX9I,KAAKzR,KAAKqK,QAAQsM,MAAM4Y,QAG1BvvB,MAGXgyB,gBAAiB,WACb,GAuBIpjB,GAAOukB,EAvBPC,EAASpzB,KAAKqK,QAAQ8G,MAAMke,UAC5BgE,EAAwB,eAAXD,GAAsC,SAAXA,EACxCE,EAAsB,aAAXF,GAAoC,SAAXA,EAsBpCtsB,EAAI9G,KAAKwxB,OACT7lB,EAAI3L,KAAK4xB,MAEb,IAAGyB,EAAY,CACX,GAAI3U,GAAY1e,KAAKqK,QAAQsM,MAAM+H,WAAiD,UAApC1e,KAAKqK,QAAQsM,MAAMkF,QAAQrT,IAC3EoG,GAzBJ,SAAmBuN,EAAM2B,GACrB,GAAIhP,GAAaqN,EAAKrN,YAEtB,KAAIA,EAAY,CACZ,GAAIsN,GAAWD,EAAKvN,QAAQ,EAC5B,OAAOuN,GAAKF,QAAQrN,MAAMwN,GAAUhS,MAAM,GAO9C,MAJI0T,IACAhP,EAAW4Y,MAGR5Y,EAAW1E,MAAM,IAaNpK,KAAK2W,QAAS+H,EAChC,IAAI6U,GAAIvzB,KAAKqK,QAAQ8G,MAAMC,SAI3B+hB,GAAKnzB,KAAK4yB,YACL5R,UAAU,eACVxV,MAAMoD,IAEXukB,EAAGT,QAAQhY,OAAO,SACbH,KAAK,QAAS,aAEnB,IAAIiZ,GAAQL,EAAGnS,UAAU,cACpBxV,KAAK,SAAU7K,GAAK,MAAOA,IAEhC6yB,GAAMnB,aAAatc,SAAS/V,KAAKiyB,sBAC5B1X,KAAK,KAAM,GACXA,KAAK,KAAM,WACR,MAAOgZ,KAEVhZ,KAAK,KAAM5O,GACX4O,KAAK,KAAM5O,GAEhB6nB,EAAMd,QAAQhY,OAAO,QACZH,KAAK,QAAS,aACdA,KAAK,KAAM,GACXA,KAAK,KAAM,WACR,MAAOgZ,KAEVhZ,KAAK,KAAM5O,GACX4O,KAAK,KAAM5O,GAEpB6nB,EAAMC,OAAOC,SAGjB,GAAGJ,EAAU,CAETtzB,KAAKyyB,YAAYle,OAAO,gBAAgBmf,SACxCP,EAAKnzB,KAAKyyB,YAAY/X,OAAO,SAASH,KAAK,QAAS,cACpD3L,EAjDJ,SAAmBuN,GACf,MAAOA,GAAKrN,eAAiBqN,EAAKF,QAAQrN,MAAQuN,EAAKF,QAAQrN,QAAQxE,MAAM,GAAK+R,EAAKF,QAAQ1L,WAgD7EvQ,KAAK0W,QACvB,IAAIid,GAAS3zB,KAAKmgB,UAAY,EAC1BjT,EAAIlN,KAAKqK,QAAQ8G,MAAMoF,UAE3B4c,GAAGnS,UAAU,cACRxV,KAAKoD,GACL8jB,QAAQhY,OAAO,QACXH,KAAK,QAAS,aACdA,KAAK,KAAM,SAAU5Z,GAAK,MAAOmG,GAAEnG,GAAKgzB,IACxCpZ,KAAK,KAAM,SAAU5Z,GAAK,MAAOmG,GAAEnG,GAAKgzB,IACxCpZ,KAAK,MAAOrN,GACZqN,KAAK,KAAM,GAGxB,MAAOva,OAGX4zB,iBAAkB,WACd,GAAIvpB,GAAUrK,KAAKqK,QAAQ8G,KAC3BnR,MAAK6zB,WAAa7zB,KAAK6zB,YAAc7zB,KAAK2a,yBAAyB,aAAc,EACjF,IAAIgE,GAAI3e,KAAK6zB,WAAW7S,UAAU,yBAAyBxV,MAAM,MAWjE,OATAmT,GAAE+T,QAAQhY,OAAO,QACZH,KAAK,QAAS,wBACdA,KAAK,IAAKlQ,EAAQgM,gBAAgBlB,MAClCoF,KAAK,IAAKlQ,EAAQgM,gBAAgBjB,KAClCmF,KAAK,QAASlQ,EAAQ+G,WACtBmJ,KAAK,SAAUlQ,EAAQkM,YAE5BoI,EAAE8U,OAAOC,SAEF1zB,MAGX8zB,eAAgB,WACZ,GAAMtoB,GAAOxL,KAAKqK,QAAQ8G,MAAMme,cAAgB,SAC1CyE,EAAO/zB,KAAKwa,IAAIwG,UAAU,QAAQxV,KAAKA,EAC7CuoB,GAAKrB,QAAQhY,OAAO,OAEpB,IAAMsZ,GAAOD,EAAK/S,UAAU,YAAYxV,KAAKA,EAC7CwoB,GAAKtB,QAAQhY,OAAO,YAAYH,KAAK,KAAM,OAE3C,IAAM0Z,GAAOD,EAAKhT,UAAU,QAAQxV,KAAKA,EACzCyoB,GAAKvB,QAAQhY,OAAO,OAEpB,IAAM6Y,GAAIvzB,KAAKqK,QAAQ8G,MAAMC,UACvBlE,EAAIlN,KAAKqK,QAAQ8G,MAAMoF,UAS7B,OAPA0d,GAAK1Z,KAAK,QAASgZ,GACdhZ,KAAK,SAAUrN,GAEpB+mB,EAAKR,OAAOC,SACZM,EAAKP,OAAOC,SACZK,EAAKN,OAAOC,SAEL1zB,MAGXia,OAAQ,WAkBJ,MAhBAja,MAAKwZ,iBACLxZ,KAAKk0B,iBACLl0B,KAAKm0B,eACLn0B,KAAKqZ,cACLrZ,KAAKkyB,gBACLlyB,KAAK+Z,aAEL/Z,KACK8zB,iBACAF,mBACAxB,cACAO,cACAX,kBACAiB,mBACA/Y,uBAEEla,MAGX0L,MAAO,SAAU/K,EAAGmI,GAChB,MAAG4M,GAAI3P,SAASpF,IAAMsH,MAAMyB,QAAQ/I,EAAE6K,MAC3B7K,EAAE6K,KAAK7B,IAAI3J,KAAK0L,MAAMuP,KAAKjb,QAGlC2L,EAAG+J,EAAI3P,SAASpF,GAAKA,EAAEgL,EAAIhL,EAC3BmG,EAAG4O,EAAI3P,SAASpF,GAAKA,EAAEmG,EAAI9G,KAAKqK,QAAQqM,MAAMnD,WAAavT,KAAKqK,QAAQqM,MAAMnD,WAAWzK,GAASA,IAI1GqrB,aAAc,WACV,GAAI5T,GAAUvgB,KAAKo0B,YACnBp0B,MAAKq0B,eAAe9T,GACpBvgB,KAAKs0B,eAAe/T,GAEpBvgB,KAAK+c,OAAS,KACd/c,KAAKmyB,OAAS,KACdnyB,KAAK4xB,OAAS,MAGlByC,eAAgB,SAAU9T,GACtBvgB,KAAKujB,QAAUvjB,KAAKu0B,YACpB,IAAIC,GAAUx0B,KAAK+X,gBAAgBnH,OAAO,SAAUrB,GAAK,MAAOmG,GAAI5S,sBAAsByM,EAAE/D,OAC5FxL,MAAK4N,QAAU8H,EAAIlQ,QACfgvB,EAAQ7qB,IAAI,SAAU4F,GAClB,MAAOmG,GAAIlQ,QAAQ+J,EAAE/D,KAAK7B,IAAI3J,KAAK0L,MAAMuP,KAAKjb,SAChDib,KAAKjb,OAIX,IAAIy0B,GAAoBz0B,KAAK4N,QAAQzF,QAAUnI,KAAK4N,QAAQyC,MAAM,SAAU1P,GAAK,OAAQA,EAAEmG,IAAMnG,EAAEmG,IAC/F4tB,EAAoBhf,EAAIjQ,KAAKzF,KAAK4N,QAAQjE,IAAI,SAAUhJ,GAAK,MAAOA,GAAEmG,KACtE6tB,IAAW30B,KAAKqK,QAAQqM,MAAMnD,aAC9BvT,KAAKqK,QAAQqM,MAAMnD,WAAWpL,SAAWusB,EAAkBvsB,QAAUuN,EAAIpQ,aAAatF,KAAKqK,QAAQqM,MAAMnD,WAAYmhB,GAAmBvsB,SAAWusB,EAAkBvsB,SAGrKssB,GAAuBz0B,KAAKqK,QAAQqM,MAAMnD,YAAcohB,IACxD30B,KAAKqK,QAAQqM,MAAMnD,WAAamhB,IAIxCJ,eAAgB,SAAU/T,GACtBvgB,KAAKgwB,QAAUzP,EAAQpY,OAASoY,GAAW,EAAG,IAC9CvgB,KAAK+e,KAAO/e,KAAKgwB,QAAQ,GACzBhwB,KAAK8e,KAAO9e,KAAKgwB,QAAQhwB,KAAKgwB,QAAQ7nB,OAAS,IAGnD+rB,eAAgB,WACZ,GAAIva,GAAM3Z,KAAKqK,OACfrK,MAAK+X,gBAAgB9N,QAAQ,SAAU2qB,GACnC,GAAIld,GAAShC,EAAIvP,SAAUwT,EAAKib,EAAIvqB,QACpCuqB,GAAI5Z,cAActD,MAI1B0c,WAAY,SAAUjY,GAClB,GAAIuG,GAAQvG,GAAiB,MAATA,EAAe,UAAY,UAC3CqY,EAAUx0B,KAAK+X,gBAAgBnH,OAAO,SAAUrB,GAAK,MAAOmG,GAAI5S,sBAAsByM,EAAE/D,QACxFqpB,EAAMnf,EAAIlQ,QAAQgvB,EAAQ7qB,IAAI,SAAUhJ,GAAK,MAAOA,GAAE+hB,KAC1D,OAAOmS,GAAI1sB,OAAS4L,UAAGsL,OAAOwV,OAGlCN,WAAY,WACR,GAAIC,GAAUx0B,KAAK+X,gBAAgBnH,OAAO,SAAUrB,GAAK,MAAOmG,GAAI5S,sBAAsByM,EAAE/D,OAG5F,OAFUkK,GAAIjQ,KAAKiQ,EAAIlQ,QAAQgvB,EAAQ7qB,IAAI,SAAUhJ,GAAK,MAAOA,GAAE4iB,cAQ/ElO,WAAQ2C,OAAO,YAAa4X,InB2wKtB,SAAUjwB,EAAQD,EAASS,GAEjC,YoBv8LA,IAAAiiB,GAAAjiB,EAAA,GpB48LIkiB,EAQJ,SAAgCvgB,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,IARhDsgB,GoB38LvC3M,EAAAtV,EAAA,GAAYuV,EpBi9LZ,SAAiC5T,GAAO,GAAIA,GAAOA,EAAIT,WAAc,MAAOS,EAAc,IAAI6T,KAAa,IAAW,MAAP7T,EAAe,IAAK,GAAIuH,KAAOvH,GAAWf,OAAOS,UAAUC,eAAejB,KAAKsB,EAAKuH,KAAMsM,EAAOtM,GAAOvH,EAAIuH,GAAgC,OAAtBsM,GAAO5T,QAAUD,EAAY6T,GAFhOF,GoB78L9BrP,GACA+K,OACImF,cAAc,GAGlBI,OACI+Y,OAAQ,QAGZ9Y,OACI8Y,OAAQ,WAIZqF,GAEAxf,KAAM,WACFI,EAAIvP,MAAMnG,KAAKqK,QAASjE,IAG5BkT,cAAe,WACX,GAAIyb,GAAiB/0B,KAAKqK,QAAQqM,MAAMnD,YAAcvT,KAAK4N,QAAQjE,IAAI,SAAUhJ,GAAK,MAAOA,GAAEmG,IAC3F2K,EAAOsjB,EAAevZ,KAAK,QAC3BwZ,EAAStf,EAAInS,WAAWkO,EAAM,WAC9BwjB,EAASvf,EAAInS,WAAW,MAAO,WAC/BssB,EAAc,SAAUxlB,GAAW,MAAOrD,MAAKK,IAAIgD,EAAQqS,cAAerS,EAAQoS,eAEtFzc,MAAKqK,QAAQ8G,MAAMkF,gBAAgBlB,KAAOnV,KAAKqK,QAAQ8G,MAAMJ,QAAQoE,MAAQ0a,EAAY7vB,KAAKqK,QAAQqM,OAAS1W,KAAKqK,QAAQqM,MAAMiG,YAAcqY,EAAOlkB,MACvJ9Q,KAAKqK,QAAQ8G,MAAMkF,gBAAgBD,OAASpW,KAAKqK,QAAQ8G,MAAMJ,QAAQqF,QAAUyZ,EAAY7vB,KAAKqK,QAAQsM,OAAS3W,KAAKqK,QAAQsM,MAAMgG,YAAcsY,EAAO9iB,QAG/JoH,mBAAoB,WAChB,GAAI+X,IACAtxB,KAAKqK,QAAQqM,MAAM6Y,OAASvvB,KAAKqK,QAAQsM,MAAM4Y,SAC5CvvB,KAAKqK,QAAQqM,MAAM6Y,QAClB+B,EAAc5b,EAAInS,WAAWvD,KAAKqK,QAAQqM,MAAM6Y,MAAO,iBACvDvvB,KAAKqK,QAAQ8G,MAAMkF,gBAAgBlB,MAAQmc,EAAYnf,OAASnS,KAAKqK,QAAQqM,MAAM8Y,cAGpFxvB,KAAKqK,QAAQsM,MAAM4Y,QAClB+B,EAAc5b,EAAInS,WAAWvD,KAAKqK,QAAQsM,MAAM4Y,MAAO,iBACvDvvB,KAAKqK,QAAQ8G,MAAMkF,gBAAgBD,QAAUkb,EAAYnf,OAASnS,KAAKqK,QAAQsM,MAAM6Y,gBAKjGmD,YAAa,WACT,GAAIhc,GAAQ3W,KAAK2W,QACb7P,EAAI9G,KAAKqK,QAAQ8G,MAAMkF,gBAAgBlB,KACvCxJ,EAAI3L,KAAKqK,QAAQ8G,MAAMJ,QAAQqE,IAAMpV,KAAKqK,QAAQ8G,MAAMoF,UAgB5D,OAdAvW,MAAK4yB,YAAc5yB,KAAKwa,IAAIwG,UAAU,WACjCxV,MAAM,IAEXxL,KAAK4yB,YAAYF,QAAQhY,OAAO,KAC3BH,KAAK,QAAS,UACdA,KAAK,YAAa,aAAezT,EAAG,IAAM6E,EAAI,KAEnD3L,KAAK4yB,YAAYa,OAAOC,SAExB1zB,KAAK4yB,YACIP,aAAatc,SAAS/V,KAAKiyB,sBAC3B1X,KAAK,YAAa,aAAezT,EAAG,IAAM6E,EAAI,KAC9CnL,KAAKmW,GAEP3W,MAGXoyB,YAAa,WACT,GAAItrB,GAAI9G,KAAKqK,QAAQ8G,MAAMkF,gBAAgBlB,KACvCxJ,EAAI3L,KAAKqK,QAAQ8G,MAAMJ,QAAQqE,IAC/BsB,EAAQ1W,KAAK0W,OAkBjB,OAhBA1W,MAAKyyB,YAAczyB,KAAKwa,IAAIwG,UAAU,WACjCxV,MAAM,IAEXxL,KAAKyyB,YAAYC,QAAQhY,OAAO,KAC3BH,KAAK,QAAS,UACdA,KAAK,YAAa,aAAezT,EAAI,IAAM6E,EAAI,KAEpD3L,KAAKyyB,YAAYgB,OAAOC,SAExB1zB,KAAKyyB,YACAJ,aAAatc,SAAS/V,KAAKiyB,sBAC3B1X,KAAK,YAAa,aAAezT,EAAI,IAAM6E,EAAI,KAC/CnL,KAAKkW,GAEV1W,KAAKyxB,gBAAgBrR,gBAAgBpgB,KAAKyyB,aAEnCzyB,MAGXizB,iBAAkB,WACd,GAEI7pB,GACA8pB,EAAgBrS,EAAoB/Z,EAAG6E,EAHvCupB,EAAyC,IAAlBl1B,KAAKm1B,UAoDhC,OA/CIn1B,MAAKqK,QAAQqM,MAAM6Y,QACnB2D,EAASxd,EAAInS,WAAWvD,KAAKqK,QAAQqM,MAAM6Y,MAAO,iBAClDzoB,EAAI9G,KAAKqK,QAAQ8G,MAAMmF,cAAgB4c,EAAO/gB,OAASnS,KAAKqK,QAAQ8G,MAAMC,UAC1EzF,EAAI3L,KAAKqK,QAAQ8G,MAAMmF,cAAgBtW,KAAKqK,QAAQ8G,MAAMkF,gBAAgBlB,KAAOnV,KAAKqK,QAAQ8G,MAAMkF,gBAAgBD,OAAS8e,EAE7HrU,EAAW7gB,KAAKqK,QAAQ8G,MAAMmF,aAAe,MAAQ,IACrDlN,EAAKpJ,KAAKyyB,YAAYzR,UAAU,iBAAiBxV,MAAM,OAEvDpC,EAAGspB,QAAQhY,OAAO,QACbH,KAAK,QAAS,gBAEnBnR,EAAGmR,KAAK,IAAK,GACRA,KAAK,IAAK5O,GACV4O,KAAK,aAAc,UAAWsG,EAAU,KAAKrF,KAAK,KAClDjB,KAAK,KAAM2Y,EAAO/gB,QAlBR,GAAG,SAmBboI,KAAK,OAAQva,KAAKqK,QAAQ8G,MAAMoF,WAAa2c,EAAOpiB,OAAS,GAC7DW,KAAKzR,KAAKqK,QAAQqM,MAAM6Y,OAE7BnmB,EAAGqqB,OAAOC,UAGV1zB,KAAKqK,QAAQsM,MAAM4Y,QACnB2D,EAASxd,EAAInS,WAAWvD,KAAKqK,QAAQsM,MAAM4Y,MAAO,iBACvCvoB,KAAKK,IAAIrH,KAAKqK,QAAQsM,MAAM8F,cAAezc,KAAKqK,QAAQsM,MAAM+F,eAChE1c,KAAKqK,QAAQ8G,MAAMmF,aAAe,MAAQ,SACnDxP,EAAI9G,KAAKqK,QAAQ8G,MAAMmF,aAAetW,KAAKqK,QAAQ8G,MAAMC,UAAY,EACrEzF,EAAI3L,KAAKqK,QAAQ8G,MAAMmF,aACnBtW,KAAKqK,QAAQ8G,MAAMkF,gBAAgBD,QAClCpW,KAAKqK,QAAQ8G,MAAMkF,gBAAgBlB,KAAOnV,KAAKm1B,WAAaD,EAEjErU,EAAW7gB,KAAKqK,QAAQ8G,MAAMmF,aAAe,IAAM,MAEnDlN,EAAKpJ,KAAK4yB,YAAY5R,UAAU,iBAAiBxV,MAAM,OAEvDpC,EAAGspB,QAAQhY,OAAO,QACbH,KAAK,QAAS,gBAEnBnR,EAAGmR,KAAK,IAAK5O,GACR4O,KAAK,IAAKzT,GACVyT,KAAK,OAAQva,KAAKqK,QAAQ8G,MAAMC,UAAY8hB,EAAOpiB,OAAS,GAC5DyJ,KAAK,MAAO,GACZA,KAAK,aAAc,UAAWsG,EAAU,KAAKrF,KAAK,KAClD/J,KAAKzR,KAAKqK,QAAQsM,MAAM4Y,OAE7BnmB,EAAGqqB,OAAOC,UAGP1zB,MAsBfqV,WAAQ2C,OAAO,aAAc8c,IpBk8LvB,SAAUn1B,EAAQD,EAASS,GAEjC,YqBzkLA,SAASi1B,GAAWrtB,GACZstB,EACAC,EAAMhsB,KAAKvB,GAEXA,IAKR,QAASwtB,KACLF,GAAU,EAId,QAASG,KACLH,GAAU,CAEV,IAAIttB,GAAKutB,EAAMG,OACX1tB,IACAA,IAMR,QAAS2tB,KA6FL,QAASC,KAGL,QAASC,GAAsBC,GAC3B71B,KAAK61B,QAAUA,EAEnBD,EAAsBp0B,UAAY,GAAIiW,OACtCme,EAAsBp0B,UAAUZ,KAAO,wBAIvCpB,EAAKs2B,KAAO,SAAUC,GAElB,IAEI,GAAIC,GAAOC,EAHXrpB,EAAMnE,OAAOstB,GAGQG,EAAM,EAAGvsB,EAd1B,oEAcuCwsB,EAAS,GAIpDvpB,EAAIwpB,OAAa,EAANF,KAAavsB,EAAM,IAAKusB,EAAM,GAEzCC,GAAUxsB,EAAIysB,OAAO,GAAKJ,GAAS,EAAIE,EAAM,EAAI,GACnD,CAEE,IADAD,EAAWrpB,EAAIypB,WAAWH,GAAO,MAClB,IACX,KAAM,IAAIN,GAAsB,2FAEpCI,GAAQA,GAAS,EAAIC,EAEzB,MAAOE,IAKf,QAASG,GAAeC,GACpB,GAAIC,IACA,cACA,eACA,YAEAxH,EAAYwH,EAAQruB,MACxBquB,GAAQvsB,QAAQ,SAAUL,GACtB,GAAI6sB,GAAS7kB,SAASG,cAAc,SACpC0kB,GAAOjuB,KAAO,kBACdiuB,EAAOC,OAAS,WAEM,MADlB1H,GACqBuH,KAEzBE,EAAO7sB,IAAM,oCAAsCA,EACnDgI,SAAS+kB,KAAKnkB,YAAYikB,KA7IlClB,IACAqB,EAAQC,SAAU,EASlB,WACID,EAAQE,gBAAkBt3B,EAAKs2B,KAG1Bc,EAAQE,eACTnB,OAIR,WACIiB,EAAQG,eAAsD70B,KAAzC0P,SAASG,cAAc,KAAKilB,YAGrD,WACIJ,EAAQK,eAAiBC,UAAUC,oBAGvC,WACI,GAAIC,GAAS53B,EAAK63B,KAAO73B,EAAK83B,SAC9BV,GAAQW,kBAAoBH,GAAUA,EAAOI,mBAGjD,WA+CI,QAASC,KACL7lB,SAASD,KAAKgB,YAAY+kB,GAGtBd,EAAQe,WACRnC,IAEAc,EAAed,GArDvBD,IAEAqB,EAAQe,YAAa,CAErB,IAAID,GAAS9lB,SAASD,KAAKa,YAAYZ,SAASG,cAAc,UAC9D2lB,GAAO3sB,MAAMqH,WAAa,QAC1B,IAAIwlB,GAAMF,EAAOG,cAAcjmB,QAE/B8lB,GAAOhB,OAAS,WACZ,IACI,GAAIlc,GAAMod,EAAIE,cAAc,OACxBC,EAAMH,EAAIE,cAAc,OACxBE,EAASJ,EAAIE,cAAc,UAC3BtV,EAAUwV,EAAOC,WAAW,KAChCD,GAAOlnB,MAAoC,EAA5BinB,EAAIG,aAAa,SAChCF,EAAO7lB,OAAsC,EAA7B4lB,EAAIG,aAAa,SACjC,IAAIC,GAAY,GAAIC,MACpBD,GAAUrnB,MAAQknB,EAAOlnB,MACzBqnB,EAAUhmB,OAAS6lB,EAAO7lB,OAC1BgmB,EAAUzB,OAAS,WACf,IACIlU,EAAQ6V,UAAUF,EAAW,EAAG,EAAGJ,EAAIjnB,MAAOinB,EAAI5lB,QAClD4lB,EAAInuB,IAAMouB,EAAOM,YAEjB1B,EAAQe,YAAa,EACvB,MAAOn1B,IAETi1B,IAEJ,IAAIc,IAAO,GAAIC,gBAAiBC,kBAAkBje,EAClD2d,GAAUvuB,IAAM,sBAAwB8uB,mBAAmBH,GAC7D,MAAO/1B,GACLi1B,MAIRG,EAAIe,OACJf,EAAIgB,MAAM,mBACVhB,EAAIgB,MAAM,6BACVhB,EAAIgB,MAAM,mHACVhB,EAAIgB,MAAM,8BACVhB,EAAIgB,MAAM,qBACVhB,EAAIgB,MAAM,kBACVhB,EAAIiB,WA3oBZ,GAAAzW,GAAAjiB,EAAA,GrBmnMIkiB,EAEJ,SAAgCvgB,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,IAFhDsgB,GqBjnMnC5iB,EAAyB,mBAAXqI,YAAP3F,GAAuC2F,OAE9CixB,GACAtwB,KAAM,YACNuwB,SAAU,cACVC,WAAQ92B,GACR+2B,gBAAiB,OACjBnoB,UAAO5O,GACPiQ,WAAQjQ,IAIR00B,GACAC,SAAS,GAITvB,KAEAD,GAAU,EA+BV6D,EAAa,WAwHb,QAASC,GAAc3e,EAAKnQ,EAAS+uB,GAUjC,QAASC,GAAoBC,GAEzB,MAAO,6BAA+BxD,KAAKwD,GAI/C,QAASC,GAAcC,GAEnB,GAAIC,EAEAA,GADAD,EAAQzsB,MAAM,KAAK,GAAGwO,QAAQ,WAAa,EAC9Bme,KAAKF,EAAQzsB,MAAM,KAAK,IAExB4sB,SAASH,EAAQzsB,MAAM,KAAK,GAQ7C,KAAK,GAJD6sB,GAAaJ,EAAQzsB,MAAM,KAAK,GAAGA,MAAM,KAAK,GAAGA,MAAM,KAAK,GAG5D8sB,EAAY,GAAIlO,YAAW8N,EAAWtxB,QACjC7H,EAAI,EAAGA,EAAIm5B,EAAWtxB,OAAQ7H,IACnCu5B,EAAUv5B,GAAKm5B,EAAWpD,WAAW/1B,EAGzC,OAAO,IAAIw5B,OAAMD,IACbrxB,KAAMoxB,IAlCd,OAAQvvB,EAAQ7B,MACZ,IAAK,gBACD,MAoCR,YACI,GAAI8wB,IAAU,GAAId,gBAAiBC,kBAAkBje,GACjDuf,EAAaV,EAAoBC,EAErCF,GAAeW,EAAY,KAAM,gBAtCjC,SACI,MAwCR,YAcI,QAASC,KACL,GAAIC,GAAejC,EAAOM,UAAUjuB,EAAQ7B,KAE5C,IAAIouB,EAAQW,kBAAmB,CAC3B,GAAI2C,GAAYX,EAAcU,GAE1B7C,EAAS53B,EAAK63B,KAAO73B,EAAK83B,UAC1B6C,EAAY/C,EAAOI,gBAAgB0C,EAEvCd,GAAee,EAAWD,EAAW,WACjC9C,EAAOgD,gBAAgBD,SAG3Bf,GAAea,EAAc,KAAM,cA1B3C,GAAIjC,GAASpmB,SAASG,cAAc,UAChCyQ,EAAUwV,EAAOC,WAAW,MAE5BqB,GAAU,GAAId,gBAAiBC,kBAAkBje,EAEjDhb,GAAK66B,MAgDT,WAGIA,MAAMrC,EAAQsB,GACVgB,aAAa,EACbC,iBAAiB,EACjBC,YAASt4B,GACTu4B,YAASv4B,GACTw4B,eAAYx4B,GACZy4B,gBAAaz4B,GACb04B,eAAgBZ,OAjCxB,WACI,GAAIa,GAAS,GAAIzC,MACjByC,GAAOjxB,IAAMyvB,EAAoBC,GAEjCuB,EAAOnE,OAAS,WACZsB,EAAOlnB,MAAQ+pB,EAAO/pB,MACtBknB,EAAO7lB,OAAS0oB,EAAO1oB,OAEnB9H,EAAQ4uB,kBACRzW,EAAQsY,UAAYzwB,EAAQ4uB,gBAC5BzW,EAAQuY,SAAS,EAAG,EAAGF,EAAO/pB,MAAO+pB,EAAO1oB,SAGhDqQ,EAAQ6V,UAAUwC,EAAQ,EAAG,GAE7Bb,KAGJa,EAAOG,QAAU,WACb,KAAM,IAAIvjB,OAAM,+BAsBhC,QAASwjB,GAAeC,EAASC,GAa7B,QAASC,GAAYC,EAAYC,GAC7B,GAAIC,GAAc/7B,EAAKoV,iBAAiBymB,GACpCG,EAAch8B,EAAKoV,iBAAiB0mB,EAExC,KAAK,GAAIxxB,KAAQyxB,GACRE,EAAc3xB,IAAU4xB,SAAS5xB,IAE9B0xB,EAAY1xB,KAAUyxB,EAAYzxB,KAClCwxB,EAAWvwB,MAAMjB,GAAQyxB,EAAYzxB,IAOrD,QAAS6xB,GAAWN,EAAYC,GAC5B,GAAIM,GAAUP,EAAWQ,WAAU,EACnCP,GAAW9oB,YAAYopB,GAElBP,EAAWtmB,UAGhBqmB,EAAYC,EAAYO,MAErB3xB,QAAQzJ,KAAK66B,EAAWS,WAAY,SAAUC,GAE7CJ,EAAWI,EAAWH,MA6B9B,QAASI,GAAoBX,EAAYrC,GACrC,GAAIsC,GAAatC,EAAOve,OACpB8gB,EAAc/7B,EAAKoV,iBAAiBymB,GACpCG,EAAch8B,EAAKoV,iBAAiB0mB,EAExC,KAAK,GAAIxxB,KAAQyxB,GACTU,EAAanyB,IAET0xB,EAAY1xB,KAAUyxB,EAAYzxB,KAClCwxB,EAAWvwB,MAAMjB,GAAQyxB,EAAYzxB,GAMjD,QAAQwxB,EAAWY,UACnB,IAAK,OACDlD,EAAOze,MACH4hB,GAAMZ,EAAYa,oBAClBC,GAAMd,EAAYa,sBAEtBpD,EAAOjuB,OACHuxB,KAAQf,EAAYtC,gBACpBsD,OAAUhB,EAAYiB,gBACtBC,eAAgBlB,EAAYmB,iBAEhC,MACJ,KAAK,OACD1D,EAAOjuB,OACHuxB,KAAQf,EAAYoB,SAMhC,QAASC,GAAevB,EAAYC,GAChC,GAAIuB,GAAe9oB,GAAGQ,OAAO8mB,EAAWrmB,YAAYT,OAAO,qBAC3D,KAAIsoB,EAAaC,QAAjB,CAEA,GAAIC,GAAmBF,EAAapiB,OAEhCuiB,EAAejpB,GAAGQ,OAAO+mB,GAAY/mB,OAAO,OAAOmG,OAAO,KACzDH,KAAK,YAAa,cAAgBwiB,EAAiBE,WAAaF,EAAiBG,YAC9E,KAAOH,EAAiBI,UAAYJ,EAAiBK,WAAa,IAC1EpB,GAAoBe,EAAkBC,EAKtChB,GAAoBe,EAHTC,EAAatiB,OAAO,QAC1BH,KAAK,QAASwiB,EAAiBtqB,aAC/B8H,KAAK,SAAUwiB,EAAiBrqB,cAGnBmqB,GAAa7b,UAAU,yBAE7B,GAAG/W,QAAQ,SAAUozB,GAqB7B,QAASC,GAAmBhpB,GACxB,MAAOipB,GAAShpB,OAAOD,GAAUmG,OArBrC,GAAI8iB,GAAWxpB,GAAGQ,OAAO8oB,GAErB3K,EAAQsK,EAAatiB,OAAO,IAChCshB,GAAoBqB,EAAc3K,EAElC,IAAI8K,GAAkBF,EAAmB,sBAMzCtB,GAAoBwB,EALP9K,EAAMhY,OAAO,QACrBH,KAAK,IAAKijB,EAAgBP,YAC1B1iB,KAAK,IAAKijB,EAAgBL,WAC1B5iB,KAAK,QAASijB,EAAgBC,YAAc,GAC5CljB,KAAK,SAAUijB,EAAgBE,aAAe,GAGnD,IAAIC,GAAqBL,EAAmB,eAK5CtB,GAAoB2B,EAJTjL,EAAMhY,OAAO,QACnBH,KAAK,IAAKojB,EAAmBV,WAAa,GAC1C1iB,KAAK,IAAKojB,EAAmBR,UAAYQ,EAAmBD,aAAeC,EAAmBjpB,aAAa0oB,UAAY,GACvH3rB,KAAKksB,EAAmBC,kBAhGrC,SAA4BC,GACxB,GAAInG,GAAS9lB,SAASD,KAAKa,YAAYZ,SAASG,cAAc,UAC9D2lB,GAAO3sB,MAAMqH,WAAa,QAC1B,IAAI0rB,GAAepG,EAAOG,cACtBkG,EAAiBD,EAAalsB,QAElC8lB,GAAOhB,OAAS,WACZ,GAAIsH,GAAYD,EAAehsB,cAAc,MAC7CgsB,GAAepsB,KAAKa,YAAYwrB,GAQhCH,EAAWG,EANS,WAEhBD,EAAepsB,KAAKgB,YAAYqrB,GAChCpsB,SAASD,KAAKgB,YAAY+kB,MAMlCqG,EAAepF,OACfoF,EAAenF,MAAM,mBACrBmF,EAAenF,MAAM,2CACrBmF,EAAelF,SAhEA,SAAUmF,EAAWC,GAEpCtC,EAAWT,EAAS8C,GAGpBpB,EAAe1B,EAAS8C,GAExB7C,EAAUpnB,GAAGQ,OAAOypB,GAAWzpB,OAAO,OAAOkG,OAAQwjB,KA8I7D,QAASC,GAAsBC,EAAUC,GACrC,MAAIA,GAAUttB,OAASstB,EAAUjsB,OACtBisB,EACAA,EAAUttB,OAEbA,MAAOstB,EAAUttB,MACjBqB,OAAQisB,EAAUttB,MAAQqtB,EAAShsB,OAASgsB,EAASrtB,OAElDstB,EAAUjsB,QAEbrB,MAAOstB,EAAUjsB,OAASgsB,EAASrtB,MAAQqtB,EAAShsB,OACpDA,OAAQisB,EAAUjsB,QAGfgsB,EAKf,QAASE,GAAYjkB,EAAW/P,EAASi0B,GAerC,QAASC,GAAcC,EAAcC,GACjCD,EAAaE,aAAa,QAASC,EAAY7tB,OAC/C0tB,EAAaE,aAAa,SAAUC,EAAYxsB,OAIhD,IAAIysB,EACa,cAAbN,GAA6B1H,EAAQG,YAAcH,EAAQK,eAC3D2H,EAAMp/B,EAAKm5B,QAGfQ,EAAcqF,EAAcn0B,EAAS,SAAUw0B,EAAKC,EAAMC,GACtDN,KAIIzH,SAAY,WACR,GAAIJ,EAAQG,WAAY,CAEpB,GAAI5vB,GAAIyK,SAASG,cAAc,IAC/B5K,GAAE6vB,SAAW3sB,EAAQ0uB,SACrB5xB,EAAE63B,KAAOH,EACTjtB,SAASD,KAAKa,YAAYrL,GAC1BA,EAAE83B,QACFrtB,SAASD,KAAKgB,YAAYxL,OACvB,IAAIyvB,EAAQK,cAAgB6H,EAE/B5H,UAAUC,iBAAiB2H,EAAMz0B,EAAQ0uB,cAOzC,IAJK6F,IAEDA,EAAMp/B,EAAKm5B,QAEXiG,EACA,GAAIhI,EAAQW,kBAERqH,EAAIM,SAAWL,MACZ,CAEH,GAAIjH,GAAMgH,EAAIhtB,QACdgmB,GAAIgB,MAAM,mBACVhB,EAAIgB,MAAM,6BACVhB,EAAIgB,MAAM,aAAeiG,EAAM,MAC/BjH,EAAIgB,MAAM,kBAKtBuG,WAAW,WACPJ,IACAvJ,KACD,IAEP4J,MAAS,WACL,GAAIrH,GAAMnmB,SAASG,cAAc,MACjCgmB,GAAIrB,OAAS,WACTqI,IACAvJ,KAEJuC,EAAInuB,IAAMi1B,EACV9qB,GAAGQ,OAAOlK,EAAQ2uB,QAAQve,OAAOjI,YAAYulB,KAI3CuG,OA/ElB/I,IAGAlrB,EAAUA,MACVqL,IAAItP,SAASiE,EAASyuB,EAEtB,IAAIoC,GAAU9gB,EAAU7F,OAAO,OAAOkG,OAElCyY,EAASgI,EAAQjmB,wBACjB0pB,EAAcT,EAAsBhL,EAAQ7oB,EAGhD4wB,GAAeC,EAASqD,GAla5B,GAAI9C,IACA4D,QAAS,EACTC,WAAY,GAGZrD,GACAsD,KAAM,EACNC,WAAY,EACZC,SAAU,EACVC,eAAgB,EAChBC,YAAa,EACbC,UAAW,EACXC,YAAa,EACbC,WAAY,EACZC,UAAW,EACXC,cAAe,EACfC,eAAgB,EAChBC,YAAa,EACbC,YAAa,EACbnM,KAAM,EACNoM,OAAQ,EACR/c,QAAS,EACTgd,SAAU,EACVjuB,WAAY,EACZkuB,QAAS,EAMb,QACIhrB,KAAM,WAOF,MAJKshB,GAAQC,SACTzB,EAAWM,GAGR11B,MAiCXg3B,SAAU,SAAU3sB,GAChB,GAAI+P,GAAYpa,KAAKoa,SAMrB,OAJAgb,GAAW,WACPiJ,EAAYjkB,EAAW/P,EAAS,cAG7BrK,MAyBXo/B,MAAO,SAAU/0B,GACb,GAAI+P,GAAYpa,KAAKoa,SAMrB,OAJAgb,GAAW,WACPiJ,EAAYjkB,EAAW/P,EAAS,WAG7BrK,OA8iBnBqV,WAAQ2C,OAAO,aAAckhB,IrB6lMvB,SAAUv5B,EAAQD,EAASS,GAEjC,YAiBA,SAAS0B,GAAuBC,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,GsBnzNvF,QAASuV,GAAS7L,EAAMsP,EAAOzQ,GAC3BrK,KAAKkb,kBAAkB,YACvB,IAAInF,GAAgD,MAArC1L,EAAQ8G,MAAM0E,WAAWE,SAAmB1L,EAAQ8G,MAAM0E,WAAWE,SAAW,IAC3FjP,EAAI,SAAUmG,GAAO,MAAOjN,MAAKwxB,OAAOvkB,GAAOjN,KAAKmgB,UAAY,EAAI,IAAOlF,KAAKjb,MAChF2L,EAAI,SAAUsB,GAAO,MAAOjN,MAAK4xB,OAAO3kB,GAAO,IAAOgO,KAAKjb,MAC3DkN,EAAI7C,EAAQ8G,MAAMoF,WAClBgqB,EAAU,SAAU5/B,EAAGL,GAAK,MAAO,aAAeA,EAAE,GAAK,IAAMK,EAAEC,MACjEkT,EAAQC,UAAGC,OAAOF,QAAQG,OAAO,SAAUtT,GAAK,MAAOA,GAAE6K,OAEzDg1B,EAAYzsB,UAAGyG,IAAIimB,OAClB35B,EAAE,SAASnG,GAAK,MAAOmG,GAAEnG,EAAEmG,KAC3BsN,GAAG,SAAUzT,GAAK,MAAOuM,KACzBwzB,GAAG,SAAS//B,GAAK,MAAOuM,KAEzByzB,EAAoC,MAAzBt2B,EAAQo2B,KAAKE,SAAmBt2B,EAAQo2B,KAAKE,SAAWt2B,EAAQsM,MAAMvK,IACjFq0B,EAAO1sB,UAAGyG,IAAIimB,OACb35B,EAAE,SAASnG,GAAK,MAAOmG,GAAEnG,EAAEmG,KAC3BsN,GAAG,SAAUzT,GAAK,MAA8BgL,GAAvBtB,EAAQo2B,KAAK/c,QAAY/iB,EAAEyT,IAAMusB,GAAY,EAAO,KAC7ED,GAAG,SAAS//B,GAAK,MAAOgL,IAAGtB,EAAQo2B,KAAK/c,QAAU/iB,EAAEyT,GAAK,GAAKzT,EAAEgL,IAElEtB,GAAQo2B,KAAKG,SACZH,EAAKI,YAAY,YACjBL,EAAUK,YAAY,aAQ1B,WACIr1B,EAAOnB,EAAQo2B,KAAKK,WAAWt1B,EAE/B,IAAIF,GAASwP,EAAMkG,UAAU,YACpBxV,KAAKsI,EAAMtI,GAEpBF,GAAOonB,QACFhY,OAAO,SACPH,KAAK,QAASgmB,GACd7lB,OAAO,QAAQhP,MAAM,SAAU/K,GAAK,MAAOA,GAAE6K,OACzC+O,KAAK,QAAS,QACdA,KAAK,IAAKimB,GAEnBl1B,EAAOmoB,OAAOC,SAEVrpB,EAAQ8G,MAAM0E,YAAcxL,EAAQ8G,MAAM0E,WAAWC,OACrDxK,EAAOiJ,OAAO,SACT7I,MAAM,SAAU/K,GAAK,MAAOA,GAAE6K,OAC9B6mB,aAAatc,SAAS1L,EAAQ8G,MAAM0E,WAAWE,UAAYA,GAC3DwE,KAAK,IAAKkmB,GAEfn1B,EAAOiJ,OAAO,SACT7I,MAAM,SAAU/K,GAAK,MAAOA,GAAE6K,OAC9B+O,KAAK,IAAKkmB,MA1BnBp2B,EAAQuM,SAAWvM,EAAQuM,QAAQd,QA8BvC,WACI,GAEIirB,GAAUjmB,EAAMkG,UAAU,qBACzBxV,KAAKA,EAAM,SAAU7K,GAAK,MAAOA,GAAEC,MAExCmgC,GAAQrO,QAAQhY,OAAO,KAClBH,KAAK,QAAS,oBAEnBwmB,EAAQtN,OAAOC,QAEf,IAAIsN,GAASD,EAAQ/f,UAAU,oBACtBxV,KAAK,SAAU7K,GACZ,MAAOA,GAAE6K,MACV,SAAU7K,EAAGL,GACZ,OAAQK,EAAEmG,EAAEnG,EAAEgL,EAAEhL,EAAEyT,IAAIoH,KAAK,MAGvCwlB,GAAOtO,QAAQhY,OAAO,QACbH,KAAK,QAAS,mBACdA,KAAK,UAAW,GAChBA,KAAK,QAAS0mB,IAEvBD,EAAOzmB,KAAK,IAAK,SAAS5Z,GAAK,MAAOmG,GAAEnG,EAAEmG,GAtBxB,KAuBbyT,KAAK,IAAK,SAAS5Z,GAAK,MAAOgL,IAAGtB,EAAQo2B,KAAK/c,QAAU/iB,EAAEyT,GAAK,GAAKzT,EAAEgL,KACvE4O,KAAK,SAAU,SAAS5Z,GAAK,MAAOgL,GAAE,GAAKA,EAAEhL,EAAEgL,KAEpDq1B,EAAOvN,OAAOC,YAnGtB,GAAA/sB,GAAAxG,EAAA,GtBszNIyG,EAAM/E,EAAuB8E,GsBrzNjC8O,EAAAtV,EAAA,GAAYuV,EtB+zNZ,SAAiC5T,GAAO,GAAIA,GAAOA,EAAIT,WAAc,MAAOS,EAAc,IAAI6T,KAAa,IAAW,MAAP7T,EAAe,IAAK,GAAIuH,KAAOvH,GAAWf,OAAOS,UAAUC,eAAejB,KAAKsB,EAAKuH,KAAMsM,EAAOtM,GAAOvH,EAAIuH,GAAgC,OAAtBsM,GAAO5T,QAAUD,EAAY6T,GANhOF,GsBxzNlC2M,EAAAjiB,EAAA,GtB4zNIkiB,EAAYxgB,EAAuBugB,GsB1zNnChc,GACAsQ,OACIlO,KAAM,UAEVi4B,MACI/c,SAAS,EACTid,aAAUz+B,GACV4+B,WAAYprB,EAAI1Q,aAAa,MA6FrCqS,GAASjR,SAAWA,EAsBpBiP,UAAQ8B,OAAO,OAAQE,ItB20NjB,SAAU1X,EAAQD,EAASS,GAEjC,YAiBA,SAAS0B,GAAuBC,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,GuB18NvF,QAASo/B,GAAU11B,EAAMsP,EAAOzQ,GAkD5B,QAASqZ,GAAQyd,EAAKzO,GAKlB,MAJAyO,GACK5mB,KAAK,IAAK,SAAU5Z,GAAK,MAAOmG,GAAEnG,EAAEmG,GAAKs6B,IACzC7mB,KAAK,SAAU4F,GAEhBuS,EACOyO,EACF5mB,KAAK,IAAK,SAAU5Z,GAAK,MAAOgL,GAAE,KAClC4O,KAAK,QAAS,SAAU5Z,GAAK,MAAO,KAGlCwgC,EACF5mB,KAAK,IAAK,SAAU5Z,GAAK,MAAkBgL,GAAXhL,EAAEgL,GAAK,EAAMhL,EAAEyT,IAAM,EAAOzT,EAAEgL,EAAIhL,EAAEyT,MACpEmG,KAAK,QAAS,SAAU5Z,GAAK,MAAOA,GAAEgL,GAAI,EAAIA,EAAEhL,EAAEgL,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAEhL,EAAEgL,KAItF,QAAS01B,GAAQF,EAAKzO,GAClB,GAAI4O,GAAY91B,EAAKrD,OACjBgK,EAAS,WAAc,MAAOgO,GAAYmhB,EAAYj3B,EAAQ82B,IAAII,aAAe,IACjF5N,EAAS,SAAUhzB,EAAGL,GAAK,MAAO6f,GAAYmhB,EAAYhhC,EAAI,GAMlE,OAJA6gC,GAAI5mB,KAAK,IAAK,SAAU5Z,EAAGL,EAAG6I,GAAK,MAAOrC,GAAEnG,EAAEmG,GAAK6sB,EAAOhzB,EAAGwI,GAAKi4B,IAC7D7mB,KAAK,IAAK5O,EAAE,IACZ4O,KAAK,SAAUpI,GAEhBugB,EACOyO,EACF5mB,KAAK,QAAS,SAAU5Z,GAAK,MAAO,KAElCwgC,EACF5mB,KAAK,QAAS,SAAU5Z,GAAK,MAAOA,GAAEgL,GAAK,EAAIA,EAAEhL,EAAEgL,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAEhL,EAAEgL,KAC1E4O,KAAK,IAAK,SAAU5Z,GAAK,MAAiBgL,GAAVhL,EAAEgL,EAAI,EAAMhL,EAAEgL,EAAO,KAjFlE3L,KAAKkb,mBAAmB,YAAa,cACrC,IAAInF,GAAgD,MAArC1L,EAAQ8G,MAAM0E,WAAWE,SAAmB1L,EAAQ8G,MAAM0E,WAAWE,SAAW,IAC3FqF,EAAQpb,KACR2Z,EAAMtP,EAAQ82B,IACdK,EAAY7nB,EAAI8nB,SAChB12B,EAAQ4O,EAAI5O,MACZjE,EAAI,SAAUnG,GAAK,MAAOya,GAAMoW,OAAO7wB,GAAK,IAC5CgL,EAAI,SAAUhL,GAAK,MAAOya,GAAMwW,OAAOjxB,GAAK,IAC5CygC,EAAc1rB,EAAItQ,SAASuU,EAAIga,OAAQ,EAAG3zB,MAC1CmgB,EAAYzK,EAAItQ,SAASuU,EAAI+nB,SAAU1hC,KAAKmgB,UAAWngB,MACvD8T,EAAQ4B,EAAIzS,cACZoX,EAAShQ,EAAQ82B,IAAIzd,QAAUA,EAAU2d,EACzC3O,EAAQhd,EAAI1P,aAAaqU,GAAQ,GACjCkmB,EAAU,SAAU5/B,EAAGL,GAAK,MAAO,aAAeA,EAAE,GAAK,IAAMK,EAAEC,KAErE4K,GAAOnB,EAAQ82B,IAAIL,WAAWt1B,EAC9B,IAAIF,GAASwP,EAAMkG,UAAU,YACxBxV,KAAKsI,EAAMtI,GAEhBF,GAAOonB,QAAQhY,OAAO,SACjBH,KAAK,QAASgmB,GAEnBj1B,EAAOmoB,OAAOC,QAEd,IAAIiO,GAAOr2B,EAAO0V,UAAU,QACvBxV,KAAK,SAAU7K,GAAK,MAAOA,GAAE6K,OAE9Bo2B,EAAW,OAASv3B,EAAQuM,QAAQd,OAAS,mBAAqB,GACtE6rB,GAAKjP,QAAQhY,OAAO,QACfH,KAAK,QAAS,SAAU5Z,EAAGL,EAAG6I,GAC3B,MAAKq4B,GAEEI,EAAW,KAA4B,kBAAdJ,GAA2BA,EAAUhhC,KAAKR,KAAMW,EAAGL,EAAG6I,GAAKq4B,GAFpEI,IAI1BphC,KAAKkyB,GAEProB,EAAQ8G,MAAM0E,YAAcxL,EAAQ8G,MAAM0E,WAAWC,QACpD6rB,EACKpnB,KAAK,QAASxP,GACdsnB,aAAatc,SAASA,GAAUvV,KAAK6Z,GAC1CsnB,EAAKlO,OACApB,aAAatc,SAASA,GACtBwE,KAAK,QAAS5O,EAAE,IAChB+nB,WAELiO,EAAKpnB,KAAK,QAASxP,GAAOvK,KAAK6Z,GAC/BsnB,EAAKlO,OAAOC,UAjEpB,GAAA/sB,GAAAxG,EAAA,GACAsV,GvB+8NU5T,EAAuB8E,GuB/8NjCxG,EAAA,IAAYuV,EvBy9NZ,SAAiC5T,GAAO,GAAIA,GAAOA,EAAIT,WAAc,MAAOS,EAAc,IAAI6T,KAAa,IAAW,MAAP7T,EAAe,IAAK,GAAIuH,KAAOvH,GAAWf,OAAOS,UAAUC,eAAejB,KAAKsB,EAAKuH,KAAMsM,EAAOtM,GAAOvH,EAAIuH,GAAgC,OAAtBsM,GAAO5T,QAAUD,EAAY6T,GANhOF,GuBl9NlC2M,EAAAjiB,EAAA,GvBs9NIkiB,EAAYxgB,EAAuBugB,GuBp9NnChc,GACA+6B,KACIM,SAAU,KACV12B,MAAO,KACP2Y,SAAS,EACT6d,aAAc,EACdG,SAAU,WAAa,MAAO1hC,MAAKmgB,WACnCwT,OAAQ,WAAa,MAAO,IAC5BmN,WAAY,SAASt1B,GACjB,MAAOA,KA4FnB01B,GAAU96B,SAAWA,EAsBrBiP,UAAQ8B,OAAO,MAAO+pB,IvB0+NhB,SAAUvhC,EAAQD,EAASS,GAEjC,YAiBA,SAAS0B,GAAuBC,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,GwB5mOvF,QAASmY,GAAOzO,EAAMsP,EAAOzQ,GAiEzB,QAASqZ,GAAQme,EAAKnP,GAClB,GAAIoP,GAAOn2B,EAAE,EAEbk2B,GAAItnB,KAAK,IAAK,SAAU5Z,GAAK,MAAOmG,GAAEnG,EAAEmG,GAAKs6B,IACxC7mB,KAAK,QAAS,WAAc,MAAO4F,KAEpCuS,EACAmP,EAAItnB,KAAK,IAAK,SAAU5Z,GAAK,MAAOA,GAAEgL,EAASm2B,IAC1CvnB,KAAK,SAAU,SAAU5Z,GAAK,MAAO,KAE1CkhC,EAAItnB,KAAK,IAAK,SAAU5Z,GAAK,MAAOA,GAAEgL,GAAK,EAAIA,EAAEhL,EAAEgL,GAAKA,EAAEhL,EAAEyT,IAAM0tB,EAAOn2B,EAAEhL,EAAEyT,MACxEmG,KAAK,SAAU,SAAU5Z,GAAK,MAAOA,GAAEgL,GAAI,EAAIm2B,EAAOn2B,EAAEhL,EAAEgL,GAAKA,EAAEhL,EAAEgL,GAAKm2B,IAIrF,QAAST,GAAQQ,EAAKnP,GAClB,GAAI5hB,GAAQqP,EAAY3U,EAAKrD,OAASwR,EAAI4nB,aAAe,GACrD5N,EAAS,SAAUhzB,EAAGL,GAAK,MAAO6f,GAAY3U,EAAKrD,OAAS7H,EAAI,IAChEwhC,EAAOn2B,EAAE,EAEbk2B,GAAItnB,KAAK,IAAK,SAAU5Z,EAAGL,EAAG6I,GAAK,MAAOrC,GAAEnG,EAAEmG,GAAK6sB,EAAOhzB,EAAGwI,GAAKi4B,IAC7D7mB,KAAK,QAASzJ,GAEf4hB,EACAmP,EAAItnB,KAAK,IAAKunB,GACTvnB,KAAK,SAAU,GAEpBsnB,EAAItnB,KAAK,IAAK,SAAU5Z,GAAK,MAAOA,GAAEgL,GAAK,EAAIA,EAAEhL,EAAEgL,GAAKm2B,IACnDvnB,KAAK,SAAU,SAAU5Z,GAAK,MAAOA,GAAEgL,GAAK,EAAIm2B,EAAOn2B,EAAEhL,EAAEgL,GAAKA,EAAEhL,EAAEgL,GAAKm2B,IA5FtF9hC,KAAKkb,kBAAkB,YACvB,IAAInF,GAAgD,MAArC1L,EAAQ8G,MAAM0E,WAAWE,SAAmB1L,EAAQ8G,MAAM0E,WAAWE,SAAW,IAC3F4D,EAAMtP,EAAQ03B,OACd70B,EAAI7C,EAAQ8G,MAAMoF,WAClBirB,EAAYn3B,EAAQ03B,OAAOC,YAC3BC,EAAY53B,EAAQ03B,OAAOh3B,MAC3BqQ,EAAQpb,KACR8G,EAAI,SAAUyI,GAAK,MAAOvI,MAAKQ,MAAM4T,EAAMoW,OAAOjiB,IAAM,IACxD5D,EAAI,SAAU4D,GAAK,MAAOvI,MAAKQ,MAAM4T,EAAMwW,OAAOriB,IAAM,IACxD2yB,EAAU,SAAUvhC,GAAK,MAAOA,GAAE6K,MAClC41B,EAAc1rB,EAAItQ,SAASuU,EAAIga,OAAQ,EAAG3zB,MAC1CmgB,EAAYzK,EAAItQ,SAASuU,EAAIwoB,YAAaniC,KAAKmgB,UAAWngB,MAC1D0yB,EAAQhd,EAAI1P,aAAcqE,EAAQ03B,OAAOre,QAAUA,EAAU2d,GAAU,GACvEhnB,EAAShQ,EAAQ03B,OAAOre,QAAUA,EAAU2d,EAC5Ce,EAAe52B,EAAK7B,IAAI,SAAU2B,EAAQnC,GAC1C,OACIvI,KAAM0K,EAAO1K,KACb4K,KAAMF,EAAOE,KAAKoF,OAAO,SAAUjQ,EAAGL,GAClC,MAAa,KAANA,GAAiBwG,EAAEnG,EAAEmG,KAAOA,EAAEwE,EAAOE,KAAKlL,EAAE,GAAGwG,QAK9DgN,EAAQ4B,EAAIzS,cACZqI,EAASwP,EAAMkG,UAAU,YACpBxV,KAAKsI,EAAMsuB,GAEpB92B,GAAOonB,QACFhY,OAAO,KACPH,KAAK,QAAS,SAAU5Z,EAAGL,GAAK,MAAO,aAAeA,EAAE,GAAK,IAAMK,EAAEC,OAE1E0K,EAAOmoB,OACFC,QAEL,IAAI2O,GAAO/2B,EAAO0V,UAAU,WACnBxV,KAAK02B,EAAS,SAAUvhC,GAAK,MAAOA,GAAEmG,GAAKnG,IAEhDihC,EAAW,UAAYv3B,EAAQuM,QAAQd,OAAS,mBAAqB,GAEzEusB,GAAK3P,QACAhY,OAAO,QACPH,KAAK,QAAS,SAAU5Z,EAAGL,EAAG6I,GAC3B,MAAKq4B,GAEEI,EAAW,KAA4B,kBAAdJ,GAA2BA,EAAUhhC,KAAKR,KAAMW,EAAGL,EAAG6I,GAAKq4B,GAFpEI,IAI1BphC,KAAKkyB,GAENroB,EAAQ8G,MAAM0E,YAAcxL,EAAQ8G,MAAM0E,WAAWC,QACrDusB,EAAK5O,OACApB,aAAatc,SAASA,GACtBwE,KAAK,IAAKrN,GACVqN,KAAK,SAAU,WAAc,MAAO,KACpCmZ,SACL2O,EAAKhQ,aAAatc,SAASA,GACtBvV,KAAK6Z,KAEVgoB,EAAK5O,OAAOC,SACZ2O,EAAK7hC,KAAK6Z,IAIdgoB,EAAK9nB,KAAK,QAAS0nB,GA/EvB,GAAAt7B,GAAAxG,EAAA,GACAsV,GxB+mOU5T,EAAuB8E,GwB/mOjCxG,EAAA,IAAYuV,ExBynOZ,SAAiC5T,GAAO,GAAIA,GAAOA,EAAIT,WAAc,MAAOS,EAAc,IAAI6T,KAAa,IAAW,MAAP7T,EAAe,IAAK,GAAIuH,KAAOvH,GAAWf,OAAOS,UAAUC,eAAejB,KAAKsB,EAAKuH,KAAMsM,EAAOtM,GAAOvH,EAAIuH,GAAgC,OAAtBsM,GAAO5T,QAAUD,EAAY6T,GANhOF,GwBlnOlC2M,EAAAjiB,EAAA,GxBsnOIkiB,EAAYxgB,EAAuBugB,GwBpnOnChc,GACA27B,QAEIC,YAAa,KACbj3B,MAAO,KACP2Y,SAAS,EACT6d,aAAc,EACdY,YAAa,WAAa,MAAOniC,MAAKmgB,WACtCwT,OAAQ,WAAa,MAAO,KAsGpC1Z,GAAO7T,SAAWA,EAoBlBiP,UAAQ8B,OAAO,SAAU8C,IxB+oOnB,SAAUta,EAAQD,EAASS,GAEjC,YAiBA,SAAS0B,GAAuBC,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,GyBxyOvF,GAAA6E,GAAAxG,EAAA,GACAsV,GzB2xOU5T,EAAuB8E,GyB3xOjCxG,EAAA,KzBqyOA,SAAiC2B,GAAO,GAAIA,GAAOA,EAAIT,WAAc,MAAOS,EAAc,IAAI6T,KAAa,IAAW,MAAP7T,EAAe,IAAK,GAAIuH,KAAOvH,GAAWf,OAAOS,UAAUC,eAAejB,KAAKsB,EAAKuH,KAAMsM,EAAOtM,GAAOvH,EAAIuH,GAAUsM,GAAO5T,QAAUD,GANpN2T,EAIlB5T,GyBlyOhB1B,EAAA,IAEAkV,QAAQ8B,OAAO,cAAe,SAAU3L,EAAMsP,GAC1CA,EAAMJ,OAAO,QACRH,KAAK,QAAS,QACdA,KAAK,UAAW,GAChBA,KAAK,YAAa,gCAClBA,KAAK,IAAK,22DACV8X,aACIiQ,MAAM,KACNvsB,SAAS,KACTwE,KAAK,UAAW,MzBmyOvB,SAAU5a,EAAQD,EAASS,GAEjC,YAiBA,SAAS0B,GAAuBC,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,G0BlzOvF,QAASygC,GAAsBl4B,GAC3B,GAAIm4B,KAiBJ,QAhBoE,KAA/D,MAAO,SAAU,UAAUjnB,QAAQlR,EAAQo4B,OAAOC,QACnDF,EAAQl5B,KAAKe,EAAQo4B,OAAOC,QAE5BF,EAAQl5B,KAAK,QAGmD,KAA/D,OAAQ,SAAU,SAASiS,QAAQlR,EAAQo4B,OAAOE,QACnDH,EAAQl5B,KAAKe,EAAQo4B,OAAOE,QAE5BH,EAAQl5B,KAAK,SAGgB,aAA7Be,EAAQo4B,OAAO1C,WACfyC,EAAQl5B,KAAK,YAGVk5B,EAGX,QAASI,GAAOp3B,EAAMsP,EAAOzQ,GACzB,IAA+B,IAA3BA,EAAQo4B,OAAOI,QAAnB,CAGA,GAAIzoB,EACJ,IAAI/P,EAAQo4B,OAAOr5B,GAEf,IADAgR,EAAYrG,UAAGQ,OAAOlK,EAAQo4B,OAAOr5B,IAAIqR,OAClCL,EAAU0oB,YACb1oB,EAAUzH,YAAYyH,EAAU0oB,gBAGpC9iC,MAAKoa,UAAU4G,UAAU,mBAAmB0S,QAEhD,IAAI5C,GAAKpb,EAAInS,WAAW,SAAU,wCAC9BsrB,EAAQrjB,EAAKrD,OACb46B,GAAgBjS,EAAG3e,OAAS,GAAK0c,EAAQ,GACzCmU,GAAO34B,EAAQ8G,MAAMoF,WAAawsB,GAAgB,EAClDE,EAAa,SAAU1Q,GAGvB,GAA8B,WAA1BloB,EAAQo4B,OAAOE,QAAwBpQ,EAAUpqB,OAArD,CAKA,GAAI+6B,GAAc3Q,EAAU,GAAGvd,WAAWvC,YACtC0C,GAAQ9K,EAAQ8G,MAAMC,UAAY8xB,GAAe,EAAI74B,EAAQ8G,MAAMkF,gBAAgBlB,IAEvFpB,WAAGQ,OAAOge,EAAU,GAAGvd,YAClBjK,MAAM,OAAQoK,EAAO,OAG9B,IAAI9K,EAAQo4B,OAAOr5B,GACfgR,EAAYrG,UAAGQ,OAAOlK,EAAQo4B,OAAOr5B,QAClC,CAEHgR,EADapa,KAAKoa,UAAU4G,UAAU,mBAAmBxV,MAAM,OAC5CknB,QAAQhY,OAAO,OAGtCN,EAAUG,KAAK,QAAS,WACpB,OAAQ,kBAAkBjS,OAAOi6B,EAAsBl4B,IAAUmR,KAAK,OAG1EpB,EAAUG,KAAK,QAAS,WACpB,GAAI9F,KAUJ,IAR8B,QAA1BpK,EAAQo4B,OAAOC,OACfjuB,EAAOnL,KAAK,UACqB,WAA1Be,EAAQo4B,OAAOC,OACtBjuB,EAAOnL,KAAK,QAAU05B,EAAM,MAE5BvuB,EAAOnL,KAAK,YAAce,EAAQ8G,MAAMkF,gBAAgBD,OAAS,GAAK,MAG5C,SAA1B/L,EAAQo4B,OAAOE,OACfluB,EAAOnL,KAAK,SAAWe,EAAQ8G,MAAMsF,SAAW,UAC7C,IAA8B,WAA1BpM,EAAQo4B,OAAOE,OAAqB,CAC3C,GAAIzP,GAASxd,EAAInS,WAAWvD,KAAM,kBAElCyU,GAAOnL,KAAK,WAAae,EAAQ8G,MAAMC,UAAY8hB,EAAOpiB,OAAS,EAAIzG,EAAQ8G,MAAMkF,gBAAgBlB,MAAQ,UAE7GV,GAAOnL,KAAK,cAGhB,OAAOmL,GAAO+G,KAAK,MAGvB,IAAIkL,GAAUtM,EAAU4G,UAAU,yBAC7BxV,KAAKA,EAEVkb,GAAQgM,QACHhY,OAAO,OACPH,KAAK,QAAS,WACX,MAAO,yBAGfmM,EAAQhM,OAAO,QACVH,KAAK,QAAS,SAAU5Z,EAAGL,GAAK,MAAO,gCAAkCA,EAAE,GAAK,IAAMoV,EAAIvQ,kBAAkBxE,EAAEC,QAEnH8lB,EAAQhM,OAAO,QACVH,KAAK,QAAS,eACd9I,KAAKpH,EAAQo4B,OAAOpmB,WACpB7b,KAAKyiC,GAEVvc,EAAQ+M,OACHC,UA3HT,GAAA/sB,GAAAxG,EAAA,G1BuzOIyG,EAAM/E,EAAuB8E,G0BtzOjC8O,EAAAtV,EAAA,GAAYuV,E1Bg0OZ,SAAiC5T,GAAO,GAAIA,GAAOA,EAAIT,WAAc,MAAOS,EAAc,IAAI6T,KAAa,IAAW,MAAP7T,EAAe,IAAK,GAAIuH,KAAOvH,GAAWf,OAAOS,UAAUC,eAAejB,KAAKsB,EAAKuH,KAAMsM,EAAOtM,GAAOvH,EAAIuH,GAAgC,OAAtBsM,GAAO5T,QAAUD,EAAY6T,GANhOF,G0BzzOlC2M,EAAAjiB,EAAA,G1B6zOIkiB,EAAYxgB,EAAuBugB,G0B3zOnChc,GACAq8B,QACIC,OAAQ,SACRC,OAAQ,QACR5C,UAAW,WACX8C,SAAS,EACTxmB,UAAW,SAAU1b,GACjB,MAAOA,GAAEC,MAEbwI,OAAIlH,IAiHZ0gC,GAAOx8B,SAAWA,EAoBlBiP,UAAQ8B,OAAO,SAAUyrB,I1B8zOnB,SAAUjjC,EAAQD,EAASS,GAEjC,YAiBA,SAAS0B,GAAuBC,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,G2B95OvF,QAASmY,GAAOiJ,EAASpI,EAAOzQ,EAASuQ,GAmBrC,QAASuoB,GAAgBC,GAAU,MAAO,UAAUziC,EAAGL,GAAK,OAAQ8iC,GAAQ,IAAM,OAAQ9iC,EAAE,GAAK,IAAMoV,EAAIvQ,kBAAkBxE,EAAEC,OAlB/HZ,KAAKkb,kBAAkB,YAEvB,IAAIpU,GAAI,SAAUnG,GAAK,MAAOX,MAAKwxB,OAAO7wB,EAAEmG,GAAK9G,KAAKmgB,UAAY,EAAI,IAAOlF,KAAKjb,MAC9E2L,EAAI,SAAUhL,GAAK,MAAOX,MAAK4xB,OAAOjxB,EAAEgL,GAAKhL,EAAEyT,IAAM,IAAM,IAAO6G,KAAKjb,MACvEqjC,EAAgBh5B,EAAQ8G,MAAM0E,YAAcxL,EAAQ8G,MAAM0E,WAAWC,MACzEwtB,GAAqBj5B,EAAQk5B,KAAKD,oBAAsB,gBACxDvtB,EAAgD,MAArC1L,EAAQ8G,MAAM0E,WAAWE,SAAmB1L,EAAQ8G,MAAM0E,WAAWE,SAAW,GAE3F,IAAIvK,GAAOnB,EAAQk5B,KAAKzC,WAAWprB,EAAIzQ,kBAAkBie,GAiIzD,OA/HA1X,GAAOnB,EAAQk5B,KAAK7f,QAAU3P,UAAGC,OAAOF,QAAQG,OAAO,SAAUtT,GAAK,MAAOA,GAAE6K,OAASA,GAAQA,EAUhG,WACI,GAAIg4B,GAAYzvB,UAAGyG,IAAI+oB,OAClBz8B,EAAE,SAAUnG,GAAK,MAAOmG,GAAEnG,KAC1BgL,EAAE,WAAc,MAAOA,IAAG7E,EAAG,EAAG6E,EAAGtB,EAAQsM,MAAMvK,KAAO,MAEzDm3B,EAAOxvB,UAAGyG,IAAI+oB,OACbz8B,EAAE,SAAUnG,GAAK,MAAOmG,GAAEnG,KAC1BgL,EAAE,SAAUhL,GAAK,MAAOgL,GAAEhL,IAE5B0J,GAAQk5B,KAAK3C,QAAQ2C,EAAK1C,YAAY,WAEzC,IAAI4C,GAASC,EAAcJ,GACvBh4B,EAASwP,EAAMkG,UAAU,YACpBxV,KAAKA,EAAM,SAAU7K,GAAK,MAAOA,GAAEC,OAGxCwI,EAAKkC,EAAOonB,QAAQhY,OAAO,SAC1BH,KAAK,QAAQ4oB,EAAgB,WAC7B5oB,KAAK,YAAa,cAClBG,OAAO,QACHH,KAAK,QAAS,OAEvB,IAAI8oB,EAAe,CACf,GAAIM,GAAqC,kBAAvBL,EAAyCC,EAAOC,CAClEp6B,GAAGmR,KAAK,IAAK,SAAS5Z,GAAK,MAAOgjC,GAAYhjC,EAAE6K,QAC3ChL,KAAKkV,EAAIzP,QAAQw9B,EAAO/Q,MAAO6Q,QAEpCn6B,GAAGmR,KAAK,IAAK,SAAU5Z,GAAK,MAAO4iC,GAAK5iC,EAAE6K,OAI9CpC,GAAKkC,EACAiP,KAAK,QAAS4oB,EAAgB,WAC9B5uB,OAAO,SAER8uB,EACAj6B,EAAG5I,KAAKkV,EAAIzP,QAAQw9B,EAAOppB,OAAQkpB,IAEnCn6B,EAAGmR,KAAK,IAAK,SAAU5Z,GAAK,MAAO4iC,GAAK5iC,EAAE6K,QAK1CF,EAAOmoB,OACFC,YAMb,SAAuBmP,GACnB,GAAIe,GAAwD,MAAtCv5B,EAAQk5B,KAAKM,OAAOD,eAA0B7tB,EAAW1L,EAAQk5B,KAAKM,OAAOD,eAC/F7C,EAAUjmB,EAAMkG,UAAU,uBACzBxV,KAAKq3B,EAAUr3B,KAAW,SAAU7K,GAAK,MAAOA,GAAEC,MACvDmgC,GAAQrO,QAAQhY,OAAO,KAClBH,KAAK,QAAS4oB,EAAgB,+BAEnCpC,EAAQxmB,KAAK,QAAS4oB,EAAgB,+BAEtCpC,EAAQtN,OAAOC,QAEf,IAAIoQ,GAAO/C,EAAQ/f,UAAU,QACxBxV,KAAK,SAAU7K,GAAK,MAAOA,GAAE6K,MAAS,SAAU7K,GAAK,MAAOA,GAAEmG,GAE/Du8B,GACAS,EAAKzR,aAAaiQ,MAAMsB,GAAgB7tB,SAASA,GAC5CwE,KAAK,KAAMzT,GACXyT,KAAK,KAAM5O,GACX4O,KAAK,UAAW,GAErBupB,EAAKvpB,KAAK,KAAMzT,GACXyT,KAAK,KAAM5O,GACX4O,KAAK,UAAW,GAIzBupB,EAAKpR,QAAQhY,OAAO,UACfH,KAAK,QAAS,OACdA,KAAK,IAAKlQ,EAAQk5B,KAAKM,OAAO1hB,MAC9B5H,KAAK,UAAW,GAChBA,KAAK,KAAMzT,GACXyT,KAAK,KAAM5O,GACX0mB,aAAaiQ,MAAMsB,GACfrpB,KAAK,UAAW,GAEzBupB,EAAKrQ,OAAOC,UA3FFrpB,EAAQk5B,KAAKM,OAAO/tB,QA+FlC,SAA+B+sB,GAC3B,GACI9B,GAAUjmB,EAAMkG,UAAU,qBACzBxV,KAAKq3B,EAAUr3B,KAAW,SAAU7K,GAAK,MAAOA,GAAEC,MAEvDmgC,GAAQrO,QAAQhY,OAAO,KAClBH,KAAK,QAAS4oB,EAAgB,qBAEnCpC,EAAQtN,OAAOC,QAEf,IAAIoQ,GAAO/C,EAAQ/f,UAAU,oBACxBxV,KAAK,SAAU7K,GAAK,MAAOA,GAAE6K,MAAS,SAAU7K,GAAK,MAAOA,GAAEmG,GAEnEg9B,GAAKpR,QAAQhY,OAAO,UACfH,MACGwpB,MAAS,kBACTC,EAfU,GAgBV1D,QAAW,IAGnBwD,EAAKvpB,MACD0pB,GAAMn9B,EACNo9B,GAAMv4B,IAGVm4B,EAAKrQ,OAAOC,UAtHMrpB,EAAQuM,SAAWvM,EAAQuM,QAAQd,QAyHlD9V,KA/MX,GAsBI+V,GACAutB,EAvBJ38B,EAAAxG,EAAA,G3Bu9OIyG,EAAM/E,EAAuB8E,G2Bt9OjC8O,EAAAtV,EAAA,GAAYuV,E3Bg+OZ,SAAiC5T,GAAO,GAAIA,GAAOA,EAAIT,WAAc,MAAOS,EAAc,IAAI6T,KAAa,IAAW,MAAP7T,EAAe,IAAK,GAAIuH,KAAOvH,GAAWf,OAAOS,UAAUC,eAAejB,KAAKsB,EAAKuH,KAAMsM,EAAOtM,GAAOvH,EAAIuH,GAAgC,OAAtBsM,GAAO5T,QAAUD,EAAY6T,GANhOF,G2Bz9OlC2M,EAAAjiB,EAAA,G3B69OIkiB,EAAYxgB,EAAuBugB,G2B39OnChc,GACAsQ,OACIlO,KAAM,UAEV+6B,MACI7f,SAAS,EACTkd,QAAQ,EACR0C,mBAAoB,gBAEpBO,QACI/tB,QAAQ,EACRqM,KAAM,EACNyhB,eAAgB,MAEpB9C,WAAYprB,EAAI1Q,aAAa,OAMjC0+B,GACAS,iBACIzR,MAAO,SAAU6Q,GACFvjC,KACNokC,KAAK,WACN,GAAIC,GAAcrkC,KAAKskC,gBACvBvwB,WAAGQ,OAAOvU,MACLua,KAAK,mBAAoB8pB,EAAc,IAAMA,GAC7C9pB,KAAK,oBAAqB8pB,GAC1BhS,aAAatc,SAASA,GAAUwuB,KAAK,UACjChqB,KAAK,oBAAqB,GAC1B8X,aAAatc,SAAS,GAClBwE,KAAK,uBAAoBrY,OAI9CmY,OAAQ,SAAUkpB,GACdvjC,KAAKua,KAAK,IAAK,SAAU5Z,GAAK,MAAO4iC,GAAK5iC,EAAE6K,QAC5CxL,KAAKokC,KAAK,WACN,GAAIC,GAAcrkC,KAAKskC,gBACvBvwB,WAAGQ,OAAOvU,MACLua,KAAK,mBAAoB8pB,EAAc,IAAMA,GAC7C9pB,KAAK,oBAAqB8pB,GAC1BhS,aAAatc,SAASA,GAAUwuB,KAAK,UACjChqB,KAAK,oBAAqB,GAC1B8X,aAAatc,SAAS,GAClBwE,KAAK,uBAAoBrY,QAKlDsiC,iBACI9R,MAAO,SAAU6Q,GACbvjC,KAAKqyB,aAAatc,SAASA,GACtBwE,KAAK,IAAK,SAAU5Z,GAAK,MAAO4iC,GAAK5iC,EAAE6K,SAGhD6O,OAAQ,SAAUkpB,GACdvjC,KAAKqyB,aAAatc,SAASA,GACtBwE,KAAK,IAAK,SAAU5Z,GAAK,MAAO4iC,GAAK5iC,EAAE6K,UAmJxDyO,GAAO7T,SAAWA,EAqBlBiP,UAAQ8B,OAAO,OAAQ8C,I3B+9OjB,SAAUta,EAAQD,EAASS,GAEjC,Y4BxsPA,IAAAsV,GAAAtV,EAAA,GACAiiB,EAAAjiB,EAAA,I5BgtPA,SAAgC2B,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,KAFhDsgB,G4B5sPvC/M,QAAQ8B,OAAO,UAAWjR,S5BotPpB,SAAUvG,EAAQD,EAASS,GAEjC,YAiBA,SAAS0B,GAAuBC,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,G6B3sPvF,QAAS2iC,GAAiBp6B,GACtB,MAAIqL,GAAI9P,SAASyE,EAAQq6B,IAAIC,aAErBvvB,IAAK/K,EAAQq6B,IAAIC,WACjBxvB,KAAM9K,EAAQq6B,IAAIC,WAClBxuB,MAAO9L,EAAQq6B,IAAIC,WACnBvuB,OAAQ/L,EAAQq6B,IAAIC,YAIrBt6B,EAAQq6B,IAAIC,WAGvB,QAASC,GAAY1R,EAAQ2R,EAAUC,GACnC,OACI1vB,IAAKM,EAAInR,MAAM2uB,EAAO9d,IAAK,EAAG0vB,GAC9B1uB,OAAQV,EAAInR,MAAM2uB,EAAO9c,OAAQ,EAAG0uB,GACpC3vB,KAAMO,EAAInR,MAAM2uB,EAAO/d,KAAM,EAAG0vB,GAChC1uB,MAAOT,EAAInR,MAAM2uB,EAAO/c,MAAO,EAAG0uB,IAI1C,QAASE,GAAY16B,GAKjB,MAAOu6B,GAJOH,EAAiBp6B,GACvBA,EAAQ8G,MAAMC,UACd/G,EAAQ8G,MAAMoF,YAK1B,QAASyuB,GAAkB/iC,EAAOif,GAG9B,MAAOjf,GAAQ,GAAKA,EAAQ,EAAIif,EAAMjf,EAAQA,EAGlD,QAASgjC,GAAoBl0B,EAASwiB,EAAGrmB,GAGrC,OACIkI,IAAK4vB,EAAkBj0B,EAAQqE,IAAKlI,IAAM,EAC1CkJ,OAAQ4uB,EAAkBj0B,EAAQqF,OAAQlJ,IAAM,EAChDiI,KAAM6vB,EAAkBj0B,EAAQoE,KAAMoe,IAAM,EAC5Cpd,MAAO6uB,EAAkBj0B,EAAQoF,MAAOod,IAAM,GAItD,QAASlc,GAAS7L,EAAMsP,EAAOzQ,GAiE3B,QAAS66B,GAAaC,GAmClB,QAASC,GAASj+B,GACd,GAAI7G,GAAIyT,UAAG8sB,YAAY7gC,KAAKqlC,SAAUl+B,EAEtC,OADAnH,MAAKqlC,SAAW/kC,EAAE,GACX,SAASuI,GACZ,MAAOy8B,GAAIhlC,EAAEuI,KAtCrB,GAAIy8B,GAAMvxB,UAAGyG,IAAI8qB,MACZC,YAAYC,GAAQC,YAAYA,GAEjCC,EAAW3xB,UAAGyG,IAAI8qB,MACjBC,YAAYC,GAAQC,YAAYA,GAChCE,WAAW,GAAGC,SAAS,GAExBlB,EAAMS,EAAMnkB,UAAU,QACrBxV,KAAK,SAAU7K,GAAK,MAAOklC,GAAQllC,EAAE6K,OAAU,SAAU7K,GAAK,MAAOA,GAAE6K,KAAK1E,GAEjF49B,GAAIhS,QACChY,OAAO,QACPH,KAAK,QAASgmB,GACdhmB,KAAK,IAAK,SAAU5Z,GAAK,MAAO+kC,GAAS/kC,KACzC4Z,KAAK,QAASxP,GACdq5B,KAAK,SAAUzjC,GAAKX,KAAKqlC,UAAaM,WAAYhlC,EAAEglC,WAAYC,SAAUjlC,EAAEglC,cAG7EtC,GACAqB,EAAIjR,OACCC,SAELgR,EAAIrS,aAAatc,SAASA,GACrBwuB,KAAK,YACLuB,UAAU,IAAKV,KAEpBV,EAAIjR,OAAOC,SACXgR,EAAInqB,KAAK,IAAK+qB,IA3FtB,GAAIvvB,GAAgD,MAArC1L,EAAQ8G,MAAM0E,WAAWE,SAAmB1L,EAAQ8G,MAAM0E,WAAWE,SAAW,IAC3FstB,EAAgBh5B,EAAQ8G,MAAM0E,YAAcxL,EAAQ8G,MAAM0E,WAAWC,OACrEyd,EAAIlpB,EAAQ8G,MAAMC,UAAWlE,EAAI7C,EAAQ8G,MAAMoF,WAC/CxF,EAAUg0B,EAAYvkC,KAAKR,KAAMqK,GACjCi3B,EAAY91B,EAAKrD,OACjB4C,EAAQV,EAAQq6B,IAAI35B,MACpBqQ,EAAQpb,KACR+lC,GAAiB17B,EAAQq6B,IAAIC,WAAWxvB,KAAM9K,EAAQq6B,IAAIC,WAAWxuB,OAAO9F,MAAM,SAAU1P,GAAK,MAAY,OAALA,IACxGqlC,GAAiB37B,EAAQq6B,IAAIC,WAAWvvB,IAAK/K,EAAQq6B,IAAIC,WAAWvuB,QAAQ/F,MAAM,SAAU1P,GAAK,MAAY,OAALA,IACxGslC,EAAehB,EAAoBl0B,EAASwiB,EAAGrmB,GAE/Cg5B,EAAgBl/B,KAAKoF,IAAImnB,EAAGrmB,GAG5Bi5B,EAAeF,EAAa9wB,MAAQ8wB,EAAa9vB,MAAQ8vB,EAAa9wB,OAASmsB,EAAY,GAAK2E,EAAa9vB,MAC7GiwB,EAAiBp/B,KAAKoF,KAAMmnB,EAAI4S,GAAgB7E,EAAa,GAAIp0B,EAAI+4B,EAAa7wB,IAAM6wB,EAAa7vB,QAAU,GAC/GovB,EAASR,EAAkBtvB,EAAItQ,SAASiF,EAAQq6B,IAAIa,YAAaa,EAAgBpmC,KAAMomC,EAAgBF,GAAgBA,GAEvHT,EAAcT,EAAkBtvB,EAAItQ,SAASiF,EAAQq6B,IAAIe,YAAa,EAAGzlC,KAAMwlC,GAASA,GACxFK,EAAU9xB,UAAGC,OAAO0wB,MAAMziC,MAAM,SAAUtB,GAAK,MAAOA,GAAEgL,IAAMkF,KAAK,MACnEw1B,EAAaF,EAAeX,EAASlE,EAAY,EACjDgF,EAAmBP,GAAiBxS,EAAI8S,GAAc,EAAIJ,EAAa9wB,KACvEoxB,EAAUr5B,EAAI,EAEdqzB,EAAU,SAAU5/B,EAAGL,EAAG6I,GAC1B,GAAIq9B,GAAY,cAAgBn8B,EAAQuM,QAAQd,OAAS,mBAAqB,IAAM,OAASxV,EAAE,GAAK,IAAMK,EAAE6K,KAAK1E,CAEjH,OAAKuD,GAAQq6B,IAAI+B,WAIVD,EAAY,KAAyC,kBAA3Bn8B,GAAQq6B,IAAI+B,WAA4Bp8B,EAAQq6B,IAAI+B,WAAWjmC,KAAK4a,EAAOza,EAAGL,EAAG6I,GAAKkB,EAAQq6B,IAAI+B,YAHxHD,GAMXE,EAAe,SAAU/lC,EAAEL,GAE3B,GAAIk6B,GAAU8L,GAA6B,EAATd,EAAallC,GAAK2lC,EAAa9vB,MAAQ8vB,EAAa9wB,MAAQ7U,GAE1FqmC,EAAOX,EAAgBO,EAAUf,EAASS,EAAa7wB,GAE3D,OAAO,cAAgBowB,EAAShL,GAAW,IAAOmM,EAAQ,KAG1DC,EAAW9rB,EAAMkG,UAAU,eAC1BxV,KAAKA,EAEVo7B,GAASlU,QAAQhY,OAAO,SACnBH,KAAK,QAAS,aACdA,KAAK,YAAamsB,GAClBlmC,KAAK0kC,GAEV0B,EAASnT,OAAOC,SAEZ2P,EACAuD,EACKpmC,KAAK0kC,GACL7S,aAAatc,SAASA,EAAS,GAC/BwE,KAAK,YAAamsB,GAEvBE,EAASpmC,KAAK0kC,GACT3qB,KAAK,YAAamsB,GA5I/B,GAAA//B,GAAAxG,EAAA,G7B8tPIyG,EAAM/E,EAAuB8E,G6B7tPjC8O,EAAAtV,EAAA,GAAYuV,E7BuuPZ,SAAiC5T,GAAO,GAAIA,GAAOA,EAAIT,WAAc,MAAOS,EAAc,IAAI6T,KAAa,IAAW,MAAP7T,EAAe,IAAK,GAAIuH,KAAOvH,GAAWf,OAAOS,UAAUC,eAAejB,KAAKsB,EAAKuH,KAAMsM,EAAOtM,GAAOvH,EAAIuH,GAAgC,OAAtBsM,GAAO5T,QAAUD,EAAY6T,GANhOF,G6BhuPlC2M,EAAAjiB,EAAA,G7BouPIkiB,EAAYxgB,EAAuBugB,G6BluPnChc,GACAs+B,KACI+B,WAAY,KAEZ17B,MAAO,KAEP45B,YACIxvB,KAAM,KACNC,IAAK,KACLe,MAAO,KACPC,OAAQ,MAQZqvB,YAAa,KAKbF,YAAa,MAiKrBluB,GAASjR,SAAWA,EAkBpBiP,UAAQ8B,OAAO,MAAOE,I7BquPhB,SAAU1X,EAAQD,EAASS,GAEjC,YAiBA,SAAS0B,GAAuBC,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,G8Bt7PvF,QAAS+kC,GAAYr7B,EAAMsP,EAAOzQ,GAC9BrK,KAAKkb,kBAAkB,YACvB,IAAInF,GAAgD,MAArC1L,EAAQ8G,MAAM0E,WAAWE,SAAmB1L,EAAQ8G,MAAM0E,WAAWE,SAAW,IAC3FstB,EAAgBh5B,EAAQ8G,MAAM0E,YAAcxL,EAAQ8G,MAAM0E,WAAWC,OACrE6D,EAAMtP,EAAQy8B,QACdC,EAAgB/mC,KAAKmgB,UAAY,EACjCrZ,EAAI,SAAUnG,GAAK,MAAOX,MAAKwxB,OAAO7wB,EAAEmG,GAAKigC,GAAiB9rB,KAAKjb,MACnE2L,EAAI,SAAUhL,GAAK,MAAOX,MAAK4xB,OAAOjxB,EAAEgL,IAAMsP,KAAKjb,MACnDkN,EAAI7C,EAAQ8G,MAAMoF,WAClBgqB,EAAU,SAAU5/B,EAAGL,GAAK,MAAOK,GAAEC,KAAO,cAAgBN,EAAE,GAElEkL,GAAOnB,EAAQy8B,QAAQhG,WAAWt1B,EAElC,IAAIF,GAASwP,EAAMkG,UAAU,WACxBxV,KAAKA,EAEVF,GAAOiP,KAAK,QAASgmB,GAErBj1B,EAAOonB,QAAQhY,OAAO,SACjBH,KAAK,QAASgmB,GAEnBj1B,EAAOmoB,OAAOC,QAEd,IAAIoQ,GAAOx4B,EAAO0V,UAAU,QACvBxV,KAAK,SAAU7K,GAAK,MAAOA,GAAE6K,MAAS,SAAU7K,GAC7C,MAAO0J,GAAQy8B,QAAQ5E,QAAUvhC,EAAE0J,EAAQy8B,QAAQ5E,SAAWvhC,EAAEmG,GAGxEg9B,GAAKpR,QAAQhY,OAAO,UACXH,KAAK,QAAS,uBACdA,KAAK,IAAKZ,EAAI6rB,QACdjrB,KAAK,KAAMzT,GACXyT,KAAK,KAAMrN,GAEhBm2B,EACAS,EAAKzR,aAAatc,SAASA,GACtBwE,KAAK,IAAKZ,EAAI6rB,QACdjrB,KAAK,KAAMzT,GACXyT,KAAK,KAAM5O,GAEhBm4B,EAAKvpB,KAAK,IAAKZ,EAAI6rB,QACdjrB,KAAK,KAAMzT,GACXyT,KAAK,KAAM5O,GAIpBm4B,EAAKrQ,OAAOC,SA9DhB,GAAA/sB,GAAAxG,EAAA,GACAsV,G9By7PU5T,EAAuB8E,G8Bz7PjCxG,EAAA,IACAiiB,G9Bk8PA,SAAiCtgB,GAAO,GAAIA,GAAOA,EAAIT,WAAc,MAAOS,EAAc,IAAI6T,KAAa,IAAW,MAAP7T,EAAe,IAAK,GAAIuH,KAAOvH,GAAWf,OAAOS,UAAUC,eAAejB,KAAKsB,EAAKuH,KAAMsM,EAAOtM,GAAOvH,EAAIuH,GAAUsM,GAAO5T,QAAUD,GANpN2T,G8B57PlCtV,EAAA,I9Bg8PIkiB,EAAYxgB,EAAuBugB,G8B97PnChc,GACAsQ,OACIlO,KAAM,UAEVs+B,SACItB,OAAQ,EACR1E,WAAY,SAASt1B,GACjB,MAAOA,KAsDnBq7B,GAAYzgC,SAAWA,EAoBvBiP,UAAQ8B,OAAO,UAAW0vB,I9Bm8PpB,SAAUlnC,EAAQD,EAASS,GAEjC,YAiBA,SAAS0B,GAAuBC,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,G+B5gQvF,QAASklC,GAAax7B,EAAMsP,EAAOzQ,GAE/B,GAAI48B,GAAiBjnC,KAAK2W,QAAQ4F,aAC9B3F,EAAU7C,UAAGQ,OAAOlK,EAAQ28B,aAAa59B,GAE7CwN,GAAQswB,QAAQ,iBAAiB,EAGjC,IAAIC,GAAc,SAAUxmC,GACxB,GAAIymC,GAAS,SAAU1lC,GACnB,QAASA,GAAY,MAAPA,EAAEiK,IAEhB07B,EAAQ,SAAU3lC,EAAGpB,GACrB,GAAIwI,GAAQ4M,EAAI9P,SAASjF,EAAEmG,GAAKnG,EAAEmG,EAAIuD,EAAQqM,MAAMnD,WAAWgI,QAAQ5a,EAAEmG,EACzE,OAAQsgC,GAAO1lC,EAAE8J,KAAK1C,IAElB,MADEw+B,WAAY5lC,EAAEd,KAAMqB,MAAOP,EAAE8J,KAAK1C,GAAO6C,EAAGi2B,SAAU,MAAQthC,EAAE,KAGtEinC,EAAU/7B,EAAK7B,IAAI09B,GAAOz2B,OAAO,SAAU9J,GAAK,MAAOA,KACvD2K,EAAO81B,EAAS59B,IAAI,SAAUd,GAAK,MAAO,gBAAkBA,EAAE+4B,SAAW,MAAQ/4B,EAAEy+B,WAAa,KAAOL,EAAep+B,EAAE5G,OAAS,YAAcuZ,KAAK,MACxJ5E,GAAQ4wB,KAAK/1B,GAAM1G,OAAOsY,QAAS,WAGnCokB,EAAa,WAEb7wB,EAAQ4wB,KAAK,IAGjBxnC,MAAKwa,IAAIwG,UAAU,oBACd0mB,GAAG,oBAAqBP,EAAYlsB,KAAKjb,OACzC0nC,GAAG,mBAAqBD,EAAWxsB,KAAKjb,OA7DjD,GAAA2G,GAAAxG,EAAA,G/B+hQIyG,EAAM/E,EAAuB8E,G+B9hQjC8O,EAAAtV,EAAA,GAAYuV,E/BwiQZ,SAAiC5T,GAAO,GAAIA,GAAOA,EAAIT,WAAc,MAAOS,EAAc,IAAI6T,KAAa,IAAW,MAAP7T,EAAe,IAAK,GAAIuH,KAAOvH,GAAWf,OAAOS,UAAUC,eAAejB,KAAKsB,EAAKuH,KAAMsM,EAAOtM,GAAOvH,EAAIuH,GAAgC,OAAtBsM,GAAO5T,QAAUD,EAAY6T,GANhOF,G+BjiQlC2M,EAAAjiB,EAAA,G/BqiQIkiB,EAAYxgB,EAAuBugB,G+BniQnChc,GACAwQ,SACId,QAAQ,GA0DhBkxB,GAAa5gC,SAAWA,EAExBiP,UAAQ8B,OAAO,eAAgB6vB,I/B6iQzB,SAAUrnC,EAAQD,EAASS,GAEjC,YAiBA,SAAS0B,GAAuBC,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,GgC/mQvF,QAASmY,GAAOzO,EAAMsP,EAAOzQ,GA0IzB,QAASs9B,GAAsBhnC,GAC3B,GAAIoJ,KAUJ,OATAyB,GAAKvB,QAAQ,SAAUqB,EAAQs8B,GAC3B,GAAIhnC,GAAO0K,EAAO1K,IAClB0K,GAAOE,KAAKvB,QAAQ,SAAUuD,GACtBA,EAAM1G,IAAMnG,EAAEmG,GAAKnG,EAAEgL,IAAM6B,EAAM7B,GACjC5B,EAAIT,KAAKvI,OAAOwK,OAAOiC,GAASlC,OAAQ1K,EAAMgnC,YAAYA,SAK/D79B,EAnJX,GAAI89B,GAAiB,WACjBC,aAAa9nC,KAAK4W,QAAQmxB,YAG1BC,EAAgB,SAAU1H,EAASgC,GAChCtiC,KAAKqK,QAAQuM,QAAQqxB,QACpBjoC,KAAKkoC,eACA7V,aAAatc,SAASusB,GAClBv3B,MAAM,UAAWu1B,GAE1BtgC,KAAKkoC,eAAen9B,MAAM,UAAWu1B,IAIzC6H,EAAkB,SAAUxnC,GAC5B,GAeIynC,GAfAC,EAAkB,WAClB,MAAmC,SAA5Bt0B,UAAGu0B,MAAMtP,OAAOjkB,QAAqBW,EAAI/S,YAAYoR,UAAGu0B,MAAMtP,QAAUjlB,UAAGw0B,MAAMvoC,KAAKoa,UAAUK,SAEvG+W,EAASxxB,KAAKwxB,OACdI,EAAS5xB,KAAK4xB,OACdnb,EAAWzW,KAAKqK,QAAQ8G,MAAMsF,SAC9BrF,EAAYpR,KAAKqK,QAAQ8G,MAAMC,UAC/BoF,EAAUxW,KAAKqK,QAAQ8G,MAAMqF,QAC7BD,EAAavW,KAAKqK,QAAQ8G,MAAMoF,WAChCiyB,MAAgDtmC,KAApClC,KAAKqK,QAAQuM,QAAQ6xB,SAAS3hC,EAAkB9G,KAAKqK,QAAQuM,QAAQ6xB,SAAS3hC,EAAI9G,KAAKqK,QAAQuM,QAAQ6xB,SACnHC,MAAgDxmC,KAApClC,KAAKqK,QAAQuM,QAAQ6xB,SAAS98B,EAAkB3L,KAAKqK,QAAQuM,QAAQ6xB,SAAS98B,EAAI3L,KAAKqK,QAAQuM,QAAQ6xB,SACnH33B,EAAQ63B,WAAW3oC,KAAKkoC,eAAeztB,OAAOgjB,aAC9CtrB,EAASw2B,WAAW3oC,KAAKkoC,eAAeztB,OAAOijB,cAC/CkL,EAASpX,EAASA,EAAO7wB,EAAEmG,GAAKuhC,EAAgB7nC,KAAKR,MAAM,GAC3D6oC,EAASjX,EAASA,EAAOjxB,EAAEgL,GAAK08B,EAAgB7nC,KAAKR,MAAM,GAG3D8oC,EAAgB,SAAUhoB,GA6B1B,MA3BIA,GAAIha,EAAI2P,IACRqK,EAAIha,EAAI2P,GAIRqK,EAAIha,EAAIgK,EAAQ2F,EAAWrF,IAC3B0P,EAAIha,GAAMga,EAAIha,EAAIgK,GAAU2F,EAAWrF,GAGvCg3B,GAAe,GAIftnB,EAAInV,EAAI6K,IACRsK,EAAInV,EAAI6K,EAGJ4xB,GAAgBS,GAAU/nB,EAAInV,GAAKk9B,GAAU/nB,EAAInV,EAAIwG,IACrD2O,EAAInV,EAAIk9B,EAASryB,EAAUkyB,IAK/B5nB,EAAInV,EAAIwG,EAASqE,EAAUD,IAC3BuK,EAAInV,EAAI6K,EAAUD,EAAcpE,GAG7B2O,GAGPmiB,GACA3P,SAAY,WAMR,MAAOwV,IAJHhiC,EAAG2P,EAAWmyB,GAAUJ,EAAY13B,GACpCnF,EAAG6K,EAAUqyB,GAAUH,EAAYv2B,MAM3CkhB,WAAc,WAMV,MAAOyV,IAJHhiC,EAAG2P,EAAWoyB,GAAUL,EAAY13B,GACpCnF,EAAG6K,EAAUoyB,GAAUF,EAAYv2B,MAO/C,OAAO9H,GAAQ8G,MAAMmF,aAAe2sB,EAAW5P,aAAe4P,EAAW3P,YAIzE6T,EAAc,SAAUxmC,GACxBooC,EAAKvoC,KAAKR,KAAMW,IAGhB8mC,EAAa,WACbO,EAAcxnC,KAAKR,KAAM,EAAGA,KAAKqK,QAAQuM,QAAQoyB,WAGjDC,EAAiB,SAAUtoC,EAAGuoC,GAW9B,GAAI7+B,GAAUrK,KAAKqK,QAAQuM,QACvBuyB,GACA,SAAUxoC,GAAK,MAAO0J,GAAQgS,UAAY3G,EAAIzP,QAAQoE,EAAQgS,UAAW1b,EAAGuoC,GAAa,MACzF,SAAUvoC,GAAK,MAAOA,GAAEc,eAAe,KAAOiU,EAAIzP,QAAQ,SAAUtF,GAAK,MAAOA,GAAE2K,OAAS,OAAS3K,EAAEmG,EAAI,OAASnG,EAAEgL,GAAMhL,GAAK,MAChI,SAAUA,GAAK,MAAOA,GAAE6K,MAAQ7K,EAAE6K,KAAK/J,eAAe,KAAOiU,EAAIzP,QAAQ,SAAUtF,GAAK,MAAOA,GAAE2K,OAAS,OAAU3K,EAAEmG,EAAI,OAASnG,EAAEgL,GAAMhL,EAAE6K,MAAQ,MACrJ,SAAU7K,GAAK,MAAOA,GAAEc,eAAe,SAAWiU,EAAIzP,QAAQ,SAAUtF,GAAK,MAAOA,GAAEsB,OAAUtB,GAAK,MACrG,WAAc,MAAO,YAAc,MAAO,OAI9C,OApBA,YACI,GAAIyoC,GAASnhC,MAAMzG,UAAU4I,MAAM5J,KAAK0H,WACpCmhC,EAAOD,EAAO,GACdE,EAAOF,EAAOh/B,MAAM,EAIxB,OAFei/B,GAAK1/B,IAAI,SAAS5B,GAAM,MAAOA,GAAGQ,MAAMvI,KAAMspC,KAAUhhC,QAAQoN,EAAIxP,OAEnE0K,OAAO,SAAUzJ,GAAK,MAAOA,KAAM,IAa1CgiC,EAAYxoC,MAGzBooC,EAAO,SAAUpoC,GACjBknC,EAAernC,KAAKR,KAEpB,IAAIupC,GAAa5B,EAAsBhnC,EAEvCX,MAAKkoC,eAAe3zB,OAAO,SAASizB,KAAKyB,EAAezoC,KAAKR,KAAMW,GAAK4oC,EAAW,GAAIA,GAEvF,IAAIzoB,GAAMqnB,EAAgB3nC,KAAKR,KAAMW,EAErCX,MAAKkoC,eACAn9B,MAAM,MAAO+V,EAAInV,EAAI,MACrBZ,MAAM,OAAQ+V,EAAIha,EAAI,MAE3BkhC,EAAcxnC,KAAKR,KAAMA,KAAKqK,QAAQuM,QAAQ0pB,QAAStgC,KAAKqK,QAAQuM,QAAQ4yB,UAiBhFxpC,MAAKkoC,eAAiBloC,KAAKoa,UACtBrP,MAAM,WAAY,YAClBiW,UAAU,eAAexV,MAAM,IAEpCxL,KAAKkoC,eACAxV,QAAQhY,OAAO,OACfH,KAAK,QAAS,cACdxP,MAAM,UAAW,GACjB2P,OAAO,OACHH,KAAK,QAAS,QAEvBva,KAAKwa,IAAIwG,UAAU,oBACd0mB,GAAG,oBAAqBP,EAAYlsB,KAAKjb,OACzC0nC,GAAG,mBAAqBD,EAAWxsB,KAAKjb,OAxLjD,GAAA2G,GAAAxG,EAAA,GhCsnQIyG,EAAM/E,EAAuB8E,GgCrnQjC8O,EAAAtV,EAAA,GAAYuV,EhC+nQZ,SAAiC5T,GAAO,GAAIA,GAAOA,EAAIT,WAAc,MAAOS,EAAc,IAAI6T,KAAa,IAAW,MAAP7T,EAAe,IAAK,GAAIuH,KAAOvH,GAAWf,OAAOS,UAAUC,eAAejB,KAAKsB,EAAKuH,KAAMsM,EAAOtM,GAAOvH,EAAIuH,GAAgC,OAAtBsM,GAAO5T,QAAUD,EAAY6T,GANhOF,GgCxnQlC2M,EAAAjiB,EAAA,GhC4nQIkiB,EAAYxgB,EAAuBugB,GgC1nQnChc,GACAwQ,SACId,QAAQ,EACRmyB,SAAS,EACT3H,QAAS,IACTkJ,SAAU,IACVR,SAAU,IACVP,UACI3hC,EAAG,EACH6E,EAAG,GAEP0Q,cAAWna,IA4KnB+X,GAAO7T,SAAWA,EAyBlBiP,UAAQ8B,OAAO,UAAW8C,IhCooQpB,SAAUta,EAAQD,EAASS,GAEjC,YAiBA,SAAS0B,GAAuBC,GAAO,MAAOA,IAAOA,EAAIT,WAAaS,GAAQC,QAASD,GiCv2QvF,QAAS2nC,GAAiBC,GACtB,GAAI7U,GAAMnf,EAAIlQ,QAAQkkC,EAAQ//B,IAAI,SAAU+J,GAAO,MAAOA,GAAIlI,QAC1Dm+B,EAAW9U,EAAI1sB,QAAUuN,EAAI9P,SAASivB,EAAI,GAAG/tB,GAC7C8iC,EAAa,SAAUjpC,EAAGL,GAAK,OAASwG,EAAGxG,EAAGqL,EAAGhL,EAAEgL,GAEvD,OAAOg+B,GAAW9U,EAAMA,EAAIlrB,IAAIigC,GAGpC,QAAS1xB,GAAK2xB,EAAK/uB,EAAOzQ,GACtBrK,KAAKkb,kBAAkB,YACvB,IAAI1P,GAAOi+B,EAAiBI,GACxB9zB,EAAgD,MAArC1L,EAAQ8G,MAAM0E,WAAWE,SAAmB1L,EAAQ8G,MAAM0E,WAAWE,SAAW,IAC3FstB,EAAgBh5B,EAAQ8G,MAAM0E,YAAcxL,EAAQ8G,MAAM0E,WAAWC,OACrEhP,EAAI,SAASnG,GAAK,MAAOX,MAAKwxB,OAAO7wB,GAAKX,KAAKmgB,UAAY,GAAKlF,KAAKjb,MACrE2L,EAAI,SAAShL,GAAK,MAAOX,MAAK4xB,OAAOjxB,IAAMsa,KAAKjb,MAChD8pC,EAAap0B,EAAI1R,iBAAiBwH,GAClC+E,EAASwD,UAAGsL,OAAOrf,KAAKwxB,OAAOjhB,UAC/Bw5B,EAAgBh2B,UAAGsL,OAAO7T,EAAM,SAAS9J,GAAK,MAAOA,GAAEoF,IACvDkjC,EAAQ,SAAUljC,GAAK,MAAOgjC,GAAW17B,UAAY07B,EAAW37B,MAAQrH,GAExEy8B,EAAOzoB,EAAMkG,UAAU,eACtBxV,MAAM,GAEPy+B,OAAMD,EAAMD,EAAc,MAAQE,MAAMD,EAAMD,EAAc,MAAQE,MAAMnjC,EAAEyJ,EAAO,MAAQ05B,MAAMnjC,EAAEyJ,EAAO,KAC1GgzB,EAAK7P,UAEL6P,EAAK7Q,QAAQhY,OAAO,QACfH,KAAK,QAAS,cACdA,KAAK,KAAMzT,EAAEyJ,EAAO,KACpBgK,KAAK,KAAM5O,EAAEq+B,EAAMD,EAAc,MACjCxvB,KAAK,KAAMzT,EAAEyJ,EAAO,KACpBgK,KAAK,KAAM5O,EAAEq+B,EAAMD,EAAc,MAEtCxG,EAAK9P,OAAOC,SAER2P,IACAE,EAAOA,EAAKlR,aAAatc,SAASA,IAGtCwtB,EAAKhpB,KAAK,KAAMzT,EAAEyJ,EAAO,KACpBgK,KAAK,KAAM5O,EAAEq+B,EAAMD,EAAc,MACjCxvB,KAAK,KAAMzT,EAAEyJ,EAAO,KACpBgK,KAAK,KAAM5O,EAAEq+B,EAAMD,EAAc,OA9C9C,GAAApjC,GAAAxG,EAAA,GjC+1QIyG,EAAM/E,EAAuB8E,GiC91QjC8O,EAAAtV,EAAA,GAAYuV,EjCw2QZ,SAAiC5T,GAAO,GAAIA,GAAOA,EAAIT,WAAc,MAAOS,EAAc,IAAI6T,KAAa,IAAW,MAAP7T,EAAe,IAAK,GAAIuH,KAAOvH,GAAWf,OAAOS,UAAUC,eAAejB,KAAKsB,EAAKuH,KAAMsM,EAAOtM,GAAOvH,EAAIuH,GAAgC,OAAtBsM,GAAO5T,QAAUD,EAAY6T,GANhOF,GiCj2QlC2M,EAAAjiB,EAAA,GjCq2QIkiB,EAAYxgB,EAAuBugB,EiCrzQvClK,GAAK9R,YAoBLiP,UAAQ8B,OAAO,YAAae,IjCg3QtB,SAAUvY,EAAQD","file":"contour.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"d3\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"d3\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Contour\"] = factory(require(\"d3\"));\n\telse\n\t\troot[\"Contour\"] = factory(root[\"d3\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"d3\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"d3\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Contour\"] = factory(require(\"d3\"));\n\telse\n\t\troot[\"Contour\"] = factory(root[\"d3\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 12);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.warning = exports.getCentroid = exports.getStyle = exports.selectDom = exports.isSupportedDataFormat = exports.maxTickValues = exports.sum = exports.stackLayout = exports.normalizeSeries = exports.isCorrectSeriesFormat = exports.isCorrectDataFormat = exports.mergeArrays = exports.dateDiff = exports.textBounds = exports.getTicksThatFit = exports.doXLabelsFit = exports.calcXLabelsWidths = exports.niceTicks = exports.extractScaleDomain = exports.niceMinMax = exports.roundToNextTick = exports.niceRound = exports.linearRegression = exports.translatePoint = exports.rotatePoint = exports.radToDeg = exports.degToRad = exports.clampRight = exports.clampLeft = exports.clamp = exports.log10 = exports.decDigits = exports.digits = exports.trunc = exports.roundTo = exports.roundToNearest = exports.firstAndLast = exports.warn = exports.minMaxFilter = exports.cleanNullValues = exports.materialize = exports.seriesNameToClass = exports.getValue = exports.omit = exports.intersection = exports.compact = exports.flatten = exports.uniq = exports.range = exports.isString = exports.isNumber = exports.isDate = exports.isObjectLike = exports.isObject = exports.partialRight = exports.partial = exports.noop = exports.merge = exports.defaults = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _lodash = __webpack_require__(14);\n\nObject.defineProperty(exports, 'defaults', {\n    enumerable: true,\n    get: function get() {\n        return _interopRequireDefault(_lodash).default;\n    }\n});\n\nvar _lodash2 = __webpack_require__(15);\n\nObject.defineProperty(exports, 'merge', {\n    enumerable: true,\n    get: function get() {\n        return _interopRequireDefault(_lodash2).default;\n    }\n});\n\nvar _d = __webpack_require__(1);\n\nvar _d2 = _interopRequireDefault(_d);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// cheap trick to add decimals without hitting javascript issues\n// note that this fails for very large numbers\nvar multiplier = function multiplier(x) {\n    var dig = decDigits(x);return dig === 0 ? 1 : Math.pow(10, dig);\n};\nvar maxMultiplier = function maxMultiplier(a, b) {\n    return Math.max(multiplier(a), multiplier(b));\n};\nvar addFloat = function addFloat(a, b) {\n    var factor = maxMultiplier(a, b),\n        aa = Math.round(a * factor),\n        bb = Math.round(b * factor);return (aa + bb) / factor;\n};\nvar subFloat = function subFloat(a, b) {\n    var factor = maxMultiplier(a, b),\n        aa = Math.round(a * factor),\n        bb = Math.round(b * factor);return (aa - bb) / factor;\n};\nvar mulFloat = function mulFloat(a, b) {\n    var factor = maxMultiplier(a, b),\n        aa = Math.round(a * factor),\n        bb = Math.round(b * factor);return aa * bb / (factor * factor);\n};\nvar divFloat = function divFloat(a, b) {\n    var factor = maxMultiplier(a, b),\n        aa = Math.round(a * factor),\n        bb = Math.round(b * factor);return aa / bb;\n};\n\nvar root = (typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' ? window : global;\n\n// jshint -W079\nvar objectProto = Object.prototype;\nvar hasOwnProperty = objectProto.hasOwnProperty;\nvar toString = objectProto.toString;\n\n// jshint undef:false\nvar symToStringTag = typeof Symbol !== 'undefined' ? Symbol.toStringTag : undefined;\n\nfunction baseGetTag(value) {\n    if (value == null) {\n        return value === undefined ? '[object Undefined]' : '[object Null]';\n    }\n\n    if (!(symToStringTag && symToStringTag in Object(value))) {\n        return toString.call(value);\n    }\n\n    var isOwn = hasOwnProperty.call(value, symToStringTag);\n    var tag = value[symToStringTag];\n    var unmasked = false;\n\n    try {\n        value[symToStringTag] = undefined;\n        unmasked = true;\n    } catch (e) {}\n\n    var result = toString.call(value);\n    if (unmasked) {\n        if (isOwn) {\n            value[symToStringTag] = tag;\n        } else {\n            delete value[symToStringTag];\n        }\n    }\n    return result;\n}\n\nvar noop = exports.noop = function noop() {};\n\nvar partial = exports.partial = function partial(fn /*args*/) {\n    // prevent leaking arguments object outside of the current scope\n    // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n    var args = new Array(arguments.length - 1);\n    for (var i = 1; i < arguments.length; ++i) {\n        args[i - 1] = arguments[i];\n    }\n\n    return function () {\n        var newArgs = new Array(arguments.length);\n        for (var i = 0; i < arguments.length; ++i) {\n            newArgs[i] = arguments[i];\n        }\n\n        var fullArgs = args.concat(newArgs);\n        return fn.apply(this, fullArgs);\n    };\n};\n\nvar partialRight = exports.partialRight = function partialRight(fn /*, args */) {\n    // prevent leaking arguments object outside of the current scope\n    // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n    var args = new Array(arguments.length - 1);\n    for (var i = 1; i < arguments.length; ++i) {\n        args[i - 1] = arguments[i];\n    }\n\n    return function () {\n        var newArgs = new Array(arguments.length);\n        for (var i = 0; i < arguments.length; ++i) {\n            newArgs[i] = arguments[i];\n        }\n\n        var fullArgs = newArgs.concat(args);\n        return fn.apply(this, fullArgs);\n    };\n};\n\nvar isObject = exports.isObject = function isObject(value) {\n    var type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n    return value != null && (type === 'object' || type === 'function');\n};\n\nvar isObjectLike = exports.isObjectLike = function isObjectLike(value) {\n    return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\n};\n\nvar isDate = exports.isDate = function isDate(value) {\n    return isObjectLike(value) && baseGetTag(value) === '[object Date]';\n};\n\nvar isNumber = exports.isNumber = function isNumber(value) {\n    return typeof value === 'number' || isObjectLike(value) && baseGetTag(value) === '[object Number]';\n};\n\nvar isString = exports.isString = function isString(value) {\n    return typeof value === 'string' || value instanceof String;\n};\n\nvar range = exports.range = function range(start, end, step) {\n    if (arguments.length === 1) {\n        var t = start;\n        start = 0;\n        end = t;\n    }\n\n    step = step || (end >= start ? 1 : -1);\n    var index = -1;\n    var length = Math.max(Math.ceil((end - start) / (step || 1)), 0);\n    var result = new Array(length);\n\n    while (length--) {\n        result[++index] = start;\n        start += step;\n    }\n    return result;\n};\n\n// return the uniq elements in the array\n// we are implementing our own version since this algorithm seems\n// to be a lot faster than what lodash uses\nvar uniq = exports.uniq = function uniq(array) {\n    if (array == null || !array.length) return [];\n    var cache = {},\n        result = [];\n    var len = array.length;\n\n    for (var j = 0; j < len; j++) {\n        var el = array[j],\n            key = el + '';\n\n        if (!cache.hasOwnProperty(key)) {\n            cache[key] = true;\n            result.push(el);\n        }\n    }\n\n    return result;\n};\n\nvar flatten = exports.flatten = function flatten(array) {\n    if (!array || !array.length) {\n        return [];\n    }\n\n    return array.reduce(function (acc, cur) {\n        return acc.concat(Array.isArray(cur) ? flatten(cur) : cur);\n    }, []);\n};\n\nvar compact = exports.compact = function compact(array) {\n    if (!array || !array.length) {\n        return [];\n    }\n\n    return array.reduce(function (acc, cur) {\n        if (cur) {\n            acc.push(cur);\n        }\n        return acc;\n    }, []);\n};\n\nvar intersection = exports.intersection = function intersection(a, b) {\n    if (!a || !b) return [];\n    if (!a.length || !b.length) return [];\n\n    var map = b.reduce(function (acc, cur) {\n        acc[cur] = true;\n        return acc;\n    }, {});\n\n    return a.reduce(function (acc, cur) {\n        if (map[cur]) {\n            acc.push(cur);\n            delete map[cur];\n        }\n\n        return acc;\n    }, []);\n};\n\nvar omit = exports.omit = function omit(src, props) {\n    if (!src || Object.prototype.toString.call(src) !== '[object Object]') {\n        return src;\n    }\n\n    var index = [].concat(props).reduce(function (acc, prop) {\n        return acc[prop] = true, acc;\n    }, {});\n\n    var res = {};\n    Object.keys(src).forEach(function (prop) {\n        if (!index[prop]) {\n            res[prop] = src[prop];\n        }\n    });\n\n    return res;\n};\n\n// the src is a function returns the function evaluated\n// otherwise returns src\nvar getValue = exports.getValue = function getValue(src, deafult, ctx, args) {\n    args = Array.prototype.slice.call(arguments, 3);\n    return !src ? deafult : typeof src === 'function' ? src.apply(ctx, args) : src;\n};\n\nvar seriesNameToClass = exports.seriesNameToClass = function seriesNameToClass(name) {\n    return name || '';\n};\n\nvar materialize = exports.materialize = function materialize(object, ctx, options, curPath) {\n\n    var isDom = function isDom(obj) {\n        return obj && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object' && obj.nodeType === 1 && _typeof(obj.style) === 'object' && _typeof(obj.ownerDocument) === 'object';\n    };\n    var skipList = (options || {}).skip || [];\n\n    var shouldSkip = function shouldSkip(path) {\n        return skipList.some(function (e) {\n            if (!e) return false;\n            if ((typeof e === 'undefined' ? 'undefined' : _typeof(e)) === 'object' && e instanceof RegExp) {\n                return e.test(path);\n            }\n\n            return e.toString() === path;\n        });\n    };\n\n    if (object == null) {\n        return object;\n    } else if (Array.isArray(object)) {\n        return object;\n    }if (isDom(object)) {\n        return object;\n    } else if (typeof object === 'function') {\n        return getValue(object, null, ctx);\n    } else if ((typeof object === 'undefined' ? 'undefined' : _typeof(object)) === 'object') {\n        return Object.keys(object).reduce(function (prev, key) {\n            var curKeyPath = curPath ? curPath + '.' + key : key;\n            var expectsParam = typeof object[key] === 'function' && !!object[key].length;\n            var shouldMaterialize = !shouldSkip(curKeyPath) && !expectsParam;\n\n            if (expectsParam && !shouldSkip(curKeyPath)) {\n                console.warn('The funciton \"' + curKeyPath + '\" expects parameters and will not be resolved to a value before the render starts. It is assumed to be used inside a visualization. Add this function to the \"skip\" list to remove this message.');\n            }\n\n            if (shouldMaterialize) {\n                prev[key] = materialize(object[key], ctx, options, curKeyPath);\n            } else {\n                prev[key] = object[key];\n            }\n            return prev;\n        }, {});\n    } else {\n        return object;\n    }\n};\n\nvar cleanNullValues = exports.cleanNullValues = function cleanNullValues() {\n    return function (series) {\n        return series.map(function (s) {\n            return Object.assign(s, {\n                data: s.data.reduce(function (acum, datum) {\n                    if (datum.y != null) {\n                        acum.push(datum);\n                    }\n\n                    return acum;\n                }, [])\n            });\n        });\n    };\n};\n\nvar minMaxFilter = exports.minMaxFilter = function minMaxFilter(desiredLen) {\n    return function (data) {\n        if (data.length <= desiredLen) return data;\n\n        var toReturn = [data[0]]; //always want the first\n        var index = 1;\n        var increment = Math.floor(data.length / desiredLen);\n\n        while (index < data.length - 1) {\n            var hasValidPt = false;\n            var maxPt;\n            var minPt;\n            var maxIndex = Math.min(index + increment, data.length);\n\n            for (var intermediateIndex = index; intermediateIndex < maxIndex; intermediateIndex++) {\n                var intermediatePt = data[index];\n                if (intermediatePt.y) {\n                    if (!hasValidPt || intermediatePt.y > maxPt.y) maxPt = intermediatePt;\n\n                    if (!hasValidPt || intermediatePt.y < minPt.y) minPt = intermediatePt;\n\n                    hasValidPt = true;\n                }\n            }\n\n            if (hasValidPt) {\n                if (minPt.x === maxPt.x) {\n                    toReturn.push(minPt);\n                } else if (minPt.x < maxPt.x) {\n                    toReturn.push(minPt);\n                    toReturn.push(maxPt);\n                } else if (minPt.x > maxPt.x) {\n                    toReturn.push(maxPt);\n                    toReturn.push(minPt);\n                }\n            }\n\n            index += Math.max(1, Math.min(data.length - 1 - index, increment));\n        }\n        toReturn.push(data[data.length - 1]); //always want the last\n        return toReturn;\n    };\n};\n\nvar warn = exports.warn = function warn(msg) {\n    if (console && console.log) console.log(msg);\n};\n\nvar firstAndLast = exports.firstAndLast = function firstAndLast(ar) {\n    return [ar[0], ar[ar.length - 1]];\n};\n\nvar roundToNearest = exports.roundToNearest = function roundToNearest(number, multiple) {\n    return mulFloat(Math.ceil(divFloat(number, multiple)), multiple);\n};\n\nvar roundTo = exports.roundTo = function roundTo(value, digits) {\n    return divFloat(Math.ceil(mulFloat(value, Math.pow(10, digits))), Math.pow(10, digits));\n};\n\nvar trunc = exports.trunc = function trunc(value) {\n    return value - value % 1;\n};\n\n// only works for integers\nvar digits = exports.digits = function digits(value) {\n    var str = Math.abs(value).toString();\n    var parts = str.split('e');\n    if (parts.length === 2) {\n        return Math.max(0, parts[1]) + 1;\n    }\n    parts = str.split('.');\n    return parts[0].length;\n};\n\nvar decDigits = exports.decDigits = function decDigits(value) {\n    var str = Math.abs(value).toString();\n    var parts = str.split('.');\n    if (parts.length === 2) {\n        return parts[1].length;\n    }\n    parts = str.split('e');\n    if (parts.length === 2) {\n        return -Math.min(0, parts[1]);\n    }\n    return 0;\n};\n\nvar log10 = exports.log10 = function log10(value) {\n    return Math.log(value) / Math.LN10;\n};\n\nvar clamp = exports.clamp = function clamp(val, l, h) {\n    return val > h ? h : val < l ? l : val;\n};\n\nvar clampLeft = exports.clampLeft = function clampLeft(val, low) {\n    return val < low ? low : val;\n};\n\nvar clampRight = exports.clampRight = function clampRight(val, high) {\n    return val > high ? high : val;\n};\n\nvar degToRad = exports.degToRad = function degToRad(deg) {\n    return deg * Math.PI / 180;\n};\n\nvar radToDeg = exports.radToDeg = function radToDeg(rad) {\n    return rad * 180 / Math.PI;\n};\n\nvar rotatePoint = exports.rotatePoint = function rotatePoint(point, rad) {\n    return {\n        x: point.x * Math.cos(rad) - point.y * Math.sin(rad),\n        y: point.x * Math.sin(rad) + point.y * Math.cos(rad)\n    };\n};\n\nvar translatePoint = exports.translatePoint = function translatePoint(point, delta) {\n    return {\n        x: point.x + delta.x,\n        y: point.y + delta.y\n    };\n};\n\nvar linearRegression = exports.linearRegression = function linearRegression(dataSrc) {\n    var lr = {};\n    var n = dataSrc.length;\n    var sum_x = 0;\n    var sum_y = 0;\n    var sum_xy = 0;\n    var sum_xx = 0;\n    var sum_yy = 0;\n\n    for (var i = 0; i < n; i++) {\n        sum_x += dataSrc[i].x;\n        sum_y += dataSrc[i].y;\n        sum_xy += dataSrc[i].x * dataSrc[i].y;\n        sum_xx += dataSrc[i].x * dataSrc[i].x;\n        sum_yy += dataSrc[i].y * dataSrc[i].y;\n    }\n\n    lr.slope = (n * sum_xy - sum_x * sum_y) / (n * sum_xx - sum_x * sum_x);\n    lr.intercept = (sum_y - lr.slope * sum_x) / n;\n    lr.r2 = Math.pow((n * sum_xy - sum_x * sum_y) / Math.sqrt((n * sum_xx - sum_x * sum_x) * (n * sum_yy - sum_y * sum_y)), 2);\n\n    return lr;\n};\n\nvar niceRound = exports.niceRound = function niceRound(val) {\n    // for now just round(10% above the value)\n    return Math.ceil(val + val * 0.10);\n\n    // var digits = Math.floor(Math.log(val) / Math.LN10) + 1;\n    // var fac = Math.pow(10, digits);\n\n    // if(val < 1) return roundToNearest(val, 1);\n\n    // if(val < fac / 2) return roundToNearest(val, fac / 2);\n\n    // return roundToNearest(val, fac);\n};\n\nvar roundToNextTick = exports.roundToNextTick = function roundToNextTick(num) {\n    var abs = Math.abs(num);\n    var sign = abs === num ? 1 : -1;\n    var mag, step;\n    if (abs >= 1) {\n        mag = Math.floor(log10(abs));\n        step = mag <= 1 ? 2 : Math.pow(10, mag - 1);\n    } else {\n\n        var exp = abs.toExponential().replace(/\\.|e-\\d+$/g, '');\n        mag = exp.length;\n        step = mulFloat(mag === 1 ? 2 : 10, Math.pow(10, -mag));\n    }\n\n    var raw = roundToNearest(abs, step);\n    return sign * raw;\n};\n\nvar niceMinMax = exports.niceMinMax = function niceMinMax(min, max, ticks, startAtZero) {\n    // return divFloat(Math.ceil(mulFloat(value, Math.pow(10, digits))), Math.pow(10, digits));\n\n    // check for errors... min cannot be > max\n    if (min > max) {\n        return {\n            min: min,\n            max: min,\n            tickValues: []\n        };\n    }\n\n    var swap = max < 0 && min < 0;\n    var origMax = max;\n    if (swap) {\n        max = -min;\n        min = -origMax;\n    }\n\n    // 2 ticks seem to work for min max and passing 5 ticks to d3\n    ticks = ticks == null ? 2 : Math.max(1, ticks);\n    // if ticks is an array, use that as order of preferred ticks; otherwise return a\n    // variable number of ticks in order to keep values round\n    if (isNumber(ticks)) {\n        // for 1, check [1]\n        // for 2, check [2, 1]\n        // for 3, check [3, 2]\n        // for 4, check [4, 5, 3]\n        // for 5, check [5, 6, 4, 3]\n        // for 6, check [6, 7, 5, 4]\n        // for 7, check [7, 8, 6, 5]\n        // for 8, check [8, 9, 10, 7, 6]\n        // for 9, check [9, 10, 11, 8, 7, 6]\n        // for 10, check [10, 11, 12, 9, 8, 7]\n        ticks = range(ticks, ticks * 1.28).concat(range(ticks - 1, (ticks - 1) * 0.72, -1));\n    }\n\n    if (startAtZero == null) {\n        startAtZero = min === 0 || origMax < 0;\n    }\n\n    var exponent;\n    if (min === max) {\n        if (max === 0) {\n            exponent = -1.0;\n        } else {\n            exponent = log10(Math.abs(max));\n        }\n    } else {\n        if (startAtZero) {\n            exponent = log10(Math.abs(max)) - 0.5;\n        } else {\n            exponent = log10(max - min) - 0.5;\n        }\n    }\n\n    var defaultRounding = -(exponent >= 0 ? trunc(exponent) : Math.floor(exponent));\n\n    // var defaultRounding = -trunc((min === max ?\n    //     max === 0 ? -1.0 : log10(Math.abs(max)) :\n    //     startAtZero ? log10(Math.abs(max)) : log10(max-min)\n    // ) - 0.5);\n\n    var excelRoundUp = function excelRoundUp(value, up) {\n        up = up != null ? up : 0;\n        var roundFn = function roundFn(v) {\n            return v >= 0 ? Math.ceil(v) : Math.floor(v);\n        };\n        return divFloat(roundFn(value * Math.pow(10, up)), Math.pow(10, up));\n    };\n\n    var nice = function nice(ticks) {\n        var negativeMinAmount = excelRoundUp(Math.max(0, -min) / ticks, defaultRounding - 1);\n\n        var intermediateMax = min === max ? max === 0 ? 1 : excelRoundUp(max + negativeMinAmount, defaultRounding) : excelRoundUp(max + negativeMinAmount, defaultRounding);\n\n        var iMin = 0;\n        if (!startAtZero && min !== max) {\n            var inter = min + negativeMinAmount;\n            var dig = digits(inter);\n            var roundToDigits;\n            if (inter > 0) {\n                roundToDigits = -Math.floor(log10(inter));\n            } else {\n                roundToDigits = Math.max(1, Math.abs(dig - 2));\n            }\n\n            iMin = -roundTo(-inter, roundToDigits);\n            iMin = iMin === 0 ? 0 : iMin;\n            // old version:\n            // iMin = excelRound(min + negativeMinAmount, defaultRounding + (min < 0 ? 1 : 0))\n        }\n\n        var intermediateMin = iMin;\n\n        var interval = excelRoundUp(divFloat(subFloat(intermediateMax, intermediateMin), ticks), defaultRounding);\n        var finalMin = subFloat(intermediateMin, negativeMinAmount);\n        var finalMax = addFloat(finalMin, mulFloat(ticks, interval));\n        var ticksValues = [finalMin];\n        var prevTick = finalMin;\n\n        for (var j = 1; j < ticks; j++) {\n            var newTick = addFloat(prevTick, interval);\n\n            ticksValues.push(newTick);\n            prevTick = newTick;\n        }\n\n        // total ticks are going to be either ticks or ticks + 1\n        if (Math.abs(prevTick - finalMax) > 1e-10) {\n            ticksValues.push(finalMax);\n        }\n\n        return {\n            min: swap ? -finalMax : finalMin,\n            max: swap ? -finalMin : finalMax,\n            tickValues: ticksValues.map(function (a) {\n                return swap ? -a : a;\n            })\n        };\n    };\n\n    var defaultMinMax;\n    var minMax;\n\n    var foundSomethingRound = ticks.some(function (ticks) {\n        minMax = nice(ticks);\n        defaultMinMax = defaultMinMax || minMax;\n        return minMax.tickValues.every(function (tick) {\n            return tick === Math.round(tick);\n        });\n    });\n    return foundSomethingRound ? minMax : defaultMinMax;\n};\n\nvar extractScaleDomain = exports.extractScaleDomain = function extractScaleDomain(domain, min, max, ticks, zeroAnchor) {\n    var dataMin = min != null ? min : Math.min.apply(null, domain);\n    var dataMax = max != null ? max : Math.max.apply(null, domain);\n    ticks = ticks == null ? 5 : ticks;\n\n    var niced = niceMinMax(dataMin, dataMax, ticks, zeroAnchor);\n\n    // return [niced.min, niced.max];\n\n    // // we want null || undefined for all this comparasons\n    // // that == null gives us\n    if (min == null && max == null) {\n        return [niced.min, niced.max];\n    }\n\n    if (min == null) {\n        return [Math.min(niced.min, max), max];\n    }\n\n    if (max == null) {\n        return [min, Math.max(min, niced.max)];\n    }\n\n    return [min, max];\n};\n\nvar niceTicks = exports.niceTicks = function niceTicks(min, max, ticks, zeroAnchor, domain) {\n    ticks = ticks == null ? 5 : ticks;\n    min = min != null ? min : zeroAnchor ? Math.min(0, domain[0]) : domain[0];\n    max = max != null ? max : domain[1];\n\n    var niced = niceMinMax(min, max, ticks, zeroAnchor);\n    var tickValues = niced.tickValues;\n\n    // ensure that y-axis endpoints are labelled\n    if (min !== domain[0]) {\n        tickValues.push(min);\n        tickValues = tickValues.filter(function (tick) {\n            return tick >= min;\n        });\n    }\n\n    if (max !== domain[1]) {\n        tickValues.push(max);\n        tickValues = tickValues.filter(function (tick) {\n            return tick <= max;\n        });\n    }\n\n    tickValues.sort(function (a, b) {\n        return a - b;\n    });\n\n    return uniq(tickValues);\n};\n\nvar calcXLabelsWidths = exports.calcXLabelsWidths = function calcXLabelsWidths(ticks) {\n    var padding = 8;\n    var compact = function compact(e) {\n        return !!e;\n    };\n    return ticks.filter(compact).map(String).map(function (d) {\n        if (!d) {\n            return padding * 2;\n        }\n        return textBounds(d, '.x.axis text').width + padding * 2;\n    });\n};\n\nvar doXLabelsFit = exports.doXLabelsFit = function doXLabelsFit(ticks, labelFormatter, options) {\n    var tickWidths = calcXLabelsWidths(ticks.map(labelFormatter));\n    var availableWidthForLabels = options.chart.plotWidth + tickWidths[0] / 2 + tickWidths[ticks.length - 1] / 2;\n    var axisLabelsWidth = sum(tickWidths);\n    return axisLabelsWidth <= availableWidthForLabels;\n};\n\nvar getTicksThatFit = exports.getTicksThatFit = function getTicksThatFit(ticks, labelFormatter, options) {\n    // reduce the number of ticks incrementally by taking every 2nd, then every 3th, and so on\n    // until we find a set of ticks that fits the available space\n    function reduceTicksByMod() {\n        var tickWidths = calcXLabelsWidths(ticks.map(labelFormatter));\n        var axisLabelsWidth = sum(tickWidths);\n        var availableWidthForLabels = options.chart.plotWidth + tickWidths[0] / 2 + tickWidths[ticks.length - 1] / 2;\n        var iter = 1;\n        var filterMod = function filterMod(d, i) {\n            return i % iter === 0;\n        };\n        var finalTicks = ticks;\n        while (axisLabelsWidth > availableWidthForLabels && finalTicks.length !== 0) {\n            iter++;\n            finalTicks = ticks.filter(filterMod);\n            axisLabelsWidth = sum(calcXLabelsWidths(finalTicks.map(labelFormatter)));\n        }\n\n        return finalTicks;\n    }\n\n    // possible alternative way using d3 ticks to calculate the number\n    // that fits\n    // function reduceTicksByD3() {\n    //     // while(axisLabelsWidth > availableWidthForLabels && ticks.length !== 1) {\n    //     //     ticks = axis.scale().ticks(Math.floor(--numAutoTicks));\n    //     //     axisLabelsWidth = sum(calcLabelsWidths(ticks.map(formatLabel)));\n    //     // }\n\n    //     // axis.ticks(ticks.length);\n    // }\n\n    return reduceTicksByMod();\n};\n\n// measure text inside a Contour chart container\nvar textBounds = exports.textBounds = function textBounds(text, css) {\n    var body = document.getElementsByTagName('body')[0];\n    var wrapper = document.createElement('span');\n    var dummy = document.createElement('span');\n    wrapper.className = 'contour-chart';\n    dummy.style.position = 'absolute';\n    dummy.style.width = 'auto';\n    dummy.style.height = 'auto';\n    dummy.style.visibility = 'hidden';\n    dummy.style.lineHeight = '100%';\n    dummy.style.whiteSpace = 'nowrap';\n\n    dummy.innerHTML = text;\n    dummy.className = css.replace(/\\./g, ' ');\n    wrapper.appendChild(dummy);\n    body.appendChild(wrapper);\n    var res = { width: dummy.clientWidth, height: dummy.clientHeight };\n    wrapper.removeChild(dummy);\n    body.removeChild(wrapper);\n    return res;\n};\n\nvar dateDiff = exports.dateDiff = function dateDiff(d1, d2) {\n    var diff = d1.getTime() - d2.getTime();\n    return diff / (24 * 60 * 60 * 1000);\n};\n\n// concatenate and sort two arrays to the resulting array\n// is sorted ie. merge [2,4,6] and [1,3,5] = [1,2,3,4,5,6]\nvar mergeArrays = exports.mergeArrays = function mergeArrays(array1, array2) {\n    if (typeof array1 === 'number') array1 = [array1];\n    if (typeof array2 === 'number') array2 = [array2];\n    if (!array1 || !array1.length) return array2;\n    if (!array2 || !array2.length) return array1;\n\n    return [].concat(array1, array2).sort(function (a, b) {\n        return a - b;\n    });\n};\n\nvar isCorrectDataFormat = exports.isCorrectDataFormat = function isCorrectDataFormat(dataArray) {\n    return Array.isArray(dataArray) && dataArray.every(function (p) {\n        return p.hasOwnProperty('x') && p.hasOwnProperty('y');\n    });\n};\n\nvar isCorrectSeriesFormat = exports.isCorrectSeriesFormat = function isCorrectSeriesFormat(data) {\n    var isArrayOfObjects = Array.isArray(data) && isObject(data[0]);\n    if (!isArrayOfObjects) {\n        return false;\n    }\n\n    var hasDataArrayPerSeries = data.every(function (d) {\n        return d.hasOwnProperty('data');\n    });\n    var hasSeriesNamePerSeries = data.every(function (d) {\n        return d.hasOwnProperty('name');\n    });\n    var datumInCorrectFormat = isArrayOfObjects && hasDataArrayPerSeries && isCorrectDataFormat(data[0].data);\n\n    return isArrayOfObjects && hasDataArrayPerSeries && hasSeriesNamePerSeries && datumInCorrectFormat;\n};\n\nvar normalizeSeries = exports.normalizeSeries = function normalizeSeries(data, categories) {\n    var hasCategories = !!(categories && Array.isArray(categories));\n    function sortFn(a, b) {\n        return a.x - b.x;\n    }\n    function normal(set, name) {\n        var d = {\n            name: name,\n            data: set.map(function (d, i) {\n                var hasX = d != null && d.hasOwnProperty('x');\n                var val = function val(v) {\n                    return v != null ? v : null;\n                };\n                // make sure we return a valid category and not cast nulls as string\n                var categoryAt = function categoryAt(i) {\n                    return !hasCategories ? i : categories[i] == null ? null : categories[i] + '';\n                };\n                return hasX ? Object.assign(d, { x: d.x, y: val(d.y) }) : { x: categoryAt(i), y: val(d) };\n            })\n        };\n\n        if (!hasCategories) {\n            d.data.sort(sortFn);\n        }\n\n        return d;\n    }\n\n    var correctDataFormat = isCorrectDataFormat(data);\n    var correctSeriesFormat = isCorrectSeriesFormat(data);\n\n    // do not make a new copy, if the data is already in the correct format!\n    if (correctSeriesFormat) {\n        return data;\n    }\n\n    // do the next best thing if the data is a set of points in the correct format\n    if (correctDataFormat) {\n        if (!hasCategories) data.sort(sortFn);\n        return [{ name: 'series 1', data: data }];\n    }\n\n    // for the rest of the cases we need to normalize to the full format of the series\n    if (Array.isArray(data)) {\n        if (isObject(data[0]) && data[0].hasOwnProperty('data') || Array.isArray(data[0])) {\n            // this would be the shape for multiple series\n            return data.map(function (d, i) {\n                return normal(d.data ? d.data : d, d.name ? d.name : 'series ' + (i + 1));\n            });\n        } else {\n            // this is just the shape [1,2,3,4] or [{x:0, y:1}, { x: 1, y:2}...]\n            return [normal(data, 'series 1')];\n        }\n    }\n\n    // nothing to do to the data if it's not in a supported format\n    return data;\n};\n\n// returns a function to format the data into a 'stacked' d3 layout\n// passing in a series data will add a y0 to each data point\n// where the point should start relative to the reset of the series points\n// at that x value\nvar stackLayout = exports.stackLayout = function stackLayout() {\n    var stack = _d2.default.layout.stack().values(function (d) {\n        return d.data;\n    });\n    // prepare satck to handle different x values with different lengths\n    var outFn = function outFn() {\n        var y0s = {};\n        return function (d, y0, y) {\n            d.y0 = y0s[d.x] != null ? y0s[d.x] : 0;\n            d.y = y;\n            y0s[d.x] = (y0s[d.x] || 0) + y;\n        };\n    };\n\n    stack.out(outFn());\n\n    return stack;\n};\n\nvar sum = exports.sum = function sum(array) {\n    return array.reduce(function (acc, cur) {\n        return acc += cur;\n    }, 0);\n};\n\nvar maxTickValues = exports.maxTickValues = function maxTickValues(max, domain) {\n    var len = domain.length;\n    var values = [];\n\n    if (max >= len) return domain.slice();\n\n    // return d3.scale.linear().domain(domain).ticks(max);\n\n    var tickInteval = Math.ceil(len / max);\n    var cur = 0;\n    while (cur < len) {\n        values.push(domain[cur]);\n        cur += tickInteval;\n    }\n\n    return values;\n};\n\nvar isSupportedDataFormat = exports.isSupportedDataFormat = function isSupportedDataFormat(data) {\n    // this covers all supported formats so far:\n    // [ {data: [...] }, ... ]\n    // [ [...], [...] ]\n    return Array.isArray(data) && isObject(data[0]) && data[0].hasOwnProperty('data') && Array.isArray(data[0].data) || Array.isArray(data[0]);\n};\n\nvar selectDom = exports.selectDom = function selectDom(selector) {\n    return _d2.default.select(selector)[0][0];\n};\n\nvar getStyle = exports.getStyle = function getStyle(el, style) {\n    if (!el) return undefined;\n    var elem = typeof el === 'string' ? this.selectDom(el) : el;\n    // we need a good way to check if the element is detached or not\n    var styles = elem.offsetParent ? elem.ownerDocument.defaultView.getComputedStyle(elem, null) : elem.style;\n\n    return style ? styles[style] : styles;\n};\n\nvar getCentroid = exports.getCentroid = function getCentroid(element) {\n    var getOffsetParent = function getOffsetParent() {\n        if (element.offsetParent) {\n            return element.offsetParent;\n        }\n\n        // we we don't have an offsetParent, we may be in firefox\n        // let's just assume that the offset parent is the svg element\n        var t = element;\n        while (t && t.tagName !== 'svg') {\n            t = t.parentNode;\n        }\n\n        return t;\n    };\n\n    var parentBox = getOffsetParent().getBoundingClientRect();\n    var bbox = element.getBoundingClientRect();\n\n    return [bbox.left - parentBox.left + bbox.width / 2, bbox.top - parentBox.top + bbox.height / 2];\n};\n\nvar warning = exports.warning = function warning(msg) {\n    if (console && console.log) {\n        console.log('WARNING: ' + msg);\n    }\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5)))\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = Contour;\n\nvar _d = __webpack_require__(1);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _visualizationContainer = __webpack_require__(13);\n\nvar _visualizationContainer2 = _interopRequireDefault(_visualizationContainer);\n\nvar _contourUtils = __webpack_require__(0);\n\nvar nwt = _interopRequireWildcard(_contourUtils);\n\nvar _axisScaleFactory = __webpack_require__(4);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaults = {\n    chart: {\n        animations: {\n            enable: true,\n            // duration of the animation in ms\n            duration: 400\n        },\n        // by default take the size of the parent container\n        defaultWidth: 400,\n        // height = width * ratio\n        defaultAspect: 1 / 1.61803398875,\n        // calculated at render time based on the options & container\n        width: undefined,\n        // if defined, height takes precedence over aspect\n        height: undefined,\n        // margin between the container and the chart (ie labels or axis title)\n        margin: {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0\n        },\n        // padding between the chart area and the inner plot area */\n        padding: {\n            top: null,\n            right: null,\n            bottom: null,\n            left: null\n        },\n        internalPadding: {\n            bottom: 0,\n            left: 0\n        },\n        // automatically false by default anyway; adding here to help generate docs\n        rotatedFrame: false,\n        // width in pixels of the plot area (area inside the axis if any). This gets calculated on render\n        plotWidth: undefined,\n        // height in pixels of the plot area (area inside the axis if any). This gets calculated on render\n        plotHeight: undefined,\n        // top edge in pixels (from the edge of the svg) of the plot area (area inside the axis if any). This gets calculated on render\n        plotTop: undefined,\n        // left edge in pixels (from the edge of the svg) of the plot area (area inside the axis if any). This gets calculated on render\n        plotLeft: undefined\n    },\n\n    xAxis: {},\n\n    yAxis: {},\n\n    tooltip: {}\n};\n\n/**\n* Creates a Contour instance, based on the core Contour visualizations object. This instance can contain a set of related visualizations.\n*\n*   * Pass the constructor any configuration options in the *options* parameter. Make sure the `el` option contains the selector of the container in which the Contour instance will be rendered.\n*   * Set the frame for this Contour instance (e.g. `.cartesian()`).\n*   * Add one or more specific visualizations to this Contour instance (e.g. `.scatter()`, `.trend-line()`). Pass each visualization constructor the data it displays. Pass configuration options if desired.\n*   * Invoke an action for this Contour instance (e.g. `.render()`).\n*\n* ### Example:\n*\n*     new Contour({el: 'myChart'})\n*       .cartesian()\n*       .line([1,3,2,5])\n*       .render()\n*\n*\n* @class Contour()\n* @param {object} options The global configuration options object\n*\n*/\nfunction Contour(options) {\n    this.init(options);\n\n    return this;\n}\nContour.version = \"1.0.1\";\nContour.xScaleFactory = _axisScaleFactory.xScaleFactory;\nContour.yScaleFactory = _axisScaleFactory.yScaleFactory;\nContour.utils = nwt;\nContour.addAxis = _axisScaleFactory.addAxis;\nContour.axes = _axisScaleFactory.axes;\n\n/**\n* Adds a new kind of visualization to the core Contour object.\n* The *renderer* function is called when you add this visualization to instances of Contour.\n* See a sample in the [Contour Gallery](http://forio.com/contour/gallery.html#/chart/pie/pie-gauge).\n*\n* ### Example:\n*\n*     Contour.export(\"exampleVisualization\", function(data, layer) {\n*           //function body to create exampleVisualization\n*           //for example using SVG and/or D3\n*     });\n*\n*     //to include the visualization into a specific Contour instance\n*     new Contour(options)\n*           .exampleVisualization(data)\n*           .render()\n*\n* @param {String} ctorName Name of the visualization, used as a constructor name.\n* @param {Function} renderer Function called when this visualization is added to a Contour instance. This function receives the data that is passed in to the constructor.\n*/\nContour.export = function (ctorName, renderer) {\n\n    if (typeof renderer !== 'function') throw new Error('Invalid render function for ' + ctorName + ' visualization');\n\n    function sortSeries(data) {\n        if (!data || !data.length) return [];\n\n        if (data[0].data) {\n            data.forEach(sortSeries);\n        }\n\n        var shouldSort = nwt.isObject(data[0]) && nwt.isDate(data[0].x);\n        var sortFunc = function sortFunc(a, b) {\n            return a.x - b.x;\n        };\n        if (shouldSort) {\n            data.sort(sortFunc);\n        }\n\n        return data;\n    }\n\n    Contour.prototype[ctorName] = function (data, options) {\n        var vizOpt = {};\n        vizOpt[ctorName] = options || {};\n        var vis;\n        var ownData = true;\n\n        if (!data) {\n            data = this.lastData || [];\n            ownData = false;\n        }\n\n        sortSeries(data);\n        vis = new _visualizationContainer2.default(data, vizOpt, ctorName, renderer, this);\n        vis.ownData = ownData;\n        this._visualizations.push(vis);\n\n        // lastData is used to pass the last specified dataset\n        // to the next visualiaztion in the chain wihtout\n        // the need to specify it again.... this allows you to do\n        // new Contour().cartesian().line(dataset).lengend().tooltip().render()\n        // and legend and tooltip will recieve dataset\n        this.lastData = data;\n\n        return this;\n    };\n\n    /* expose the renderer function so it can be reused\n    * by other visualizations though the constructor function\n    * ie. Contour.export('customLineChart', function (data, layer, options) {\n    *       // call the line chart directly\n    *       return this.line.renderer(data, layer, options);\n    *    });\n    */\n    Contour.prototype[ctorName].renderer = renderer;\n};\n\n/**\n* Exposes functionality to the core Contour object.\n* Use this to add *functionality* that will be available for any visualizations.\n*\n* ###Example:\n*\n*     Contour.expose('example', function ctor(params) {\n*         // params are the parameters passed into the constructor function\n*         return {\n*             // the init function, if provided, is called automatically upon instantiation of the functionality\n*             // the options parameter has the global Contour options object\n*             init: function (options) { ... },\n*\n*             // when included in the instance, the function `.myFunction` is available in the visualizations\n*             myFunction: function(data) { .... }\n*         };\n*     });\n*\n*     Contour.export('visualizationThatUsesMyFunction', function(data, layer) {\n*           //function body including call to this.myFunction(data)\n*     });\n*\n*     // to include the functionality into a specific instance\n*     new Contour(options)\n*           .example({ text: 'someText' })\n*           .visualizationThatUsesMyFunction()\n*           .render()\n*\n\n*/\nContour.expose = function (ctorName, functionalityConstructor) {\n    var ctor = function ctor() {\n        var functionality = functionalityConstructor;\n        if (typeof functionalityConstructor === 'function') {\n            functionality = Object.create(functionalityConstructor);\n            functionality = functionalityConstructor.apply(functionality, arguments);\n        }\n\n        // extend the --instance-- we don't want all charts to be overriden...\n        Object.assign(this, nwt.omit(functionality, 'init'));\n\n        if (functionality.init) {\n            functionality.init.call(this, this.originalOptions);\n        }\n\n        // keep a list of the included functionality into this instance\n        // so we can match and check dependencies\n        this._exposed.push(ctorName);\n\n        return this;\n    };\n\n    Contour.prototype[ctorName] = ctor;\n\n    return this;\n};\n\nContour.prototype = Object.assign(Contour.prototype, {\n    _visualizations: undefined,\n\n    _extraOptions: undefined,\n\n    _exposed: undefined,\n\n    // Initializes the instance of Contour\n    init: function init(options) {\n        // for now, just  store this options here...\n        // the final set of options will be composed before rendering\n        // after all components/visualizations have been added\n        this.originalOptions = options || {};\n\n        this._extraOptions = [];\n        this._visualizations = [];\n        this._exposed = [];\n\n        return this;\n    },\n\n    calculateWidth: function calculateWidth() {\n\n        // assume all in pixel units and border-box box-sizing\n        var outerWidth = parseInt(nwt.getStyle(this.options.el, 'width') || 0, 10);\n        var paddingLeft = parseInt(nwt.getStyle(this.options.el, 'padding-left') || 0, 10);\n        var paddingRight = parseInt(nwt.getStyle(this.options.el, 'padding-right') || 0, 10);\n\n        var width = outerWidth - paddingRight - paddingLeft;\n\n        return this.options.el ? width || this.options.chart.defaultWidth : this.options.chart.defaultWidth;\n    },\n\n    calculateHeight: function calculateHeight() {\n        // assume all in pixel units and border-box box-sizing\n        var outerHeight = parseInt(nwt.getStyle(this.options.el, 'height') || 0, 10);\n        var paddingTop = parseInt(nwt.getStyle(this.options.el, 'padding-top') || 0, 10);\n        var paddingBottom = parseInt(nwt.getStyle(this.options.el, 'padding-bottom') || 0, 10);\n        var height = outerHeight - paddingTop - paddingBottom;\n\n        var containerHeight = this.options.el ? height : undefined;\n        var calcWidth = this.options.chart.width;\n        var ratio = this.options.chart.aspect || this.options.chart.defaultAspect;\n\n        return !!containerHeight && containerHeight > 1 ? containerHeight : Math.round(calcWidth * ratio);\n    },\n\n    calcMetrics: function calcMetrics() {\n        var options = this.options;\n\n        this.adjustPadding();\n\n        this.adjustTitlePadding();\n\n        options.chart.width = options.chart.width || this.calculateWidth();\n        options.chart.height = options.chart.height || this.calculateHeight();\n\n        this.options = nwt.merge(options, {\n            chart: {\n                plotWidth: options.chart.width - options.chart.margin.left - options.chart.margin.right - options.chart.internalPadding.left - options.chart.padding.right,\n                plotHeight: options.chart.height - options.chart.margin.top - options.chart.margin.bottom - options.chart.padding.top - options.chart.internalPadding.bottom,\n                plotLeft: options.chart.margin.left + options.chart.internalPadding.left,\n                plotTop: options.chart.margin.top + options.chart.padding.top\n            }\n        });\n\n        if (this.options.chart.plotWidth <= 0 || this.options.chart.plotHeight <= 0) {\n            console.warn('The chart has no space to render. Either the width/height is zero or you have too much padding\\nWidth: ' + options.chart.width + '\\nHeight: ' + options.chart.height + '\\npadding-left: ' + options.chart.padding.left + '\\npadding-right: ' + options.chart.padding.right + '\\npadding-top: ' + options.chart.padding.top + '\\npadding-bottom: ' + options.chart.padding.bottom);\n\n            this.options.chart.plotWidth = this.options.chart.plotWidth < 0 ? 0 : this.options.chart.plotWidth;\n            this.options.chart.plotHeight = this.options.chart.plotHeight < 0 ? 0 : this.options.chart.plotHeight;\n        }\n    },\n\n    adjustPadding: function adjustPadding() {\n        // overriden by components that need to adjust padding\n        return this;\n    },\n\n    adjustTitlePadding: function adjustTitlePadding() {\n        // overriden by components that need to adjust padding\n        return this;\n    },\n\n    composeOptions: function composeOptions() {\n        var allDefaults = nwt.merge({}, defaults);\n        var mergeExtraOptions = function mergeExtraOptions(opt) {\n            nwt.merge(allDefaults, opt);\n        };\n        var mergeDefaults = function mergeDefaults(vis) {\n            nwt.merge(allDefaults, vis.renderer.defaults);\n        };\n\n        this._extraOptions.forEach(mergeExtraOptions);\n        this._visualizations.forEach(mergeDefaults);\n\n        var forceSkip = ['skip', /formatter/, 'el', /preprocess/, 'column.style', 'bar.style', 'pie.style', /barClass/, /sliceClass/, /sliceClass/, /columnClass/];\n\n        // compose the final list of options right before start rendering\n        var opt = nwt.merge({}, allDefaults, this.originalOptions);\n        this.options = nwt.materialize(opt, this, { skip: forceSkip.concat(this.originalOptions.skip) });\n    },\n\n    /**\n     * Updates the contour configuration for the instance.\n     * The passed options are merged with the current options in the object\n     *\n     * ### Example:\n     *\n     *     var chart = new Contour({\n     *         el: '.myChart'\n     *     })\n     *     .cartesian()\n     *     .line([1,2,3,4,5])\n     *     .render();\n     *\n     *     chart.updateOptions({ yAxis: { max: 100 }}).render();\n     *\n     *\n     * @param {object} options - Options object to be merged with current options.\n     * @function updateOptions\n     */\n    updateOptions: function updateOptions(options) {\n        this.originalOptions = nwt.merge({}, this.originalOptions, options);\n        return this;\n    },\n\n    baseRender: function baseRender() {\n        this.plotArea();\n\n        return this;\n    },\n\n    /**\n    * Renders this Contour instance and all its visualizations into the DOM.\n    *\n    * ### Example:\n    *\n    *     new Contour({ el:'.myChart' })\n    *           .pie([1,2,3])\n    *           .render();\n    *\n    * @function render\n    *\n    */\n    render: function render() {\n        this.composeOptions();\n\n        this.calcMetrics();\n\n        this.baseRender();\n\n        this.renderVisualizations();\n\n        return this;\n    },\n\n    /**\n    * Clears this Contour instance and all its visualizations of any size information, so that on the next call to `render()` the instance is re-measured.\n    *\n    * The function takes two optional arguments `width` and `height`. If given a specific width/height the chart uses that sizing information on the next render.\n    *\n    * ### Example:\n    *\n    *     var contour = new Contour({ el:'.myChart' })\n    *           .pie([1,2,3])\n    *           .render();\n    *\n    *     var onResize = function(e) {\n    *          contour.resize().render();\n    *     }\n    *\n    *     window.addEventListener('resize', onResize);\n    *\n    * @function resize\n    * @param {Number} width (optional) The new width for the visualizations. If left blank, the width will be calcuated from options.el's parent.\n    * @param {Number} height (optional) The new height for the visualizations. If left blank, the height will be calcuated from options.el's parent.\n    */\n    resize: function resize(width, height) {\n\n        if (this.container) this.container.style('height', 0);\n\n        delete this.options.chart.width;\n        delete this.options.chart.height;\n        delete this.options.chart.plotWidth;\n        delete this.options.chart.plotHeight;\n        delete this.options.chart.plotLeft;\n        delete this.options.chart.plotTop;\n\n        if (width) this.options.chart.width = width;\n\n        if (height) this.options.chart.height = height;\n        return this;\n    },\n\n    update: function update() {\n        this.calcMetrics();\n        return this;\n    },\n\n    plotArea: function plotArea() {\n\n        var chartOpt = this.options.chart;\n\n        this.container = _d2.default.select(this.options.el);\n        // fix a flicker im web-kit when animating opacity and the chart is in an iframe\n        this.container.attr('style', '-webkit-backface-visibility: hidden; position: relative');\n\n        if (!this.svg) {\n            this.svg = this.container.append('svg').attr('viewBox', '0 0 ' + chartOpt.width + ' ' + chartOpt.height).attr('preserveAspectRatio', 'xMinYMin').attr('class', 'contour-chart').attr('height', chartOpt.height).append('g').attr('transform', 'translate(' + chartOpt.margin.left + ',' + chartOpt.margin.top + ')');\n        } else {\n            this.svg.attr('transform', 'translate(' + chartOpt.margin.left + ',' + chartOpt.margin.top + ')');\n\n            _d2.default.select(this.svg.node().parentNode).attr('viewBox', '0 0 ' + chartOpt.width + ' ' + chartOpt.height).attr('height', chartOpt.height);\n        }\n\n        return this;\n    },\n\n    createVisualizationLayer: function createVisualizationLayer(vis, id) {\n        return this.svg.append('g').attr('vis-id', id).attr('vis-type', vis.type);\n    },\n\n    renderVisualizations: function renderVisualizations() {\n\n        this._visualizations.forEach(function (visualization, index) {\n            var id = index + 1;\n            var layer = visualization.layer || this.createVisualizationLayer(visualization, id);\n            var opt = nwt.merge({}, this.options, visualization.options);\n\n            layer.attr('transform', 'translate(' + this.options.chart.internalPadding.left + ',' + (this.options.chart.padding.top || 0) + ')');\n            visualization.layer = layer;\n            visualization.parent = this;\n            visualization.normalizeData(opt);\n            visualization.render(layer, opt, this);\n        }.bind(this));\n\n        return this;\n    },\n\n    /**\n    * Assert that all the dependencies are in the Contour instance.\n    * For example, if a visualization requires Cartesian to be included in the instance,\n    * it could call this.checkDependencies('Cartesian'), and the framework would\n    * give a helpful error message if Cartesian was not included.\n    *\n    * @function checkDependencies\n    * @param {string|array} list of dependencies (as specified in the instance constructor)\n    *\n    */\n    checkDependencies: function checkDependencies(listOfDependencies) {\n        listOfDependencies = Array.isArray(listOfDependencies) ? listOfDependencies : [listOfDependencies];\n        var _this = this;\n        var missing = [];\n\n        listOfDependencies.forEach(function (dep) {\n            if (_this._exposed.indexOf(dep) === -1) {\n                missing.push(dep);\n            }\n        });\n\n        if (missing.length) {\n            throw new Error('ERROR: Missing depeendencies in the Contour instance (ej. new Contour({}).cartesian())\\n The missing dependencies are: [' + missing.join(', ') + ']\\nGo to http://forio.com/contour/documentation.html#key_concepts for more information');\n        }\n    },\n\n    ensureDefaults: function ensureDefaults(options, renderer) {\n        if (nwt.isString(renderer)) {\n            renderer = this[renderer].renderer;\n        }\n\n        if (renderer.defaults) {\n            var defaults = renderer.defaults;\n            options = nwt.defaults(options || {}, defaults);\n            this.options = nwt.defaults(this.options, defaults);\n        }\n    },\n\n    /**\n    * Sets the same data into all visualizations for a Contour instance. Useful for creating interactive\n    * visualizations: call after getting the additional data from the user.\n    *\n    * ###Example:\n    *\n    *     var data = [1,2,3,4,5];\n    *     var chart = new Contour({ el:'.myChart' })\n    *           .cartesian()\n    *           .scatter(data)\n    *           .trendLine(data);\n    *\n    *     data.push(10);\n    *     chart.setData(data)\n    *           .render();\n    *\n    * @function setData\n    *\n    */\n    setData: function setData(data) {\n        this._visualizations.forEach(function (v) {\n            v.setData(data);\n        });\n\n        return this;\n    },\n\n    /**\n    * Returns a VisualizationContainer object for the visualization at a given index (0-based).\n    *\n    * ###Example:\n    *\n    *     var chart = new Contour({ el:'.myChart' })\n    *           .pie([1,2,3])\n    *           .render();\n    *\n    *     var myPie = chart.select(0);\n    *\n    *     // do something with the visualization, for example updating its data set\n    *     myPie.setData([6,7,8,9]).render();\n    *\n    * @function select\n    *\n    */\n    select: function select(index) {\n        return this._visualizations[index];\n    },\n\n    // place holder function for now\n    data: function data() {},\n\n    dataNormalizer: nwt.normalizeSeries,\n\n    isSupportedDataFormat: nwt.isSupportedDataFormat\n});\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _d = __webpack_require__(1);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _contourUtils = __webpack_require__(0);\n\nvar nwt = _interopRequireWildcard(_contourUtils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction YAxis(data, options, domain) {\n    this.data = data;\n    this.options = options || {\n        yAxis: {\n            scaling: { options: {} },\n            labels: { format: 's' }\n        }\n    };\n    this.domain = domain || [0, 1];\n}\n\nfunction setRange(scale, options) {\n    var rangeSize = options.chart.rotatedFrame ? options.chart.plotWidth : options.chart.plotHeight;\n    var range = options.chart.rotatedFrame ? [0, rangeSize] : [rangeSize, 0];\n    return scale.range(range);\n}\n\nYAxis.prototype = {\n    axis: function axis() {\n        var options = this.options.yAxis;\n        var domain = this.domain;\n        var zeroAnchor = options.zeroAnchor != null ? options.zeroAnchor : options.scaling.options.zeroAnchor;\n        var tickValues = options.tickValues || nwt.niceTicks(options.min, options.max, options.ticks, zeroAnchor, domain);\n        var numTicks = this.numTicks(domain, options.min, options.max);\n        var format = options.labels.formatter || _d2.default.format(options.labels.format);\n\n        return _d2.default.svg.axis().scale(this._scale).tickFormat(format).tickSize(options.innerTickSize, options.outerTickSize).tickPadding(options.tickPadding).ticks(numTicks).tickValues(tickValues);\n    },\n\n    scale: function scale(domain) {\n        if (!this._scale) {\n            this._scale = _d2.default.scale.linear();\n            this.setDomain(domain);\n        }\n\n        setRange(this._scale, this.options);\n        return this._scale;\n    },\n\n    setDomain: function setDomain(domain) {\n        this._scale.domain(domain);\n        this._niceTheScale();\n        return this._scale;\n    },\n\n    update: function update(domain, dataSrc) {\n        this.data = dataSrc;\n        this.setDomain(domain);\n        this.scale();\n    },\n\n    numTicks: function numTicks() {\n        return this.options.yAxis.ticks != null ? this.options.yAxis.ticks : undefined;\n    },\n\n    _niceTheScale: function _niceTheScale() {\n        // nothing to do for the regular y-axis\n    }\n};\n\nexports.default = YAxis;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.yScaleFactory = exports.xScaleFactory = exports.addAxis = exports.axes = undefined;\n\nvar _contourUtils = __webpack_require__(0);\n\nvar nwt = _interopRequireWildcard(_contourUtils);\n\nvar _yAxis = __webpack_require__(3);\n\nvar _yAxis2 = _interopRequireDefault(_yAxis);\n\nvar _centeredYAxis = __webpack_require__(6);\n\nvar _centeredYAxis2 = _interopRequireDefault(_centeredYAxis);\n\nvar _linearScaleAxis = __webpack_require__(7);\n\nvar _linearScaleAxis2 = _interopRequireDefault(_linearScaleAxis);\n\nvar _logYAxis = __webpack_require__(8);\n\nvar _logYAxis2 = _interopRequireDefault(_logYAxis);\n\nvar _ordinalScaleAxis = __webpack_require__(9);\n\nvar _ordinalScaleAxis2 = _interopRequireDefault(_ordinalScaleAxis);\n\nvar _smartYAxis = __webpack_require__(10);\n\nvar _smartYAxis2 = _interopRequireDefault(_smartYAxis);\n\nvar _timeScaleAxis = __webpack_require__(11);\n\nvar _timeScaleAxis2 = _interopRequireDefault(_timeScaleAxis);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar axes = exports.axes = {\n    'log': _logYAxis2.default,\n    'smart': _smartYAxis2.default,\n    'linear': _yAxis2.default,\n    'centered': _centeredYAxis2.default,\n    'ordinal': _ordinalScaleAxis2.default,\n    'time': _timeScaleAxis2.default,\n    'xLinear': _linearScaleAxis2.default\n};\nvar addAxis = exports.addAxis = function addAxis(name, axisCtor) {\n    axes[name] = axisCtor;\n};\n\nvar xScaleFactory = exports.xScaleFactory = function xScaleFactory(data, options) {\n    // if we have dates in the x field of the data points\n    // we need a time scale, otherwise is an oridinal\n    // two ways to shape the data for time scale:\n    //  [{ x: date, y: 1}, {x: date, y: 2}]\n    //  [{ data: [ x: date, y: 1]}, {data: [x: date, y: 100]}]\n    // if we get no data, we return an ordinal scale\n    var isTimeData = options.xAxis.type === 'time' || (Array.isArray(data) && data.length > 0 && data[0].data ? data[0].data[0].x && nwt.isDate(data[0].data[0].x) : Array.isArray(data) && data.length > 0 && data[0].x && nwt.isDate(data[0].x));\n\n    if (isTimeData && options.xAxis.type !== 'ordinal') {\n        return new _timeScaleAxis2.default(data, options);\n    }\n\n    if (!options.xAxis.categories && options.xAxis.type === 'linear') {\n        return new _linearScaleAxis2.default(data, options);\n    }\n\n    return new _ordinalScaleAxis2.default(data, options);\n};\n\nvar yScaleFactory = exports.yScaleFactory = function yScaleFactory(data, options, axisType, domain) {\n    var map = {\n        'log': _logYAxis2.default,\n        'smart': _smartYAxis2.default,\n        'linear': _yAxis2.default,\n        'centered': _centeredYAxis2.default\n    };\n\n    if (!axisType) {\n        axisType = 'linear';\n    }\n\n    if (axisType === 'linear' && (options.yAxis.smartAxis || options.yAxis.scaling.type === 'smart')) {\n        axisType = 'smart';\n    }\n\n    if (axisType === 'linear' && options.yAxis.scaling.type === 'centered') {\n        axisType = 'centered';\n    }\n\n    if (axisType in axes) {\n        return new axes[axisType](data, options, domain);\n    }\n\n    throw new Error('Unknown axis type: \"' + axisType + '\"');\n};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _d = __webpack_require__(1);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _contourUtils = __webpack_require__(0);\n\nvar nwt = _interopRequireWildcard(_contourUtils);\n\nvar _yAxis = __webpack_require__(3);\n\nvar _yAxis2 = _interopRequireDefault(_yAxis);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// focus on vertically centering data - zero anchor is ignored\nfunction CenteredYAxis(data, options, domain) {\n    this.data = data;\n    this.options = options;\n    this.yMax = domain[0];\n    this.yMin = domain[1];\n    this.NUM_DECIMALS = 1;\n}\n\nvar __super = _yAxis2.default.prototype;\nCenteredYAxis.prototype = Object.assign({}, __super, {\n    axis: function axis() {\n        var options = this.options.yAxis;\n        this.domain = this._scale.domain();\n        var numTicks = options.ticks || 5;\n        var axis = __super.axis.call(this);\n        var tickValues = this._extractYTickValues(options.min, options.max, numTicks);\n\n        return axis.ticks(numTicks).tickValues(tickValues).tickFormat(undefined);\n    },\n\n    setDomain: function setDomain(domain) {\n        var scaledDomain = this._getScaledDomain(domain);\n\n        this.yMin = scaledDomain[0];\n        this.yMax = scaledDomain[1];\n        this._scale.domain(scaledDomain);\n    },\n\n    _getScaledDomain: function _getScaledDomain(domain) {\n        var extent = _d2.default.extent(domain);\n        var dataRange = extent[1] - extent[0];\n        var domainPadding = dataRange * 0.1;\n\n        var scaledMin = _d2.default.round(extent[0] - domainPadding, this.NUM_DECIMALS);\n        var scaledMax = _d2.default.round(extent[1] + domainPadding, this.NUM_DECIMALS);\n\n        return [scaledMin, scaledMax];\n    },\n\n    _extractYTickValues: function _extractYTickValues(min, max, numTicks) {\n        var tickMin = min != null ? min : this.yMin;\n        var tickMax = max != null ? max : this.yMax;\n\n        var tickRange = tickMax - tickMin;\n        var tickSpacing = tickRange / numTicks;\n\n        var currentTick = tickMin;\n        var tickValues = [tickMin];\n        while (currentTick < tickMax) {\n            currentTick += tickSpacing;\n            tickValues.push(_d2.default.round(currentTick, this.NUM_DECIMALS));\n        }\n        tickValues.push(tickMax);\n\n        return tickValues;\n    }\n});\n\nexports.default = CenteredYAxis;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _d = __webpack_require__(1);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _contourUtils = __webpack_require__(0);\n\nvar nwt = _interopRequireWildcard(_contourUtils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction LinearScale(data, options) {\n    this.options = options;\n    this.data = data;\n\n    this.init();\n}\n\nLinearScale.prototype = {\n    init: function init() {\n        delete this._scale;\n    },\n\n    scale: function scale(domain) {\n        this._domain = domain ? this._getAxisDomain(domain) : this._getAxisDomain(this.data);\n        this._scale = this._scale || _d2.default.scale.linear();\n        this._scale.domain(this._domain);\n\n        if (this.options.xAxis.min == null && this.options.xAxis.max == null) {\n            this._scale.nice();\n        }\n\n        this._setRange();\n\n        return this._scale;\n    },\n\n    axis: function axis() {\n        var options = this.options.xAxis;\n        var formatLabel = options.labels.formatter || _d2.default.format(options.labels.format || 'g');\n        var axis = _d2.default.svg.axis().scale(this._scale).tickSize(options.innerTickSize, options.outerTickSize).tickPadding(options.tickPadding).tickFormat(function (d) {\n            return nwt.isDate(d) ? d.getDate() : formatLabel(d);\n        });\n\n        var ticks = axis.scale().ticks();\n\n        var labelsFit = nwt.doXLabelsFit(ticks, formatLabel, this.options);\n\n        if (options.firstAndLast) {\n            // show only first and last tick\n            axis.tickValues(nwt.firstAndLast(this._domain));\n        } else if (options.tickValues) {\n            axis.tickValues(options.tickValues);\n        } else if (options.ticks != null) {\n            axis.ticks(options.ticks);\n        } else if (!labelsFit) {\n            var finalTicks = nwt.getTicksThatFit(ticks, formatLabel, this.options);\n            axis.tickValues(finalTicks);\n            axis.ticks(finalTicks.length);\n        }\n\n        return axis;\n    },\n\n    update: function update(domain, dataSrc, options) {\n        this.data = dataSrc;\n        this.options = options || this.options;\n        this.scale(domain);\n    },\n\n    rangeBand: function rangeBand() {\n        return 1;\n    },\n\n    postProcessAxis: function postProcessAxis() {\n        return this;\n    },\n\n    _setRange: function _setRange() {\n        var rangeSize = !!this.options.chart.rotatedFrame ? this.options.chart.plotHeight : this.options.chart.plotWidth;\n        var range = !!this.options.chart.rotatedFrame ? [rangeSize, 0] : [0, rangeSize];\n        return this._scale.range(range);\n    },\n\n    _getAxisDomain: function _getAxisDomain(domain) {\n        var optMin = this.options.xAxis.min;\n        var optMax = this.options.xAxis.max;\n        var extents = _d2.default.extent(domain);\n\n        if (optMin == null && optMax == null) {\n            return extents;\n        }\n\n        if (optMin == null) {\n            return [Math.min(extents[0], optMax), optMax];\n        }\n\n        if (optMax == null) {\n            return [optMin, Math.max(extents[1], optMin)];\n        }\n\n        // options are invalid, use the extents\n        if (optMin > optMax) {\n            return extents;\n        }\n\n        return [optMin, optMax];\n    }\n};\n\nexports.default = LinearScale;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _d = __webpack_require__(1);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _yAxis = __webpack_require__(3);\n\nvar _yAxis2 = _interopRequireDefault(_yAxis);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction LogYAxis(data, options) {\n    this.data = data;\n    this.options = options;\n}\n\nfunction setRange(scale, options) {\n    var rangeSize = options.chart.rotatedFrame ? options.chart.plotWidth : options.chart.plotHeight;\n    var range = options.chart.rotatedFrame ? [0, rangeSize] : [rangeSize, 0];\n    return scale.range(range);\n}\n\nvar __super = _yAxis2.default.prototype;\nLogYAxis.prototype = Object.assign({}, __super, {\n    axis: function axis() {\n        var options = this.options.yAxis;\n        var domain = this._scale.domain();\n        var ticksHint = Math.ceil(Math.log(domain[1]) / Math.log(10));\n        var format = options.labels.formatter || _d2.default.format(options.labels.format || ',.0f');\n\n        var axis = _d2.default.svg.axis().scale(this._scale).tickSize(options.innerTickSize, options.outerTickSize).tickPadding(options.tickPadding);\n        if (options.labels.formatter) {\n            axis.tickFormat(options.labels.formatter);\n        } else {\n            axis.ticks(options.ticks || ticksHint, format);\n        }\n\n        return axis;\n    },\n\n    scale: function scale(domain) {\n        if (!this._scale) {\n            if (domain[0] <= 0.1) domain[0] = 0.1; //throw new Error('Log scales don\\'t support 0 or negative values');\n\n            this._scale = _d2.default.scale.log();\n            this.setDomain(domain).clamp(true);\n        }\n\n        setRange(this._scale, this.options);\n\n        return this._scale;\n    },\n\n    update: function update(domain, dataSrc) {\n        this.data = dataSrc;\n        if (domain[0] <= 0.1) domain[0] = 0.1; //throw new Error('Log scales don\\'t support 0 or negative values');\n        this.setDomain(domain).clamp(true);\n        this.scale();\n    }\n});\n\nexports.default = LogYAxis;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _d = __webpack_require__(1);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _contourUtils = __webpack_require__(0);\n\nvar nwt = _interopRequireWildcard(_contourUtils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// implements the following interface\n/*\n{\n    scale: returns the d3 scale for the type\n\n    axis: returns the d3 axis\n\n    range: returns the d3 range for the type\n\n    postProcessAxis:\n}\n*/\n\nfunction OrdinalScale(data, options) {\n    this.options = options;\n    this.data = data;\n\n    this.init();\n}\n\nOrdinalScale.prototype = {\n    init: function init() {\n        this.isCategorized = true;\n        delete this._scale;\n    },\n\n    scale: function scale(domain) {\n        if (!this._scale) {\n            this._scale = new _d2.default.scale.ordinal();\n        }\n\n        this.setDomain(domain || this.data);\n\n        return this._scale;\n    },\n\n    /* jshint eqnull:true */\n    axis: function axis() {\n        var options = this.options.xAxis;\n        var optFormat = options.labels.format ? _d2.default.format(options.labels.format) : 0;\n        var formatLabel = options.labels.formatter || _d2.default.format(options.labels.format || 'g');\n\n        var tickFormat = options.labels.formatter || (!this.isCategorized ? optFormat : 0) || function (d) {\n            return nwt.isDate(d) ? d.getDate() : d;\n        };\n        var axis = _d2.default.svg.axis().scale(this._scale).innerTickSize(options.innerTickSize).outerTickSize(options.outerTickSize).tickPadding(options.tickPadding).tickFormat(tickFormat);\n\n        var ticks = this.isCategorized && options.categories ? options.categories : nwt.range(this._domain.length) || [];\n        var labelsFit = nwt.doXLabelsFit(ticks, formatLabel, this.options);\n\n        if (options.firstAndLast) {\n            // show only first and last tick\n            axis.tickValues(nwt.firstAndLast(this._domain));\n        } else if (options.maxTicks) {\n            axis.tickValues(nwt.maxTickValues(options.maxTicks, this._domain));\n        } else if (options.tickValues) {\n            axis.tickValues(options.tickValues);\n        } else if (options.ticks != null) {\n            axis.ticks(options.ticks);\n            if (options.ticks === 0) {\n                axis.tickValues([]);\n            }\n        } else if (!labelsFit) {\n            var finalTicks = nwt.getTicksThatFit(ticks, formatLabel, this.options);\n            axis.tickValues(finalTicks);\n            axis.ticks(finalTicks.length);\n        } else {\n            axis.tickValues(options.categories);\n        }\n\n        return axis;\n    },\n\n    /* jshint eqnull:true */\n    postProcessAxis: function postProcessAxis(axisGroup) {\n        var options = this.options.xAxis;\n        if (!options.labels || options.labels.rotation == null) return;\n\n        var deg = options.labels.rotation;\n        var rad = nwt.degToRad(deg);\n        var sign = deg > 0 ? 1 : deg < 0 ? -1 : 0;\n        var pos = deg < 0 ? -1 : 1;\n        var lineHeight = 0.71;\n        var lineCenter = lineHeight / 2; // center of text line is at .31em\n        var cos = Math.cos(rad);\n        var sin = Math.sin(rad);\n        var anchor = options.labels.rotation < 0 ? 'end' : options.labels.rotation > 0 ? 'start' : 'middle';\n\n        axisGroup.selectAll('.tick text').style({ 'text-anchor': anchor }).attr('transform', function (d, i, j) {\n            var x = _d2.default.select(this).attr('x') || 0;\n            var y = _d2.default.select(this).attr('y') || 0;\n            return 'rotate(' + options.labels.rotation + ' ' + x + ',' + y + ')';\n        }).attr('dy', function (d, i, j) {\n            var ref = deg === 0 ? lineHeight : lineCenter;\n            var num = cos * ref + sin * ref * pos;\n            return num.toFixed(4) + 'em';\n            // return (sign * ((cos * lineCenter) + (sin * lineCenter))).toFixed(4) + 'em';\n        }).attr('dx', function (d, i, j) {\n            // var num = ((sin * lineCenter * pos));\n            // return -num.toFixed(4) + 'em';\n            return -(sin * lineCenter - 0.31 * sign).toFixed(4) + 'em';\n        });\n    },\n\n    update: function update(domain, data, options) {\n        this.data = data;\n        this.options = options || this.options;\n        this.scale(domain);\n    },\n\n    setDomain: function setDomain(domain) {\n        this._domain = domain;\n        this._scale.domain(domain);\n        this._range();\n    },\n\n    rangeBand: function rangeBand() {\n        var band = this._scale.rangeBand();\n        if (!band) nwt.warn('rangeBand is 0, you may have too many points in in the domain for the size of the chart (ie. chartWidth = ' + this.options.chart.plotWidth + 'px and ' + this._domain.length + ' X-axis points (plus paddings) means less than 1 pixel per band and there\\'re no half pixels');\n\n        return this._scale.rangeBand();\n    },\n\n    _range: function _range() {\n        var range = this.options.chart.rotatedFrame ? [this.options.chart.plotHeight, 0] : [0, this.options.chart.plotWidth];\n        var numCats = (this._domain || []).length;\n        var threshold = 30;\n        var rangeType = numCats <= threshold ? 'rangeRoundBands' : 'rangeBands';\n\n        return this.isCategorized ?\n        // this._scale.rangeBands(range, this.options.xAxis.innerRangePadding, this.options.xAxis.outerRangePadding) :\n        this._scale[rangeType](range, this.options.xAxis.innerRangePadding, this.options.xAxis.outerRangePadding) : this._scale.rangePoints(range);\n    }\n};\n\nexports.default = OrdinalScale;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _d = __webpack_require__(1);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _contourUtils = __webpack_require__(0);\n\nvar nwt = _interopRequireWildcard(_contourUtils);\n\nvar _yAxis = __webpack_require__(3);\n\nvar _yAxis2 = _interopRequireDefault(_yAxis);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction SmartYAxis(data, options, domain) {\n    this.data = data;\n    this.options = options;\n    this.yMax = domain[0];\n    this.yMin = domain[1];\n    this.dataMax = _d2.default.max(data.map(function (d) {\n        return d.y;\n    }));\n}\n\nfunction _extractYTickValues(domain, min, max, yMin, yMax, dataMax) {\n    var adjustedDomain = nwt.uniq(nwt.mergeArrays(nwt.mergeArrays(domain, yMax), dataMax));\n    // we want to be able to remove parameters with default values\n    // so to remove the default yAxis.min: 0, you pass yAxis.min: null\n    // and for that we need to to a truly comparison here (to get null or undefined)\n    if (min == null && max == null) return adjustedDomain;\n\n    if (min == null) {\n        return max > yMin ? nwt.mergeArrays([max], adjustedDomain) : [max];\n    }\n\n    if (max == null) {\n        if (min >= yMax) return [min];\n        adjustedDomain[0] = min;\n\n        return adjustedDomain;\n    }\n\n    return nwt.mergeArrays([min, max], yMax);\n}\n\nvar __super = _yAxis2.default.prototype;\nSmartYAxis.prototype = Object.assign({}, __super, {\n    axis: function axis() {\n        var options = this.options.yAxis;\n        this.domain = this._scale.domain();\n        var tickValues = _extractYTickValues(this.domain, options.min, options.max, this.yMin, this.yMax, this.dataMax);\n        var numTicks = this.numTicks();\n        var axis = __super.axis.call(this);\n        return axis.ticks(numTicks).tickValues(tickValues);\n    },\n\n    numTicks: function numTicks() {\n        return 3;\n    },\n\n    setDomain: function setDomain(domain) {\n        var extent = _d2.default.extent(domain);\n        this.yMin = extent[0];\n        this.yMax = extent[1];\n        this._scale.domain(domain);\n\n        this._niceTheScale();\n    },\n\n    _niceTheScale: function _niceTheScale() {\n        var perTreshold = 0.05;\n        var domain = this._scale.domain();\n        var min = this.options.yAxis.min || domain[0];\n        var rawMax = this.options.yAxis.max || this.dataMax;\n        var nextTick = nwt.roundToNextTick(rawMax);\n\n        var max = Math.abs(nextTick - rawMax) < rawMax * perTreshold ? nwt.roundToNextTick(rawMax + rawMax * perTreshold) : nextTick;\n        // var max = nextTick === rawMax ? nwt.roundToNextTick(rawMax + Math.pow(10, -nwt.decDigits(rawMax) - 1)) : nextTick;\n        var nice = [min, max];\n        this._scale.domain(nice);\n    }\n});\n\nexports.default = SmartYAxis;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _d = __webpack_require__(1);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _contourUtils = __webpack_require__(0);\n\nvar nwt = _interopRequireWildcard(_contourUtils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// implements the following interface\n/*\n{\n    scale: returns the d3 scale for the type\n\n    range: returns the d3 range for the type\n}\n*/\n\nfunction dateDiff(d1, d2) {\n    if (!d1 || !d2) return 0;\n    var diff = d1.getTime() - d2.getTime();\n    return diff / (24 * 60 * 60 * 1000);\n}\n\nfunction TimeScale(data, options) {\n    this.options = options;\n    this.data = data;\n\n    this.init();\n}\n\nTimeScale.prototype = {\n    init: function init() {\n        delete this._scale;\n    },\n\n    scale: function scale(domain) {\n\n        if (!this._scale) {\n            this._scale = new _d2.default.time.scale();\n            this.setDomain(domain);\n        }\n\n        this.range();\n\n        return this._scale;\n    },\n\n    /* jshint eqnull:true */\n    axis: function axis() {\n        var options = this.options.xAxis;\n        var tickFormat = this.getOptimalTickFormat();\n\n        var axis = _d2.default.svg.axis().scale(this._scale).tickFormat(tickFormat).tickSize(options.innerTickSize, options.outerTickSize).tickPadding(options.tickPadding).tickValues(this._domain);\n\n        if (this.options.xAxis.tickValues != null) {\n            axis.tickValues(this.options.xAxis.tickValues);\n        } else if (this.options.xAxis.maxTicks != null && this.options.xAxis.maxTicks < this._domain.length) {\n            // override the tickValues with custom array based on number of ticks\n            // we don't use D3 ticks() because you cannot force it to show a specific number of ticks\n            axis.tickValues(nwt.maxTickValues(options.maxTicks, this._domain));\n        } else if (this.options.xAxis.firstAndLast) {\n            // show only first and last tick\n            axis.tickValues(nwt.firstAndLast(this._domain));\n        }\n\n        return axis;\n    },\n\n    update: function update(domain, data, options) {\n        this.data = data;\n        this.options = options || this.options;\n        this.setDomain(domain);\n        this.scale();\n    },\n\n    setDomain: function setDomain(domain) {\n        this._domain = domain;\n        var axisDomain = this._getAxisDomain(this._domain);\n        this._scale.domain(axisDomain);\n    },\n\n    postProcessAxis: function postProcessAxis(axisGroup) {\n        if (!this.options.xAxis.firstAndLast) return;\n        var labels = axisGroup.selectAll('.tick text')[0];\n        _d2.default.select(labels[0]).style({ 'text-anchor': 'start' });\n        _d2.default.select(labels[labels.length - 1]).style({ 'text-anchor': 'end' });\n    },\n\n    rangeBand: function rangeBand() {\n        return 4;\n    },\n\n    getOptimalTickFormat: function getOptimalTickFormat() {\n        if (this.options.xAxis.labels.formatter) return this.options.xAxis.labels.formatter;\n        if (this.options.xAxis.labels.format) return _d2.default.time.format(this.options.xAxis.labels.format);\n\n        var spanDays = Math.abs(dateDiff(this._domain[this._domain.length - 1], this._domain[0]));\n        var daysThreshold = this.options.xAxis.maxTicks || 1;\n        if (spanDays < daysThreshold) return _d2.default.time.format('%H:%M');\n        if (spanDays < 365) return _d2.default.time.format('%d %b');\n\n        return _d2.default.time.format('%Y');\n    },\n\n    range: function range() {\n        var range = this._getAxisRange(this._domain);\n        return this._scale.rangeRound(range, 0.1);\n    },\n\n    _getAxisDomain: function _getAxisDomain(domain) {\n        if (this.options.xAxis.linearDomain) {\n            return domain;\n        }\n\n        return _d2.default.extent(domain);\n    },\n\n    _getAxisRange: function _getAxisRange(domain) {\n        var size = this.options.chart.rotatedFrame ? this.options.chart.plotHeight : this.options.chart.plotWidth;\n\n        if (this.options.xAxis.linearDomain) {\n            return nwt.range(0, size, size / (domain.length - 1)).concat([size]);\n        }\n\n        return [0, size];\n    }\n};\n\nexports.default = TimeScale;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _contour = __webpack_require__(2);\n\nvar _contour2 = _interopRequireDefault(_contour);\n\n__webpack_require__(17);\n\n__webpack_require__(18);\n\n__webpack_require__(19);\n\n__webpack_require__(3);\n\n__webpack_require__(4);\n\n__webpack_require__(6);\n\n__webpack_require__(7);\n\n__webpack_require__(8);\n\n__webpack_require__(9);\n\n__webpack_require__(10);\n\n__webpack_require__(11);\n\n__webpack_require__(20);\n\n__webpack_require__(21);\n\n__webpack_require__(22);\n\n__webpack_require__(23);\n\n__webpack_require__(24);\n\n__webpack_require__(25);\n\n__webpack_require__(26);\n\n__webpack_require__(27);\n\n__webpack_require__(28);\n\n__webpack_require__(29);\n\n__webpack_require__(30);\n\n__webpack_require__(31);\n\n__webpack_require__(32);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = _contour2.default;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _d = __webpack_require__(1);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _contourUtils = __webpack_require__(0);\n\nvar nwt = _interopRequireWildcard(_contourUtils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _extent = function _extent(series, field) {\n    var maxs = [],\n        mins = [];\n    series.forEach(function (d) {\n        if (!d.data.length) return;\n        var values = d.data.map(function (d) {\n            return d[field];\n        });\n        maxs.push(_d2.default.max(values));\n        mins.push(_d2.default.min(values));\n    });\n\n    //\n    if (!mins.length || !maxs.length) return [];\n\n    return [Math.min.apply(null, mins), Math.max.apply(null, maxs)];\n};\n\nvar _stackedExtent = function _stackedExtent(data) {\n    var stack = nwt.stackLayout();\n    var dataSets = stack(data);\n    var ext = [];\n    dataSets.forEach(function (set) {\n        set.data.forEach(function (d, i) {\n            var cur = ext[i] || 0;\n            ext[i] = cur + d.y;\n        });\n    });\n\n    return [Math.min.apply(null, ext), Math.max.apply(null, ext)];\n};\n\nvar _xExtent = nwt.partialRight(_extent, 'x');\nvar _yExtent = nwt.partialRight(_extent, 'y');\n\nfunction VisInstanceContainer(data, vizOptions, type, renderer, context) {\n    this.type = type;\n    this.renderer = renderer;\n    this.ctx = context;\n    this.options = vizOptions;\n    this.init(data);\n}\n\nVisInstanceContainer.prototype = {\n    init: function init(data) {\n        this.rawData = data;\n    },\n\n    render: function render(layer, options, ctx) {\n        this.renderer.call(ctx, this.data, layer, options);\n        return ctx;\n    },\n\n    setVisibility: function setVisibility(visible) {\n        var node = this.layer.node();\n\n        if (visible) {\n            node.style.display = 'block';\n        } else {\n            node.style.display = 'none';\n        }\n\n        return this.ctx;\n    },\n\n    setData: function setData(data) {\n        this.rawData = data;\n        return this.ctx;\n    },\n\n    normalizeData: function normalizeData(options) {\n        var normal = (this.ctx || {}).dataNormalizer || nwt.normalizeSeries;\n        var categories = (options.xAxis || {}).categories;\n        this.data = normal(this.rawData, categories);\n        this._updateDomain(options);\n\n        return this.ctx;\n    },\n\n    _updateDomain: function _updateDomain(options) {\n        if (!options[this.type]) throw new Error('Set the options before calling setData or _updateDomain');\n\n        var isSupportedFormat = (this.ctx || {}).isSupportedDataFormat || nwt.isSupportedDataFormat;\n\n        if (isSupportedFormat(this.data)) {\n            this.xDomain = nwt.flatten(this.data.map(function (set) {\n                return set.data.map(function (d) {\n                    return d.x;\n                });\n            }));\n            this.xExtent = _xExtent(this.data, 'x');\n            this.yExtent = options[this.type].stacked ? _stackedExtent(this.data) : _yExtent(this.data);\n        }\n    }\n};\n\nexports.default = VisInstanceContainer;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\n/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Used by `_.defaults` to customize its `_.assignIn` use.\n *\n * @private\n * @param {*} objValue The destination value.\n * @param {*} srcValue The source value.\n * @param {string} key The key of the property to assign.\n * @param {Object} object The parent object of `objValue`.\n * @returns {*} Returns the value to assign.\n */\nfunction assignInDefaults(objValue, srcValue, key, object) {\n  if (objValue === undefined ||\n      (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n    return srcValue;\n  }\n  return objValue;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * This method is like `_.assignIn` except that it accepts `customizer`\n * which is invoked to produce the assigned values. If `customizer` returns\n * `undefined`, assignment is handled by the method instead. The `customizer`\n * is invoked with five arguments: (objValue, srcValue, key, object, source).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias extendWith\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} [customizer] The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @see _.assignWith\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   return _.isUndefined(objValue) ? srcValue : objValue;\n * }\n *\n * var defaults = _.partialRight(_.assignInWith, customizer);\n *\n * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n  copyObject(source, keysIn(source), object, customizer);\n});\n\n/**\n * Assigns own and inherited enumerable string keyed properties of source\n * objects to the destination object for all destination properties that\n * resolve to `undefined`. Source objects are applied from left to right.\n * Once a property is set, additional values of the same property are ignored.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaultsDeep\n * @example\n *\n * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar defaults = baseRest(function(args) {\n  args.push(undefined, assignInDefaults);\n  return apply(assignInWith, undefined, args);\n});\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = defaults;\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global, module) {/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Gets the value at `key`, unless `key` is \"__proto__\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  return key == '__proto__'\n    ? undefined\n    : object[key];\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeMax = Math.max,\n    nativeNow = Date.now;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    if (isObject(srcValue)) {\n      stack || (stack = new Stack);\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || (srcIndex && isFunction(objValue))) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = merge;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(5), __webpack_require__(16)(module)))\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _d = __webpack_require__(1);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _contourUtils = __webpack_require__(0);\n\nvar nwt = _interopRequireWildcard(_contourUtils);\n\nvar _contour = __webpack_require__(2);\n\nvar _contour2 = _interopRequireDefault(_contour);\n\nvar _axisScaleFactory = __webpack_require__(4);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaults = {\n    chart: {\n        gridlines: 'none',\n        // not clipping the plot area could be a performance gain\n        // but by default we clip to be safe\n        clipPlotArea: true,\n        padding: {\n            top: 6,\n            right: 5,\n            // this get's defined based on the axis & title\n            bottom: undefined,\n            // this get's defined based on the axis & title\n            left: undefined\n        }\n    },\n\n    xAxis: {\n        // type of axis {ordinal|linear|time}\n        type: null, // default is linear in line.js (needs to be null here so overrides work)\n        categories: undefined,\n        max: undefined,\n        min: undefined,\n        innerTickSize: 6,\n        outerTickSize: 0,\n        tickPadding: 6,\n        maxTicks: undefined,\n        ticks: undefined,\n        tickValues: undefined,\n        title: undefined,\n        titlePadding: 4,\n        // padding between ranges (ie. columns) expressed in percentage of rangeBand width\n        innerRangePadding: 0.1,\n        // padding between all ranges (ie. columns) and the axis (left & right) expressed in percentage of rangeBand width\n        outerRangePadding: 0.1,\n        firstAndLast: false,\n        orient: 'bottom',\n        labels: {\n            format: undefined,\n            formatter: undefined\n        },\n        linearDomain: false, // specify if a time domain should be treated linearly or ....\n        // should the xAxis be rendered at y=0 or at the bottom of the chart regardless of where y = 0 is\n        zeroPlane: false\n    },\n\n    yAxis: {\n        // @param: {linear|smart|log}\n        // type: 'smart',\n        min: undefined,\n        max: undefined,\n        scaling: {\n            type: 'auto', // || 'smart' || 'centered'\n            options: {\n                zeroAnchor: true\n            }\n        },\n        innerTickSize: 6,\n        outerTickSize: 6,\n        tickPadding: 4,\n        tickValues: undefined,\n        ticks: undefined,\n        title: undefined,\n        titlePadding: 4,\n        orient: 'left',\n        labels: {\n            // top, middle, bottom\n            verticalAlign: 'middle',\n            format: 's', // d3 formats\n            formatter: undefined // a function that formats each value ie. function (datum) { return 'x: ' + datum.x + ', y:' + datum.y }\n        }\n    }\n};\n\n/**\n* Provides a Cartesian frame to the Contour instance.\n*\n* This is required for all visualizations displayed in a Cartesian frame, for example line charts, bar charts, area charts, etc. It is not required otherwise; for instance, pie charts do not use a Cartesian frame.\n*\n* ###Example:\n*\n*     new Contour(options)\n*           .cartesian();\n*\n* @name cartesian\n*/\nvar cartesian = function cartesian() {\n    var maxTickSize = function maxTickSize(options) {\n        return Math.max(options.outerTickSize || 0, options.innerTickSize || 0);\n    };\n    return {\n        dataSrc: [],\n\n        init: function init(options) {\n\n            // readonly properties (ie. user cannot modify)\n            var readOnlyProps = {\n                chart: {\n                    rotatedFrame: false,\n                    internalPadding: {\n                        bottom: undefined,\n                        left: undefined\n                    }\n                }\n            };\n\n            this.options = options || {};\n\n            nwt.merge(this.options, readOnlyProps);\n\n            var extraPadding = {};\n            if (!this.options.xAxis || !this.options.xAxis.firstAndLast) {\n                extraPadding = { chart: { padding: { right: 15 } } };\n            }\n\n            this._extraOptions.push(nwt.merge({}, defaults, extraPadding));\n\n            return this;\n        },\n\n        xDomain: [],\n        yDomain: [],\n\n        _getYScaledDomain: function _getYScaledDomain(domain, options) {\n            var opts = this.options.yAxis;\n            var zeroAnchor = opts.zeroAnchor != null ? opts.zeroAnchor : opts.scaling.options.zeroAnchor;\n            var absMin = zeroAnchor && domain && domain[0] > 0 ? 0 : undefined;\n            var min = opts.min != null ? opts.min : absMin;\n\n            if (opts.tickValues) {\n                if (opts.min != null && opts.max != null) {\n                    return [opts.min, opts.max];\n                } else if (opts.min != null) {\n                    return [opts.min, _d2.default.max(zeroAnchor ? [0].concat(opts.tickValues) : opts.tickValues)];\n                } else if (opts.max != null) {\n                    return [_d2.default.min(zeroAnchor ? [0].concat(opts.tickValues) : opts.tickValues), opts.max];\n                } else {\n                    return _d2.default.extent(zeroAnchor || opts.min != null ? [min].concat(opts.tickValues) : opts.tickValues);\n                }\n            } else if (opts.smartAxis || opts.scaling.type === 'smart') {\n                return _d2.default.extent(zeroAnchor || opts.min != null ? [min].concat(domain) : domain);\n            } else if (opts.scaling.type === 'centered') {\n                return _d2.default.extent(domain);\n            }\n\n            return nwt.extractScaleDomain(domain, min, opts.max, opts.ticks);\n        },\n\n        /*jshint eqnull:true */\n        adjustPadding: function adjustPadding() {\n            var xOptions = this.options.xAxis;\n            var yOptions = this.options.yAxis;\n            // bottom padding calculations\n            if (this.options.chart.padding.bottom == null) {\n                this.options.chart.internalPadding.bottom = this._getAdjustedBottomPadding(xOptions);\n            } else {\n                this.options.chart.internalPadding.bottom = this.options.chart.padding.bottom || 0;\n            }\n\n            this.options.chart.padding.top = this.options.chart.internalPadding.top = this._getAdjustedTopPadding(xOptions);\n\n            // left padding calculations\n            if (this.options.chart.padding.left == null) {\n                this.options.chart.internalPadding.left = this._getAdjustedLeftPadding(yOptions);\n            } else {\n                this.options.chart.internalPadding.left = this.options.chart.padding.left;\n            }\n\n            this.options.chart.padding.right = this.options.chart.internalPadding.right = this._getAdjustedRightPadding(yOptions);\n        },\n\n        _getAdjustedTopPadding: function _getAdjustedTopPadding(options) {\n            return this.options.chart.padding.top;\n        },\n\n        _getAdjustedBottomPadding: function _getAdjustedBottomPadding(options) {\n            if (options.ticks !== 0) {\n                var xLabels = this.xDomain;\n                var xAxisText = xLabels.join('<br>');\n                var xLabelBounds = nwt.textBounds(xAxisText, '.x.axis');\n                var regularXBounds = nwt.textBounds('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890', '.x.axis');\n                var em = regularXBounds.height;\n                var ang = options.labels && options.labels.rotation ? options.labels.rotation % 360 : 0;\n                var xLabelHeightUsed = ang === 0 ? regularXBounds.height : Math.ceil(Math.abs(xLabelBounds.width * Math.sin(nwt.degToRad(ang))) + em / 5);\n                return maxTickSize(options) + (options.tickPadding || 0) + xLabelHeightUsed;\n            } else {\n                return maxTickSize(options) + (options.tickPadding || 0);\n            }\n        },\n\n        _getAdjustedLeftPadding: function _getAdjustedLeftPadding(options) {\n            var yDomainScaled = this._getYScaledDomain(this.yDomain, this.options);\n            var tmpScale = _d2.default.scale.linear().domain(yDomainScaled);\n            var yLabels = tmpScale.ticks(options.ticks);\n\n            var format = options.labels.formatter || _d2.default.format(options.labels.format || ',.0f');\n            var yAxisText = yLabels.map(format).join('<br>');\n            var yLabelBounds = nwt.textBounds(yAxisText, '.y.axis');\n            return maxTickSize(this.options.yAxis) + (this.options.yAxis.tickPadding || 0) + yLabelBounds.width;\n        },\n\n        _getAdjustedRightPadding: function _getAdjustedRightPadding(options) {\n            return this.options.chart.padding.right;\n        },\n\n        adjustTitlePadding: function adjustTitlePadding() {\n            var titleBounds;\n            if (this.options.xAxis.title || this.options.yAxis.title) {\n                if (this.options.xAxis.title) {\n                    titleBounds = nwt.textBounds(this.options.xAxis.title, '.x.axis-title');\n                    this.options.chart.internalPadding.bottom += titleBounds.height + this.options.xAxis.titlePadding;\n                }\n\n                if (this.options.yAxis.title) {\n                    titleBounds = nwt.textBounds(this.options.yAxis.title, '.y.axis-title');\n                    this.options.chart.internalPadding.left += titleBounds.height + this.options.yAxis.titlePadding;\n                }\n            }\n        },\n\n        computeXScale: function computeXScale() {\n            if (!this.xDomain) throw new Error('You are trying to render without setting data (xDomain).');\n\n            if (!this.xScale) {\n                this.xScaleGenerator = (0, _axisScaleFactory.xScaleFactory)(this.dataSrc, this.options);\n                this.xScale = this.xScaleGenerator.scale(this.xDomain);\n                this.rangeBand = this.xScaleGenerator.rangeBand();\n            } else {\n                this.xScaleGenerator.update(this.xDomain, this.dataSrc, this.options);\n                this.rangeBand = this.xScaleGenerator.rangeBand();\n            }\n        },\n\n        computeYScale: function computeYScale() {\n            if (!this.yDomain) throw new Error('You are trying to render without setting data (yDomain).');\n\n            var yScaleDomain = this._getYScaledDomain(this.yDomain, this.options);\n\n            if (!this.yScale) {\n                this.yScaleGenerator = (0, _axisScaleFactory.yScaleFactory)(this.dataSrc, this.options, this.options.yAxis.type, this.yDomain);\n                this.yScale = this.yScaleGenerator.scale(yScaleDomain);\n            } else {\n                this.yScaleGenerator.update(yScaleDomain, this.dataSrc);\n            }\n        },\n\n        /**\n        * Provides a scaling function based on the xAxis values.\n        *\n        * ###Example:\n        *\n        *     var scaledValue = this.xScale(100);\n        *\n        * @function xScale\n        * @param {Number|String} value The value to be scaled.\n        * @return {Number} The scaled value according to the current xAxis settings.\n        */\n        xScale: undefined,\n\n        /**\n        * Provides a scaling function based on the yAxis values.\n        *\n        * ###Example:\n        *\n        *     var scaledValue = this.yScale(100);\n        *\n        * @function yScale\n        * @param {Number} value The value to be scaled.\n        * @return {Number} The scaled value according to the current yAxis settings.\n        */\n        yScale: undefined,\n\n        /**\n        * Modifies the domain for the yAxis.\n        *\n        * ###Example:\n        *\n        *     this.setYDomain([100, 200]);\n        *\n        * @function setYDomain\n        * @param {Array} domain The domain array representing the min and max values visible on the yAxis.       */\n        setYDomain: function setYDomain(domain) {\n            this.yScaleGenerator.setDomain(domain);\n        },\n\n        /**\n        * Redraws the yAxis with the new settings and domain.\n        *\n        * ###Example:\n        *\n        *     this.redrawYAxis();\n        *\n        * @function redrawYAxis\n        */\n        redrawYAxis: function redrawYAxis() {\n            this.svg.select('.y.axis').call(this.yAxis());\n            this.renderGridlines();\n        },\n\n        _animationDuration: function _animationDuration() {\n            var opt = this.options.chart.animations;\n            return opt && opt.enable ? opt.duration != null ? opt.duration : 400 : 0;\n        },\n\n        computeScales: function computeScales() {\n            this.computeXScale();\n            this.computeYScale();\n\n            return this;\n        },\n\n        _xAxis: undefined,\n        xAxis: function xAxis() {\n            if (!this._xAxis) {\n                this._xAxis = this.xScaleGenerator.axis().orient(this.options.xAxis.orient);\n            }\n            return this._xAxis;\n        },\n\n        _yAxis: undefined,\n        yAxis: function yAxis() {\n            if (!this._yAxis) {\n                this._yAxis = this.yScaleGenerator.axis().orient(this.options.yAxis.orient);\n            }\n            return this._yAxis;\n        },\n\n        renderXAxis: function renderXAxis() {\n            var _this = this;\n\n            var xAxis = this.xAxis();\n            var plotHeight = this.options.chart.plotHeight;\n            var paddingTop = this.options.chart.internalPadding.top;\n            var x = this.options.chart.internalPadding.left;\n            var animOpt = this.options.chart.animations;\n            var y = this.options.chart.padding.top;\n            var t = _d2.default.transition().duration(this._animationDuration());\n\n            var adjustTickLabels = function adjustTickLabels() {\n                return function (selection) {\n                    if (_this.options.xAxis.zeroPlane) {\n                        var adj = plotHeight - y + paddingTop;\n                        var textSel = selection.selectAll('.x.axis text');\n                        textSel.attr('transform', 'translate(0, ' + adj + ')');\n                    }\n                };\n            };\n\n            if (this.options.xAxis.zeroPlane) {\n                y += this.yScale(0);\n            } else {\n                y += plotHeight;\n            }\n\n            this._xAxisGroup = this.svg.selectAll('.x.axis').data([1]);\n\n            if (!this._xAxisGroup.node()) {\n                this._xAxisGroup.enter().append('g').attr('transform', 'translate(' + x + ',' + y + ')').attr('class', 'x axis').call(xAxis).call(adjustTickLabels());\n            } else {\n                var opt = this.options.chart.animations;\n\n                if (opt && opt.enable) {\n                    // we can't attached the transition an not configure it so\n                    // we need to repeat this both with and without transition\n                    this._xAxisGroup.transition(t).attr('transform', 'translate(' + x + ',' + y + ')').call(xAxis).call(adjustTickLabels());\n                } else {\n                    this._xAxisGroup.attr('transform', 'translate(' + x + ',' + y + ')').call(xAxis).call(adjustTickLabels(true));\n                }\n            }\n\n            this.xScaleGenerator.postProcessAxis(this._xAxisGroup);\n\n            return this;\n        },\n\n        renderYAxis: function renderYAxis() {\n            var x = this.options.chart.internalPadding.left;\n            var y = this.options.chart.padding.top;\n\n            this._yAxisGroup = this.svg.selectAll('.y.axis').data([1]);\n\n            if (!this._yAxisGroup.node()) {\n                this._yAxisGroup.enter().append('g').attr('transform', 'translate(' + x + ',' + y + ')').attr('class', 'y axis');\n            } else {\n                _d2.default.select(this._yAxisGroup.node()).attr('transform', 'translate(' + x + ',' + y + ')');\n            }\n\n            this._renderYAxisElement();\n\n            return this;\n        },\n\n        _renderYAxisElement: function _renderYAxisElement() {\n            var options = this.options.yAxis;\n            var alignmentOffset = { bottom: '.8em', middle: '.35em', top: '0' };\n            var animOpt = this.options.chart.animations;\n\n            if (animOpt && animOpt.enable) {\n                this._yAxisGroup.transition().duration(this._animationDuration()).call(this.yAxis()).selectAll('.tick text').attr('dy', alignmentOffset[options.labels.verticalAlign]);\n            } else {\n                this._yAxisGroup.call(this.yAxis()).selectAll('.tick text').attr('dy', alignmentOffset[options.labels.verticalAlign]);\n            }\n        },\n\n        renderAxisLabels: function renderAxisLabels() {\n            var adjustFactor = 40 / 46.609; // this factor is to account for the difference between the actual svg size and what we get from the DOM\n            var bounds, x, y;\n            var el;\n\n            if (this.options.xAxis.title) {\n                bounds = nwt.textBounds(this.options.xAxis.title, '.x.axis-title');\n                y = this.options.chart.internalPadding.bottom;\n                x = 0;\n                el = this._xAxisGroup.selectAll('.x.axis-title').data([1]);\n                if (!el.node()) {\n                    el.enter().append('text').attr('class', 'x axis-title');\n                }\n\n                _d2.default.select(el.node()).attr('x', x).attr('y', y).attr('alignment-baseline', 'after-edge').attr('dx', (this.options.chart.plotWidth - bounds.width) / 2).text(this.options.xAxis.title);\n            }\n\n            if (this.options.yAxis.title) {\n                bounds = nwt.textBounds(this.options.yAxis.title, '.y.axis-title');\n                y = -this.options.chart.internalPadding.left + bounds.height * adjustFactor;\n                x = 0;\n                el = this._yAxisGroup.selectAll('.y.axis-title').data([1]);\n                if (!el.node()) {\n                    el.enter().append('text').attr('class', 'y axis-title');\n                }\n\n                _d2.default.select(el.node()).attr('class', 'y axis-title').attr('transform', 'rotate(-90)').attr('x', x).attr('y', y).attr('dx', -(this.options.chart.plotHeight + bounds.width) / 2).attr('dy', 0).text(this.options.yAxis.title);\n            }\n\n            return this;\n        },\n\n        renderGridlines: function renderGridlines() {\n            var option = this.options.chart.gridlines;\n            var horizontal = option === 'horizontal' || option === 'both';\n            var vertical = option === 'vertical' || option === 'both';\n\n            function getYTicks(axis, smart) {\n                var tickValues = axis.tickValues();\n\n                if (!tickValues) {\n                    var numTicks = axis.ticks()[0];\n                    return axis.scale().ticks(numTicks).slice(1);\n                }\n\n                if (smart) {\n                    tickValues.pop();\n                }\n\n                return tickValues.slice(1);\n            }\n\n            function getXTicks(axis) {\n                return axis.tickValues() || (axis.scale().ticks ? axis.scale().ticks().slice(1) : axis.scale().domain());\n            }\n\n            var ticks, gr;\n            var x = this.xScale;\n            var y = this.yScale;\n\n            if (horizontal) {\n                var smartAxis = this.options.yAxis.smartAxis || this.options.yAxis.scaling.type === 'smart';\n                ticks = getYTicks(this.yAxis(), smartAxis);\n                var w = this.options.chart.plotWidth;\n\n                // remove previous lines (TODO: we need a better way)\n                // this._yAxisGroup.select('g.grid-lines').remove();\n                gr = this._yAxisGroup.selectAll('.grid-lines').data([ticks]);\n\n                gr.enter().append('svg:g').attr('class', 'grid-lines');\n\n                var lines = gr.selectAll('.grid-line').data(function (d) {\n                    return d;\n                });\n\n                lines.transition().duration(this._animationDuration()).attr('x1', 0).attr('x2', function () {\n                    return w;\n                }).attr('y1', y).attr('y2', y);\n\n                lines.enter().append('line').attr('class', 'grid-line').attr('x1', 0).attr('x2', function () {\n                    return w;\n                }).attr('y1', y).attr('y2', y);\n\n                lines.exit().remove();\n            }\n\n            if (vertical) {\n                // remove previous lines (TODO: we need a better way)\n                this._xAxisGroup.select('g.grid-lines').remove();\n                gr = this._xAxisGroup.append('svg:g').attr('class', 'grid-lines');\n                ticks = getXTicks(this.xAxis());\n                var offset = this.rangeBand / 2;\n                var h = this.options.chart.plotHeight;\n\n                gr.selectAll('.grid-line').data(ticks).enter().append('line').attr('class', 'grid-line').attr('x1', function (d) {\n                    return x(d) + offset;\n                }).attr('x2', function (d) {\n                    return x(d) + offset;\n                }).attr('y1', -h).attr('y2', 0);\n            }\n\n            return this;\n        },\n\n        renderBackground: function renderBackground() {\n            var options = this.options.chart;\n            this.background = this.background || this.createVisualizationLayer('background', 0);\n            var g = this.background.selectAll('.plot-area-background').data([null]);\n\n            g.enter().append('rect').attr('class', 'plot-area-background').attr('x', options.internalPadding.left).attr('y', options.internalPadding.top).attr('width', options.plotWidth).attr('height', options.plotHeight);\n\n            g.exit().remove();\n\n            return this;\n        },\n\n        renderClipArea: function renderClipArea() {\n            var data = this.options.chart.clipPlotArea ? [null] : [];\n            var defs = this.svg.selectAll('defs').data(data);\n            defs.enter().append('defs');\n\n            var clip = defs.selectAll('clipPath').data(data);\n            clip.enter().append('clipPath').attr('id', 'clip');\n\n            var rect = clip.selectAll('rect').data(data);\n            rect.enter().append('rect');\n\n            var w = this.options.chart.plotWidth;\n            var h = this.options.chart.plotHeight;\n\n            rect.attr('width', w).attr('height', h);\n\n            rect.exit().remove();\n            clip.exit().remove();\n            defs.exit().remove();\n\n            return this;\n        },\n\n        render: function render() {\n\n            this.composeOptions();\n            this._normalizeData();\n            this.adjustDomain();\n            this.calcMetrics();\n            this.computeScales();\n            this.baseRender();\n\n            this.renderClipArea().renderBackground().renderXAxis().renderYAxis().renderGridlines().renderAxisLabels().renderVisualizations();\n\n            return this;\n        },\n\n        datum: function datum(d, index) {\n            if (nwt.isObject(d) && Array.isArray(d.data)) return d.data.map(this.datum.bind(this));\n\n            return {\n                y: nwt.isObject(d) ? d.y : d,\n                x: nwt.isObject(d) ? d.x : this.options.xAxis.categories ? this.options.xAxis.categories[index] : index\n            };\n        },\n\n        adjustDomain: function adjustDomain() {\n            var extents = this.getExtents();\n            this._adjustXDomain(extents);\n            this._adjustYDomain(extents);\n\n            this._yAxis = null;\n            this._xAxis = null;\n            this.yScale = null;\n        },\n\n        _adjustXDomain: function _adjustXDomain(extents) {\n            this.xDomain = this.getXDomain();\n            var dataVis = this._visualizations.filter(function (v) {\n                return nwt.isSupportedDataFormat(v.data);\n            });\n            this.dataSrc = nwt.flatten(dataVis.map(function (v) {\n                return nwt.flatten(v.data.map(this.datum.bind(this)));\n            }.bind(this)));\n\n            // every() on empty array returns true, so we guard against it\n            var isCategoricalData = this.dataSrc.length && this.dataSrc.every(function (d) {\n                return +d.x !== d.x;\n            });\n            var dataSrcCategories = nwt.uniq(this.dataSrc.map(function (d) {\n                return d.x;\n            }));\n            var sameCats = this.options.xAxis.categories ? this.options.xAxis.categories.length === dataSrcCategories.length && nwt.intersection(this.options.xAxis.categories, dataSrcCategories).length === dataSrcCategories.length : false;\n\n            if (isCategoricalData && !(this.options.xAxis.categories && sameCats)) {\n                this.options.xAxis.categories = dataSrcCategories;\n            }\n        },\n\n        _adjustYDomain: function _adjustYDomain(extents) {\n            this.yDomain = extents.length ? extents : [0, 10];\n            this.yMin = this.yDomain[0];\n            this.yMax = this.yDomain[this.yDomain.length - 1];\n        },\n\n        _normalizeData: function _normalizeData() {\n            var opt = this.options;\n            this._visualizations.forEach(function (viz) {\n                var vizOpt = nwt.merge({}, opt, viz.options);\n                viz.normalizeData(vizOpt);\n            });\n        },\n\n        getExtents: function getExtents(axis) {\n            var field = axis && axis === 'x' ? 'xExtent' : 'yExtent';\n            var dataVis = this._visualizations.filter(function (v) {\n                return nwt.isSupportedDataFormat(v.data);\n            });\n            var all = nwt.flatten(dataVis.map(function (d) {\n                return d[field];\n            }));\n            return all.length ? _d2.default.extent(all) : [];\n        },\n\n        getXDomain: function getXDomain() {\n            var dataVis = this._visualizations.filter(function (v) {\n                return nwt.isSupportedDataFormat(v.data);\n            });\n            var all = nwt.uniq(nwt.flatten(dataVis.map(function (d) {\n                return d.xDomain;\n            })));\n\n            return all;\n        }\n\n    };\n};\n\n_contour2.default.expose('cartesian', cartesian);\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _contour = __webpack_require__(2);\n\nvar _contour2 = _interopRequireDefault(_contour);\n\nvar _contourUtils = __webpack_require__(0);\n\nvar nwt = _interopRequireWildcard(_contourUtils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaults = {\n    chart: {\n        rotatedFrame: true\n    },\n\n    xAxis: {\n        orient: 'left'\n    },\n\n    yAxis: {\n        orient: 'bottom'\n    }\n};\n\nvar frame = {\n\n    init: function init() {\n        nwt.merge(this.options, defaults);\n    },\n\n    adjustPadding: function adjustPadding() {\n        var categoryLabels = this.options.xAxis.categories || this.dataSrc.map(function (d) {\n            return d.x;\n        });\n        var text = categoryLabels.join('<br>');\n        var xLabel = nwt.textBounds(text, '.x.axis');\n        var yLabel = nwt.textBounds('ABC', '.y.axis');\n        var maxTickSize = function maxTickSize(options) {\n            return Math.max(options.outerTickSize, options.innerTickSize);\n        };\n\n        this.options.chart.internalPadding.left = this.options.chart.padding.left || maxTickSize(this.options.xAxis) + this.options.xAxis.tickPadding + xLabel.width;\n        this.options.chart.internalPadding.bottom = this.options.chart.padding.bottom || maxTickSize(this.options.yAxis) + this.options.yAxis.tickPadding + yLabel.height;\n    },\n\n    adjustTitlePadding: function adjustTitlePadding() {\n        var titleBounds;\n        if (this.options.xAxis.title || this.options.yAxis.title) {\n            if (this.options.xAxis.title) {\n                titleBounds = nwt.textBounds(this.options.xAxis.title, '.x.axis-title');\n                this.options.chart.internalPadding.left += titleBounds.height + this.options.xAxis.titlePadding;\n            }\n\n            if (this.options.yAxis.title) {\n                titleBounds = nwt.textBounds(this.options.yAxis.title, '.y.axis-title');\n                this.options.chart.internalPadding.bottom += titleBounds.height + this.options.yAxis.titlePadding;\n            }\n        }\n    },\n\n    renderYAxis: function renderYAxis() {\n        var yAxis = this.yAxis();\n        var x = this.options.chart.internalPadding.left;\n        var y = this.options.chart.padding.top + this.options.chart.plotHeight;\n\n        this._yAxisGroup = this.svg.selectAll('.y.axis').data([1]);\n\n        this._yAxisGroup.enter().append('g').attr('class', 'y axis').attr('transform', 'translate(' + x + ',' + y + ')');\n\n        this._yAxisGroup.exit().remove();\n\n        this._yAxisGroup.transition().duration(this._animationDuration()).attr('transform', 'translate(' + x + ',' + y + ')').call(yAxis);\n\n        return this;\n    },\n\n    renderXAxis: function renderXAxis() {\n        var x = this.options.chart.internalPadding.left;\n        var y = this.options.chart.padding.top;\n        var xAxis = this.xAxis();\n\n        this._xAxisGroup = this.svg.selectAll('.x.axis').data([1]);\n\n        this._xAxisGroup.enter().append('g').attr('class', 'x axis').attr('transform', 'translate(' + x + ',' + y + ')');\n\n        this._xAxisGroup.exit().remove();\n\n        this._xAxisGroup.transition().duration(this._animationDuration()).attr('transform', 'translate(' + x + ',' + y + ')').call(xAxis);\n\n        this.xScaleGenerator.postProcessAxis(this._xAxisGroup);\n\n        return this;\n    },\n\n    renderAxisLabels: function renderAxisLabels() {\n        var lineHeightAdjustment = this.titleOneEm * 0.25; // add 25% of font-size for a complete line-height\n        var adjustFactor = 40 / 46.609;\n        var el;\n        var bounds, anchor, rotation, tickSize, x, y;\n\n        if (this.options.xAxis.title) {\n            bounds = nwt.textBounds(this.options.xAxis.title, '.x.axis-title');\n            x = this.options.chart.rotatedFrame ? -bounds.height : this.options.chart.plotWidth;\n            y = this.options.chart.rotatedFrame ? -this.options.chart.internalPadding.left : this.options.chart.internalPadding.bottom - lineHeightAdjustment;\n\n            rotation = this.options.chart.rotatedFrame ? '-90' : '0';\n            el = this._xAxisGroup.selectAll('.x.axis-title').data([null]);\n\n            el.enter().append('text').attr('class', 'x axis-title');\n\n            el.attr('x', 0).attr('y', y).attr('transform', ['rotate(', rotation, ')'].join('')).attr('dy', bounds.height * adjustFactor).attr('dx', -(this.options.chart.plotHeight + bounds.width) / 2).text(this.options.xAxis.title);\n\n            el.exit().remove();\n        }\n\n        if (this.options.yAxis.title) {\n            bounds = nwt.textBounds(this.options.yAxis.title, '.y.axis-title');\n            tickSize = Math.max(this.options.yAxis.innerTickSize, this.options.yAxis.outerTickSize);\n            anchor = this.options.chart.rotatedFrame ? 'end' : 'middle';\n            x = this.options.chart.rotatedFrame ? this.options.chart.plotWidth : 0;\n            y = this.options.chart.rotatedFrame ? this.options.chart.internalPadding.bottom : -this.options.chart.internalPadding.left + this.titleOneEm - lineHeightAdjustment;\n\n            rotation = this.options.chart.rotatedFrame ? '0' : '-90';\n\n            el = this._yAxisGroup.selectAll('.y.axis-title').data([null]);\n\n            el.enter().append('text').attr('class', 'y axis-title');\n\n            el.attr('y', y).attr('x', x).attr('dx', -(this.options.chart.plotWidth + bounds.width) / 2).attr('dy', -4) // just because\n            .attr('transform', ['rotate(', rotation, ')'].join('')).text(this.options.yAxis.title);\n\n            el.exit().remove();\n        }\n\n        return this;\n    }\n};\n\n/**\n* Sets the visualization frame so that the xAxis is vertical and the yAxis is horizontal.\n*\n* This visualization requires `.cartesian()`.\n*\n* This visualization is a prerequiste for rendering bar charts (`.bar()`).\n*\n* ###Example:\n*\n*     new Contour({el: '.myChart'})\n*        .cartesian()\n*        .horizontal()\n*        .bar([1, 2, 3, 4, 5, 4, 3, 2, 1])\n*        .render()\n*\n* @function horiztonal\n*/\n\n_contour2.default.expose('horizontal', frame);\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _contour = __webpack_require__(2);\n\nvar _contour2 = _interopRequireDefault(_contour);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar root = typeof window === 'undefined' ? undefined : window;\n\nvar defaultParams = {\n    type: 'image/png', // the mime type of the image; see http://en.wikipedia.org/wiki/Comparison_of_web_browsers#Image_format_support for browser support\n    fileName: 'contour.png', // the fileName for the `download()`\n    target: undefined, // a selector for the container in which to `place()` the image; for example '#image'\n    backgroundColor: '#fff', // the fill color of the image, or `null` for transparent background\n    width: undefined, // the width of the exported image; if `height` is falsy then the height will be scaled proportionally\n    height: undefined // the height of the exported image; if `width` is falsy then the width will be scaled proportionally\n};\n\n// browser capabilities\nvar browser = {\n    checked: false // true after browser capabilities have been checked\n};\n\n// queue of operations to perform synchronously\nvar queue = [];\n// true if working on something\nvar working = false;\n\n/**\n* Saves a visualization as an image.\n* You can either trigger a download of the image or place the image within a container.\n*\n* ###Example:\n*\n*     var chart = new Contour(...)\n*         ...\n*         .exportable()\n*         .render();\n*\n*     document.getElementById('save').onclick = function () {\n*         chart.download({\n*             fileName: 'myContourChart.png'\n*         });\n*\n* ###External dependencies:\n*\n* IE9-11 and Safari won't safely export a canvas to which an SVG has been\n* rendered. To get around this limitation in those browsers, we use CanVG\n* (\"canned veggies\"), an implementation of SVG written in JavaScript to\n* render the SVG directly to the canvas. During initialization of the\n* 'exportable' plugin, CanVG is automatically downloaded from\n* http://canvg.googlecode.com/svn/trunk/ if the browser fails the test\n* SVG export.\n*\n* @name exportable\n*/\nvar exportable = function exportable() {\n    // CSS properties to ignore for diff\n    var cssIgnoreDiff = {\n        cssText: 1,\n        parentRule: 1\n    };\n    // CSS properties shared between HTML and SVG\n    var cssSharedSvg = {\n        font: 1,\n        fontFamily: 1,\n        fontSize: 1,\n        fontSizeAdjust: 1,\n        fontStretch: 1,\n        fontStyle: 1,\n        fontVariant: 1,\n        fontWeight: 1,\n        direction: 1,\n        letterSpacing: 1,\n        textDecoration: 1,\n        unicodeBidi: 1,\n        wordSpacing: 1,\n        clip: 1,\n        cursor: 1,\n        display: 1,\n        overflow: 1,\n        visibility: 1,\n        opacity: 1\n    };\n\n    // interface\n\n    return {\n        init: function init() {\n            // check browser capabilities and set up necessary shims\n            // only do this once per page load\n            if (!browser.checked) {\n                addToQueue(checkBrowser);\n            }\n\n            return this;\n        },\n\n        /**\n        * Saves a visualization as an image, triggering a download.\n        *\n        * ###Browser variations:\n        *\n        * - Chrome saves the image.\n        * - Firefox and IE10-11 display a prompt, then save the image.\n        * - IE9 and Safari open the image in a new tab, enabling the user to manually save the image.\n        *\n        * ###Example:\n        *\n        *     var chart = new Contour(...)\n        *         ...\n        *         .exportable()\n        *         .render();\n        *\n        *     document.getElementById('save').onclick = function () {\n        *         chart.download({\n        *             fileName: 'contour.png',\n        *             width: 640\n        *         });\n        *\n        * @name download\n        * @param {object} options Configuration options specific to downloading the image.\n        * @param {string} options.type Specifies the mime type of the image. See http://en.wikipedia.org/wiki/Comparison_of_web_browsers#Image_format_support for browser support. Default: 'image/png'.\n        * @param {string} options.fileName Specifies the file name for the download. Default: 'contour.png'.\n        * @param {string} options.backgroundColor Specifies the fill color of the image. Use `null` for transparent background. Default: '#fff'.\n        * @param {int} options.width Specifies the width of the exported image. If `height` is falsy then the height is scaled proportionally. Default: `undefined`, which means don't do any scaling.\n        * @param {int} options.height Specifies the height of the exported image. If `width` is falsy then the width is scaled proportionally. Default: `undefined`, which means don't do any scaling.\n        */\n        download: function download(options) {\n            var container = this.container;\n\n            addToQueue(function () {\n                exportImage(container, options, 'download');\n            });\n\n            return this;\n        },\n\n        /**\n        * Saves a visualization as an image, placing it within a container.\n        *\n        * ###Example:\n        *\n        *     var chart = new Contour(...)\n        *         ...\n        *         .exportable()\n        *         .render();\n        *     document.getElementById('save').onclick = function () {\n        *         chart.place({\n        *             target: '#image'\n        *         });\n        *\n        * @name place\n        * @param {object} options Configuration options specific to placing the image in a container.\n        * @param {string} options.type Specifies the mime type of the image. See http://en.wikipedia.org/wiki/Comparison_of_web_browsers#Image_format_support for browser support. Default: 'image/png'.\n        * @param {string} options.target Specifies a selector for the container. For example: '#image' will append the image into `<div id=\"image\"></div>`.\n        * @param {string} options.backgroundColor Specifies the fill color of the image. Use `null` for transparent background. Default: '#fff'.\n        * @param {int} options.width Specifies the width of the exported image. If `height` is falsy then the height is scaled proportionally. Default: `undefined`, which means don't do any scaling.\n        * @param {int} options.height specifies the height of the exported image. If `width` is falsy then the width is scaled proportionally. Default: `undefined`, which means don't do any scaling.\n        */\n        place: function place(options) {\n            var container = this.container;\n\n            addToQueue(function () {\n                exportImage(container, options, 'place');\n            });\n\n            return this;\n        }\n    };\n\n    // SVG to canvas export function\n    // adapted from https://github.com/sampumon/SVG.toDataURL\n    // which based on http://svgopen.org/2010/papers/62-From_SVG_to_Canvas_and_Back/#svg_to_canvas\n    function getSvgDataUrl(svg, options, dataUrlCreated) {\n        switch (options.type) {\n            case 'image/svg+xml':\n                return makeSvgUrl();\n\n            default:\n                // 'image/png' or 'image/jpeg'\n                return makeImageUrl();\n        }\n\n        function encodeBase64DataUrl(svgXml) {\n            // https://developer.mozilla.org/en/DOM/window.btoa\n            return 'data:image/svg+xml;base64,' + btoa(svgXml);\n        }\n\n        // convert base64/URLEncoded data component to raw binary data held in a string\n        function dataUrlToBlob(dataUrl) {\n            /*jshint nonstandard:true*/\n            var byteString;\n            if (dataUrl.split(',')[0].indexOf('base64') >= 0) {\n                byteString = atob(dataUrl.split(',')[1]);\n            } else {\n                byteString = unescape(dataUrl.split(',')[1]);\n            }\n\n            // separate out the mime component\n            var mimeString = dataUrl.split(',')[0].split(':')[1].split(';')[0];\n\n            // write the bytes of the string to a typed array\n            var byteArray = new Uint8Array(byteString.length);\n            for (var i = 0; i < byteString.length; i++) {\n                byteArray[i] = byteString.charCodeAt(i);\n            }\n\n            return new Blob([byteArray], {\n                type: mimeString\n            });\n        }\n\n        function makeSvgUrl() {\n            var svgXml = new XMLSerializer().serializeToString(svg);\n            var svgDataUrl = encodeBase64DataUrl(svgXml);\n\n            dataUrlCreated(svgDataUrl, null, function () {});\n        }\n\n        function makeImageUrl() {\n            var canvas = document.createElement('canvas');\n            var context = canvas.getContext('2d');\n\n            var svgXml = new XMLSerializer().serializeToString(svg);\n\n            if (root.canvg) {\n                // use Canvg renderer for image export\n                renderImageCanvg();\n            } else {\n                // use native renderer for image export (this might fail)\n                renderImageNative();\n            }\n\n            function imageRendered() {\n                var imageDataUrl = canvas.toDataURL(options.type);\n\n                if (browser.createsObjectUrls) {\n                    var imageBlob = dataUrlToBlob(imageDataUrl);\n\n                    var domUrl = root.URL || root.webkitURL;\n                    var objectUrl = domUrl.createObjectURL(imageBlob);\n\n                    dataUrlCreated(objectUrl, imageBlob, function () {\n                        domUrl.revokeObjectURL(objectUrl);\n                    });\n                } else {\n                    dataUrlCreated(imageDataUrl, null, function () {});\n                }\n            }\n\n            function renderImageNative() {\n                var svgImg = new Image();\n                svgImg.src = encodeBase64DataUrl(svgXml);\n\n                svgImg.onload = function () {\n                    canvas.width = svgImg.width;\n                    canvas.height = svgImg.height;\n\n                    if (options.backgroundColor) {\n                        context.fillStyle = options.backgroundColor;\n                        context.fillRect(0, 0, svgImg.width, svgImg.height);\n                    }\n\n                    context.drawImage(svgImg, 0, 0);\n\n                    imageRendered();\n                };\n\n                svgImg.onerror = function () {\n                    throw new Error('Cannot export image');\n                };\n            }\n\n            function renderImageCanvg() {\n                // note that Canvg gets the SVG element dimensions incorrectly if not specified as attributes\n                // also this Canvg call is synchronous and blocks\n                canvg(canvas, svgXml, {\n                    ignoreMouse: true,\n                    ignoreAnimation: true,\n                    offsetX: undefined,\n                    offsetY: undefined,\n                    scaleWidth: undefined,\n                    scaleHeight: undefined,\n                    renderCallback: imageRendered\n                });\n            }\n        }\n    }\n\n    // clone SVG in isolation with styles directly applied\n    function createSvgClone(svgNode, svgCloned) {\n        createIsolatedNode(function (nodeClone, destroyIsolatedNode) {\n            // clone nodes and apply styles directly to each node\n            cloneNodes(svgNode, nodeClone);\n\n            // clone legend DIV as SVG\n            cloneLegendDiv(svgNode, nodeClone);\n\n            svgCloned(d3.select(nodeClone).select('svg').node(), destroyIsolatedNode);\n        });\n\n        // compare computed styles at this node and apply the differences directly\n        function applyStyles(sourceNode, targetNode) {\n            var sourceStyle = root.getComputedStyle(sourceNode);\n            var targetStyle = root.getComputedStyle(targetNode);\n\n            for (var prop in sourceStyle) {\n                if (!cssIgnoreDiff[prop] && !isFinite(prop)) {\n                    // note that checking for sourceStyle.hasOwnProperty(prop) eliminates all valid style properties in Firefox\n                    if (targetStyle[prop] !== sourceStyle[prop]) {\n                        targetNode.style[prop] = sourceStyle[prop];\n                    }\n                }\n            }\n        }\n\n        // clone nodes and apply styles directly to each node\n        function cloneNodes(sourceNode, targetNode) {\n            var newNode = sourceNode.cloneNode(false);\n            targetNode.appendChild(newNode);\n\n            if (!sourceNode.tagName) return; // skip inner text\n\n            // compare computed styles at this node and apply the differences directly\n            applyStyles(sourceNode, newNode);\n\n            [].forEach.call(sourceNode.childNodes, function (childNode) {\n                // clone each child node and apply styles\n                cloneNodes(childNode, newNode);\n            });\n        }\n\n        function createIsolatedNode(nodeLoaded) {\n            var iframe = document.body.appendChild(document.createElement('iframe'));\n            iframe.style.visibility = 'hidden';\n            var iframeWindow = iframe.contentWindow;\n            var iframeDocument = iframeWindow.document;\n\n            iframe.onload = function () {\n                var nodeClone = iframeDocument.createElement('div');\n                iframeDocument.body.appendChild(nodeClone);\n\n                var destroyIframe = function destroyIframe() {\n                    // destroy clone\n                    iframeDocument.body.removeChild(nodeClone);\n                    document.body.removeChild(iframe);\n                };\n\n                nodeLoaded(nodeClone, destroyIframe);\n            };\n\n            iframeDocument.open();\n            iframeDocument.write('<!DOCTYPE html>');\n            iframeDocument.write('<html><head></head><body></body></html>');\n            iframeDocument.close();\n        }\n\n        function applyDivStylesToSvg(sourceNode, target) {\n            var targetNode = target.node();\n            var sourceStyle = root.getComputedStyle(sourceNode);\n            var targetStyle = root.getComputedStyle(targetNode);\n\n            for (var prop in sourceStyle) {\n                if (cssSharedSvg[prop]) {\n                    // note that checking for sourceStyle.hasOwnProperty(prop) eliminates all valid style properties in Firefox\n                    if (targetStyle[prop] !== sourceStyle[prop]) {\n                        targetNode.style[prop] = sourceStyle[prop];\n                    }\n                }\n            }\n\n            // translate DIV styles to SVG attributes and styles\n            switch (targetNode.nodeName) {\n                case 'rect':\n                    target.attr({\n                        'rx': sourceStyle.borderTopLeftRadius,\n                        'ry': sourceStyle.borderTopLeftRadius\n                    });\n                    target.style({\n                        'fill': sourceStyle.backgroundColor,\n                        'stroke': sourceStyle.borderLeftColor,\n                        'stroke-width': sourceStyle.borderLeftWidth\n                    });\n                    break;\n                case 'text':\n                    target.style({\n                        'fill': sourceStyle.color\n                    });\n                    break;\n            }\n        }\n\n        function cloneLegendDiv(sourceNode, targetNode) {\n            var containerDiv = d3.select(sourceNode.parentNode).select('div.contour-legend');\n            if (containerDiv.empty()) return;\n\n            var containerDivNode = containerDiv.node();\n\n            var containerSvg = d3.select(targetNode).select('svg').append('g').attr('transform', 'translate(' + (containerDivNode.offsetLeft + containerDivNode.clientLeft) + ',' + (containerDivNode.offsetTop + containerDivNode.clientTop) + ')');\n            applyDivStylesToSvg(containerDivNode, containerSvg);\n\n            var rect = containerSvg.append('rect').attr('width', containerDivNode.clientWidth).attr('height', containerDivNode.clientHeight);\n            applyDivStylesToSvg(containerDivNode, rect);\n\n            var entriesDivs = containerDiv.selectAll('.contour-legend-entry');\n\n            entriesDivs[0].forEach(function (entryDivNode) {\n                var entryDiv = d3.select(entryDivNode);\n\n                var enter = containerSvg.append('g');\n                applyDivStylesToSvg(entryDivNode, enter);\n\n                var entryDivKeyNode = getEntryDivSubNode('.contour-legend-key');\n                var swatch = enter.append('rect').attr('x', entryDivKeyNode.offsetLeft).attr('y', entryDivKeyNode.offsetTop).attr('width', entryDivKeyNode.offsetWidth - 2).attr('height', entryDivKeyNode.offsetHeight - 2);\n                applyDivStylesToSvg(entryDivKeyNode, swatch);\n\n                var entryDivSeriesNode = getEntryDivSubNode('.series-name');\n                var text = enter.append('text').attr('x', entryDivSeriesNode.offsetLeft + 1).attr('y', entryDivSeriesNode.offsetTop + entryDivSeriesNode.offsetHeight - entryDivSeriesNode.offsetParent.clientTop - 2).text(entryDivSeriesNode.textContent);\n                applyDivStylesToSvg(entryDivSeriesNode, text);\n\n                function getEntryDivSubNode(selector) {\n                    return entryDiv.select(selector).node();\n                }\n            });\n        }\n    }\n\n    function getProportionedBounds(original, specified) {\n        if (specified.width && specified.height) {\n            return specified;\n        } else if (specified.width) {\n            return {\n                width: specified.width,\n                height: specified.width * original.height / original.width\n            };\n        } else if (specified.height) {\n            return {\n                width: specified.height * original.width / original.height,\n                height: specified.height\n            };\n        } else {\n            return original;\n        }\n    }\n\n    function exportImage(container, options, exporter) {\n        startWork();\n\n        // merge configuration options with defaults\n        options = options || {};\n        nwt.defaults(options, defaultParams);\n\n        var svgNode = container.select('svg').node();\n        // get bounds from original SVG, and proportion them based on specified options\n        var bounds = svgNode.getBoundingClientRect();\n        var boundsClone = getProportionedBounds(bounds, options);\n\n        // clone SVG in isolation with styles directly applied\n        createSvgClone(svgNode, performExport);\n\n        function performExport(svgNodeClone, destroySvgClone) {\n            svgNodeClone.setAttribute('width', boundsClone.width);\n            svgNodeClone.setAttribute('height', boundsClone.height);\n\n            // Safari can only open a new tab with the image\n            // the tab must be opened before `getSvgDataUrl()` to avoid getting blocked due to asynchronous callbacks\n            var win;\n            if (exporter === 'download' && !(browser.aDownloads || browser.savesMsBlobs)) {\n                win = root.open();\n            }\n\n            getSvgDataUrl(svgNodeClone, options, function (url, blob, revokeUrl) {\n                destroySvgClone();\n\n                // exporter functions\n                var exporters = {\n                    'download': function download() {\n                        if (browser.aDownloads) {\n                            // make a link to download and click it\n                            var a = document.createElement('a');\n                            a.download = options.fileName;\n                            a.href = url;\n                            document.body.appendChild(a);\n                            a.click();\n                            document.body.removeChild(a);\n                        } else if (browser.savesMsBlobs && blob) {\n                            // IE10-11 support a method to save/open a blob\n                            navigator.msSaveOrOpenBlob(blob, options.fileName);\n                        } else {\n                            // Safari and IE9 can only open a new tab with the image\n                            if (!win) {\n                                // in case `blob` was falsy or the `open()` above returned undefined, `win` will be undefined, so attempt here (and this might return undefined as well)\n                                win = root.open();\n                            }\n                            if (win) {\n                                if (browser.createsObjectUrls) {\n                                    // Safari can set the url of the newly-opened tab to the object URL of the blob\n                                    win.location = url;\n                                } else {\n                                    // for IE9, create a document with the image\n                                    var doc = win.document;\n                                    doc.write('<!DOCTYPE html>');\n                                    doc.write('<html><head></head><body>');\n                                    doc.write('<img src=\"' + url + '\">');\n                                    doc.write('</body></html>');\n                                }\n                            }\n                        }\n                        // wait for download to start\n                        setTimeout(function () {\n                            revokeUrl();\n                            finishWork();\n                        }, 1);\n                    },\n                    'place': function place() {\n                        var img = document.createElement('img');\n                        img.onload = function () {\n                            revokeUrl();\n                            finishWork();\n                        };\n                        img.src = url;\n                        d3.select(options.target).node().appendChild(img);\n                    }\n                };\n                // call exporter function\n                exporters[exporter]();\n            });\n        }\n    }\n};\n\n// queue functions\n\n// queue will wait until any asynchronous tasks are complete prior to calling the next fn()\nfunction addToQueue(fn) {\n    if (working) {\n        queue.push(fn);\n    } else {\n        fn();\n    }\n}\n\n// call before starting an asynchronous task\nfunction startWork() {\n    working = true;\n}\n\n// call after finishing an asynchronous task\nfunction finishWork() {\n    working = false;\n\n    var fn = queue.shift();\n    if (fn) {\n        fn();\n    }\n}\n\n// check browser capabilities and set up necessary shims\nfunction checkBrowser() {\n    startWork();\n    browser.checked = true;\n\n    checkEncodesBase64();\n    checkADownloads();\n    checkSavesMsBlobs();\n    checkCreatesObjectUrls();\n    checkExportsSvg(finishWork);\n\n    function checkEncodesBase64() {\n        browser.encodesBase64 = !!root.btoa;\n\n        // setup shim for IE9\n        if (!browser.encodesBase64) {\n            setupBase64Shim();\n        }\n    }\n\n    function checkADownloads() {\n        browser.aDownloads = document.createElement('a').download !== undefined;\n    }\n\n    function checkSavesMsBlobs() {\n        browser.savesMsBlobs = !!navigator.msSaveOrOpenBlob;\n    }\n\n    function checkCreatesObjectUrls() {\n        var domUrl = root.URL || root.webkitURL;\n        browser.createsObjectUrls = domUrl && domUrl.createObjectURL;\n    }\n\n    function checkExportsSvg() {\n        startWork();\n\n        browser.exportsSvg = false;\n\n        var iframe = document.body.appendChild(document.createElement('iframe'));\n        iframe.style.visibility = 'hidden';\n        var doc = iframe.contentWindow.document;\n\n        iframe.onload = function () {\n            try {\n                var svg = doc.querySelector('svg');\n                var img = doc.querySelector('img');\n                var canvas = doc.querySelector('canvas');\n                var context = canvas.getContext('2d');\n                canvas.width = img.getAttribute('width') * 1;\n                canvas.height = img.getAttribute('height') * 1;\n                var sourceImg = new Image();\n                sourceImg.width = canvas.width;\n                sourceImg.height = canvas.height;\n                sourceImg.onload = function () {\n                    try {\n                        context.drawImage(sourceImg, 0, 0, img.width, img.height);\n                        img.src = canvas.toDataURL();\n\n                        browser.exportsSvg = true; // yay\n                    } catch (e) {}\n\n                    svgExportChecked();\n                };\n                var xml = new XMLSerializer().serializeToString(svg);\n                sourceImg.src = 'data:image/svg+xml,' + encodeURIComponent(xml);\n            } catch (e) {\n                svgExportChecked();\n            }\n        };\n\n        doc.open();\n        doc.write('<!DOCTYPE html>');\n        doc.write('<html><head></head><body>');\n        doc.write('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"2\" height=\"2\" viewBox=\"0 0 1 1\"><circle r=\"1\" fill=\"red\"/></svg>');\n        doc.write('<img width=\"2\" height=\"2\">');\n        doc.write('<canvas></canvas>');\n        doc.write('</body></html>');\n        doc.close();\n\n        function svgExportChecked() {\n            document.body.removeChild(iframe);\n\n            // load Canvg SVG renderer for browsers that can't safely export SVG\n            if (browser.exportsSvg) {\n                finishWork();\n            } else {\n                setupCanvgShim(finishWork);\n            }\n        }\n    }\n\n    // base64 shim, for IE9\n    function setupBase64Shim() {\n        var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n        function InvalidCharacterError(message) {\n            this.message = message;\n        }\n        InvalidCharacterError.prototype = new Error();\n        InvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n        // base64 encoder\n        // from https://gist.github.com/999166\n        root.btoa = function (input) {\n            var str = String(input);\n            for (\n            // initialize result and counter\n            var block, charCode, idx = 0, map = chars, output = '';\n            // if the next str index does not exist:\n            //   change the mapping table to \"=\"\n            //   check if d has no fractional digits\n            str.charAt(idx | 0) || (map = '=', idx % 1);\n            // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n            output += map.charAt(63 & block >> 8 - idx % 1 * 8)) {\n                charCode = str.charCodeAt(idx += 3 / 4);\n                if (charCode > 0xFF) {\n                    throw new InvalidCharacterError('\"btoa\" failed: The string to be encoded contains characters outside of the Latin1 range.');\n                }\n                block = block << 8 | charCode;\n            }\n            return output;\n        };\n    }\n\n    // Canvg shim, for IE9-11 and Safari\n    function setupCanvgShim(done) {\n        var scripts = ['rgbcolor.js', 'StackBlur.js', 'canvg.js'];\n        var remaining = scripts.length;\n        scripts.forEach(function (src) {\n            var script = document.createElement('script');\n            script.type = 'text/javascript';\n            script.onload = function () {\n                remaining--;\n                if (remaining === 0) done();\n            };\n            script.src = '//canvg.googlecode.com/svn/trunk/' + src;\n            document.head.appendChild(script);\n        });\n    }\n}\n\n_contour2.default.expose('exportable', exportable);\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _d = __webpack_require__(1);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _contourUtils = __webpack_require__(0);\n\nvar nwt = _interopRequireWildcard(_contourUtils);\n\nvar _contour = __webpack_require__(2);\n\nvar _contour2 = _interopRequireDefault(_contour);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaults = {\n    xAxis: {\n        type: 'linear'\n    },\n    area: {\n        stacked: true,\n        areaBase: undefined,\n        preprocess: nwt.minMaxFilter(1000)\n    }\n};\n\nfunction renderer(data, layer, options) {\n    this.checkDependencies('cartesian');\n    var duration = options.chart.animations.duration != null ? options.chart.animations.duration : 400;\n    var x = function (val) {\n        return this.xScale(val) + this.rangeBand / 2 + 0.5;\n    }.bind(this);\n    var y = function (val) {\n        return this.yScale(val) + 0.5;\n    }.bind(this);\n    var h = options.chart.plotHeight;\n    var classFn = function classFn(d, i) {\n        return 'series s-' + (i + 1) + ' ' + d.name;\n    };\n    var stack = _d2.default.layout.stack().values(function (d) {\n        return d.data;\n    });\n\n    var startArea = _d2.default.svg.area().x(function (d) {\n        return x(d.x);\n    }).y0(function (d) {\n        return h;\n    }).y1(function (d) {\n        return h;\n    });\n\n    var areaBase = options.area.areaBase != null ? options.area.areaBase : options.yAxis.min;\n    var area = _d2.default.svg.area().x(function (d) {\n        return x(d.x);\n    }).y0(function (d) {\n        return options.area.stacked ? y(d.y0 || areaBase || 0) : y(0);\n    }).y1(function (d) {\n        return y((options.area.stacked ? d.y0 : 0) + d.y);\n    });\n\n    if (options.area.smooth) {\n        area.interpolate('cardinal');\n        startArea.interpolate('cardinal');\n    }\n\n    renderSeries();\n\n    if (options.tooltip && options.tooltip.enable) renderTooltipTrackers();\n\n    function renderSeries() {\n        data = options.area.preprocess(data);\n\n        var series = layer.selectAll('g.series').data(stack(data));\n\n        series.enter().append('svg:g').attr('class', classFn).append('path').datum(function (d) {\n            return d.data;\n        }).attr('class', 'area').attr('d', startArea);\n\n        series.exit().remove();\n\n        if (options.chart.animations && options.chart.animations.enable) {\n            series.select('.area').datum(function (d) {\n                return d.data;\n            }).transition().duration(options.chart.animations.duration || duration).attr('d', area);\n        } else {\n            series.select('.area').datum(function (d) {\n                return d.data;\n            }).attr('d', area);\n        }\n    }\n\n    function renderTooltipTrackers() {\n        var trackerSize = 10;\n        // add the tooltip trackers regardless\n        var markers = layer.selectAll('.tooltip-trackers').data(data, function (d) {\n            return d.name;\n        });\n\n        markers.enter().append('g').attr('class', 'tooltip-trackers');\n\n        markers.exit().remove();\n\n        var blocks = markers.selectAll('.tooltip-tracker').data(function (d) {\n            return d.data;\n        }, function (d, i) {\n            return [d.x, d.y, d.y0].join('&');\n        });\n\n        blocks.enter().append('rect').attr('class', 'tooltip-tracker').attr('opacity', 0).attr('width', trackerSize * 2);\n\n        blocks.attr('x', function (d) {\n            return x(d.x) - trackerSize;\n        }).attr('y', function (d) {\n            return y((options.area.stacked ? d.y0 : 0) + d.y);\n        }).attr('height', function (d) {\n            return y(0) - y(d.y);\n        });\n\n        blocks.exit().remove();\n    }\n}\n\nrenderer.defaults = defaults;\n\n/**\n* Adds an area chart to the Contour instance.\n*\n* Area charts are stacked by default when the _data_ includes multiple series.\n*\n* This visualization requires `.cartesian()`.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*           .cartesian()\n*           .area([1,2,3,4])\n*           .render();\n*\n* @name area(data, options)\n* @param {object|array} data The _data series_ to be rendered with this visualization. This can be in any of the supported formats.\n* @param {object} [options] Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n*/\n_contour2.default.export('area', renderer);\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _d = __webpack_require__(1);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _contourUtils = __webpack_require__(0);\n\nvar nwt = _interopRequireWildcard(_contourUtils);\n\nvar _contour = __webpack_require__(2);\n\nvar _contour2 = _interopRequireDefault(_contour);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaults = {\n    bar: {\n        barClass: null,\n        style: null,\n        stacked: false,\n        groupPadding: 2, // two px between same group bars\n        barWidth: function barWidth() {\n            return this.rangeBand;\n        },\n        offset: function offset() {\n            return 0;\n        },\n        preprocess: function preprocess(data) {\n            return data;\n        }\n    }\n};\n\nfunction barRender(data, layer, options) {\n    this.checkDependencies(['cartesian', 'horizontal']);\n    var duration = options.chart.animations.duration != null ? options.chart.animations.duration : 400;\n    var _this = this;\n    var opt = options.bar;\n    var rectClass = opt.barClass;\n    var style = opt.style;\n    var x = function x(d) {\n        return _this.xScale(d) - 0.5;\n    };\n    var y = function y(d) {\n        return _this.yScale(d) + 0.5;\n    };\n    var chartOffset = nwt.getValue(opt.offset, 0, this);\n    var rangeBand = nwt.getValue(opt.barWidth, this.rangeBand, this);\n    var stack = nwt.stackLayout();\n    var update = options.bar.stacked ? stacked : grouped;\n    var enter = nwt.partialRight(update, true);\n    var classFn = function classFn(d, i) {\n        return 'series s-' + (i + 1) + ' ' + d.name;\n    };\n\n    data = options.bar.preprocess(data);\n    var series = layer.selectAll('g.series').data(stack(data));\n\n    series.enter().append('svg:g').attr('class', classFn);\n\n    series.exit().remove();\n\n    var bars = series.selectAll('.bar').data(function (d) {\n        return d.data;\n    });\n\n    var cssClass = 'bar' + (options.tooltip.enable ? ' tooltip-tracker' : '');\n    bars.enter().append('rect').attr('class', function (d, i, j) {\n        if (!rectClass) return cssClass;\n\n        return cssClass + ' ' + (typeof rectClass === 'function' ? rectClass.call(this, d, i, j) : rectClass);\n    }).call(enter);\n\n    if (options.chart.animations && options.chart.animations.enable) {\n        bars.attr('style', style).transition().duration(duration).call(update);\n        bars.exit().transition().duration(duration).attr('width', y(0)).remove();\n    } else {\n        bars.attr('style', style).call(update);\n        bars.exit().remove();\n    }\n\n    function stacked(bar, enter) {\n        bar.attr('y', function (d) {\n            return x(d.x) + chartOffset;\n        }).attr('height', rangeBand);\n\n        if (enter) {\n            return bar.attr('x', function (d) {\n                return y(0);\n            }).attr('width', function (d) {\n                return 0;\n            });\n        } else {\n            return bar.attr('x', function (d) {\n                return d.y >= 0 ? y(d.y0 || 0) : y(d.y + d.y0);\n            }).attr('width', function (d) {\n                return d.y >= 0 ? y(d.y) - y(0) : y(0) - y(d.y);\n            });\n        }\n    }\n\n    function grouped(bar, enter) {\n        var numSeries = data.length;\n        var height = function height() {\n            return rangeBand / numSeries - options.bar.groupPadding + 0.5;\n        };\n        var offset = function offset(d, i) {\n            return rangeBand / numSeries * i + 0.5;\n        };\n\n        bar.attr('y', function (d, i, j) {\n            return x(d.x) + offset(d, j) + chartOffset;\n        }).attr('x', y(0)).attr('height', height);\n\n        if (enter) {\n            return bar.attr('width', function (d) {\n                return 0.5;\n            });\n        } else {\n            return bar.attr('width', function (d) {\n                return d.y >= 0 ? y(d.y) - y(0) : y(0) - y(d.y);\n            }).attr('x', function (d) {\n                return d.y < 0 ? y(d.y) : y(0);\n            });\n        }\n    }\n}\n\nbarRender.defaults = defaults;\n/**\n* Adds a bar chart (horizontal columns) to the Contour instance.\n*\n* You can use this visualization to render both stacked and grouped charts (controlled through the _options_).\n*\n* This visualization requires `.cartesian()` and `.horizontal()`.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*       .cartesian()\n*       .horizontal()\n*       .bar([1,2,3,4])\n*       .render();\n*\n* @name bar(data, options)\n* @param {object|array} data The _data series_ to be rendered with this visualization. This can be in any of the supported formats.\n* @param {object} [options] Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n*/\n_contour2.default.export('bar', barRender);\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _d = __webpack_require__(1);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _contourUtils = __webpack_require__(0);\n\nvar nwt = _interopRequireWildcard(_contourUtils);\n\nvar _contour = __webpack_require__(2);\n\nvar _contour2 = _interopRequireDefault(_contour);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaults = {\n    column: {\n        // specifies a class string or function that will be added to each column\n        columnClass: null,\n        style: null,\n        stacked: false,\n        groupPadding: 1,\n        columnWidth: function columnWidth() {\n            return this.rangeBand;\n        },\n        offset: function offset() {\n            return 0;\n        }\n    }\n};\n\nfunction render(data, layer, options) {\n    this.checkDependencies('cartesian');\n    var duration = options.chart.animations.duration != null ? options.chart.animations.duration : 400;\n    var opt = options.column;\n    var h = options.chart.plotHeight;\n    var rectClass = options.column.columnClass;\n    var rectStyle = options.column.style;\n    var _this = this;\n    var x = function x(v) {\n        return Math.round(_this.xScale(v)) + 0.5;\n    };\n    var y = function y(v) {\n        return Math.round(_this.yScale(v)) - 0.5;\n    };\n    var dataKey = function dataKey(d) {\n        return d.data;\n    };\n    var chartOffset = nwt.getValue(opt.offset, 0, this);\n    var rangeBand = nwt.getValue(opt.columnWidth, this.rangeBand, this);\n    var enter = nwt.partialRight(options.column.stacked ? stacked : grouped, true);\n    var update = options.column.stacked ? stacked : grouped;\n    var filteredData = data.map(function (series, j) {\n        return {\n            name: series.name,\n            data: series.data.filter(function (d, i) {\n                return i === 0 ? true : x(d.x) !== x(series.data[i - 1].x);\n            })\n        };\n    });\n\n    var stack = nwt.stackLayout();\n    var series = layer.selectAll('g.series').data(stack(filteredData));\n\n    series.enter().append('g').attr('class', function (d, i) {\n        return 'series s-' + (i + 1) + ' ' + d.name;\n    });\n\n    series.exit().remove();\n\n    var cols = series.selectAll('.column').data(dataKey, function (d) {\n        return d.x || d;\n    });\n\n    var cssClass = 'column' + (options.tooltip.enable ? ' tooltip-tracker' : '');\n\n    cols.enter().append('rect').attr('class', function (d, i, j) {\n        if (!rectClass) return cssClass;\n\n        return cssClass + ' ' + (typeof rectClass === 'function' ? rectClass.call(this, d, i, j) : rectClass);\n    }).call(enter);\n\n    if (options.chart.animations && options.chart.animations.enable) {\n        cols.exit().transition().duration(duration).attr('y', h).attr('height', function () {\n            return 0.5;\n        }).remove();\n        cols.transition().duration(duration).call(update);\n    } else {\n        cols.exit().remove();\n        cols.call(update);\n    }\n\n    // for every update\n    cols.attr('style', rectStyle);\n\n    function stacked(col, enter) {\n        var base = y(0);\n\n        col.attr('x', function (d) {\n            return x(d.x) + chartOffset;\n        }).attr('width', function () {\n            return rangeBand;\n        });\n\n        if (enter) {\n            col.attr('y', function (d) {\n                return d.y >= 0 ? base : base;\n            }).attr('height', function (d) {\n                return 0.5;\n            });\n        } else {\n            col.attr('y', function (d) {\n                return d.y >= 0 ? y(d.y) + y(d.y0) - base : y(d.y0);\n            }).attr('height', function (d) {\n                return d.y >= 0 ? base - y(d.y) : y(d.y) - base;\n            });\n        }\n    }\n\n    function grouped(col, enter) {\n        var width = rangeBand / data.length - opt.groupPadding + 0.5;\n        var offset = function offset(d, i) {\n            return rangeBand / data.length * i + 0.5;\n        };\n        var base = y(0);\n\n        col.attr('x', function (d, i, j) {\n            return x(d.x) + offset(d, j) + chartOffset;\n        }).attr('width', width);\n\n        if (enter) {\n            col.attr('y', base).attr('height', 0);\n        } else {\n            col.attr('y', function (d) {\n                return d.y >= 0 ? y(d.y) : base;\n            }).attr('height', function (d) {\n                return d.y >= 0 ? base - y(d.y) : y(d.y) - base;\n            });\n        }\n    }\n}\n\nrender.defaults = defaults;\n\n/**\n* Adds a column chart (vertical columns) to the Contour instance.\n*\n* This visualization requires `.cartesian()`.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*           .cartesian()\n*           .column([1,2,3,4])\n*           .render();\n*\n* @name column(data, options)\n* @param {object|array} data The _data series_ to be rendered with this visualization. This can be in any of the supported formats.\n* @param {object} [options] Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n*/\n_contour2.default.export('column', render);\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _d = __webpack_require__(1);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _contourUtils = __webpack_require__(0);\n\nvar nwt = _interopRequireWildcard(_contourUtils);\n\nvar _contour = __webpack_require__(2);\n\nvar _contour2 = _interopRequireDefault(_contour);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_contour2.default.export('coolNarwhal', function (data, layer) {\n    layer.append('path').attr('class', 'cool').attr('opacity', 0).attr('transform', 'scale(.5) translate(500 150)').attr('d', 'M-220.02,76.509l-0.78,8.927c-0.956,10.949,1.389,20.422,6.188,30.383c10.203,21.173,63.095,84.05,93.72,115.075c20.145,20.406,19.487,23.018,21.549,40.122c2.487,20.621,24.897,66.462,40.838,71.269 c15.086,4.549,12.91-12.398,13.319-37.83c5.746,2.457,10.917,5.638,20.206,12.697c61.697,46.892,139.734,69.97,206.5,71.733c46.209,1.221,81.432-7.081,142.957-33.694c40.484-17.512,54.271-22.098,65.639-21.504c4.432,0.232,22.678,11.204,41.746,21.563c35.398,19.229,69.457,34.595,75.896,34.239c12.609-1.457-0.701-11.783-8.072-24.217c-7.049-11.892-15.414-29.572-18.844-42.134s-4.723-22.272-8.91-27.091c-2.143-2.463-12.812-6.786-21.189-8.146c-18.045-2.933-22.191-2.922-13.531-8.957c13.076-9.115,17.377-11.039,1.826-29.068c-6.383-7.402-11.336-20.003-13.709-39.542c-1.607-13.237,1.057-23.679-3.869-27.451s-17.271,12.341-20.846,19.334c-2.01,3.937-7.102,19.005-11.312,33.485c-13.795,47.427-29.865,65.742-62.693,71.447c-34.361,5.971-71.623-9.506-116.543-48.404c-13.164-11.399-29.533-25.26-39.254-36.913c-13.428-16.101-15.48-18.138-19.785-20.66c-16.166-9.472-54.98-31.694-103.525-63.815c-24.393-16.141-57.72-36.928-71.453-43.693c-27.236-13.417-68.416-28.952-90.731-46.771c-24.665-19.697-38.108-19.793-67.804-5.479c-21.429,10.328-23.941,15.298-26.52,15.726c-8.216-10.129-22.917-11.198-31.647-20.682c-9.529-10.35-28.027-14.098-37.824-24.957c-10.668-11.826-31.25-16.752-40.886-26.94c-11.339-11.989-29.387-16.096-40.838-26.637c-11.617-10.694-27.159-14.843-37.68-24.045c-10.383-9.082-23.187-12.538-31.408-19.163c-8.193-6.601-16.593-9.444-22.026-11.993c-5.433-2.549-7.398-2.522-7.658-1.927c-0.26,0.594,1.355,2.955,6.054,6.447c4.699,3.491,22.193,18.451,31.645,22.77c10.921,5.104,17.502,15.01,29.671,21.375c13.224,6.918,22.212,18.731,36.229,25.924c15.53,7.971,24.754,21.184,39.657,28.253c16.462,7.808,25.503,21.598,39.958,28.36c14.499,6.78,20.647,20.252,34.429,23.428C-238.033,58.207-227.932,70.443-220.02,76.509L-220.02,76.509z').transition().delay(300).duration(2000).attr('opacity', 1);\n});\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _d = __webpack_require__(1);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _contourUtils = __webpack_require__(0);\n\nvar nwt = _interopRequireWildcard(_contourUtils);\n\nvar _contour = __webpack_require__(2);\n\nvar _contour2 = _interopRequireDefault(_contour);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaults = {\n    legend: {\n        vAlign: 'middle',\n        hAlign: 'right',\n        direction: 'vertical',\n        enabled: true,\n        formatter: function formatter(d) {\n            return d.name;\n        },\n        el: undefined\n    }\n};\n\nfunction validAlignmentClasses(options) {\n    var classes = [];\n    if (['top', 'middle', 'bottom'].indexOf(options.legend.vAlign) !== -1) {\n        classes.push(options.legend.vAlign);\n    } else {\n        classes.push('top');\n    }\n\n    if (['left', 'center', 'right'].indexOf(options.legend.hAlign) !== -1) {\n        classes.push(options.legend.hAlign);\n    } else {\n        classes.push('right');\n    }\n\n    if (options.legend.direction === 'vertical') {\n        classes.push('vertical');\n    }\n\n    return classes;\n}\n\nfunction Legend(data, layer, options) {\n    if (options.legend.enabled === false) {\n        return;\n    }\n    var container;\n    if (options.legend.el) {\n        container = _d2.default.select(options.legend.el).node();\n        while (container.firstChild) {\n            container.removeChild(container.firstChild);\n        }\n    } else {\n        this.container.selectAll('.contour-legend').remove();\n    }\n    var em = nwt.textBounds('series', '.contour-legend.contour-legend-entry');\n    var count = data.length;\n    var legendHeight = (em.height + 4) * count + 12; // legend has 1px border and 5px margin (12px) and each entry has ~2px margin\n    var mid = (options.chart.plotHeight - legendHeight) / 2;\n    var positioner = function positioner(selection) {\n        // adjust position of legend only when is horizontally centered\n        // since we need to have all elements in the legend to calculate its width\n        if (options.legend.hAlign !== 'center' || !selection.length) {\n            return;\n        }\n\n        // adjust the left\n        var legendWidth = selection[0].parentNode.clientWidth;\n        var left = (options.chart.plotWidth - legendWidth) / 2 + options.chart.internalPadding.left;\n\n        _d2.default.select(selection[0].parentNode).style('left', left + 'px');\n    };\n\n    if (options.legend.el) {\n        container = _d2.default.select(options.legend.el);\n    } else {\n        var legend = this.container.selectAll('.contour-legend').data([null]);\n        container = legend.enter().append('div');\n    }\n\n    container.attr('class', function () {\n        return ['contour-legend'].concat(validAlignmentClasses(options)).join(' ');\n    });\n\n    container.attr('style', function () {\n        var styles = [];\n\n        if (options.legend.vAlign === 'top') {\n            styles.push('top: 0');\n        } else if (options.legend.vAlign === 'middle') {\n            styles.push('top: ' + mid + 'px');\n        } else {\n            styles.push('bottom: ' + (options.chart.internalPadding.bottom + 5) + 'px');\n        }\n\n        if (options.legend.hAlign === 'left') {\n            styles.push('left: ' + options.chart.plotLeft + 'px');\n        } else if (options.legend.hAlign === 'center') {\n            var bounds = nwt.textBounds(this, '.contour-legend');\n\n            styles.push('left: ' + ((options.chart.plotWidth - bounds.width) / 2 + options.chart.internalPadding.left) + 'px');\n        } else {\n            styles.push('right: 10px');\n        }\n\n        return styles.join(';');\n    });\n\n    var entries = container.selectAll('.contour-legend-entry').data(data);\n\n    entries.enter().append('div').attr('class', function () {\n        return 'contour-legend-entry';\n    });\n\n    entries.append('span').attr('class', function (d, i) {\n        return 'contour-legend-key series s-' + (i + 1) + ' ' + nwt.seriesNameToClass(d.name);\n    });\n\n    entries.append('span').attr('class', 'series-name').text(options.legend.formatter).call(positioner);\n\n    entries.exit().remove();\n}\n\nLegend.defaults = defaults;\n\n/**\n* Adds a legend to the Contour instance. One entry is added to the legend for each series in the data.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*           .cartesian()\n*           .column(data)\n*           .legend(data)\n*           .render();\n*\n* @name legend(data, options)\n* @param {object|array} data The _data series_ for which to create a legend. This can be in any of the supported formats.\n* @param {object} [options] Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n*/\n\n_contour2.default.export('legend', Legend);\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _d = __webpack_require__(1);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _contourUtils = __webpack_require__(0);\n\nvar nwt = _interopRequireWildcard(_contourUtils);\n\nvar _contour = __webpack_require__(2);\n\nvar _contour2 = _interopRequireDefault(_contour);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaults = {\n    xAxis: {\n        type: 'linear'\n    },\n    line: {\n        stacked: false,\n        smooth: false,\n        animationDirection: 'left-to-right',\n        // animationDirection: 'bottom-to-top',\n        marker: {\n            enable: true,\n            size: 3,\n            animationDelay: null\n        },\n        preprocess: nwt.minMaxFilter(1000)\n    }\n};\n\nvar duration;\nvar animationDirection;\nvar animationsMap = {\n    'left-to-right': {\n        enter: function enter(line) {\n            var path = this;\n            path.each(function () {\n                var totalLength = this.getTotalLength();\n                _d2.default.select(this).attr('stroke-dasharray', totalLength + ' ' + totalLength).attr('stroke-dashoffset', totalLength).transition().duration(duration).ease('linear').attr('stroke-dashoffset', 0).transition().duration(0).attr('stroke-dasharray', undefined);\n            });\n        },\n\n        update: function update(line) {\n            this.attr('d', function (d) {\n                return line(d.data);\n            });\n            this.each(function () {\n                var totalLength = this.getTotalLength();\n                _d2.default.select(this).attr('stroke-dasharray', totalLength + ' ' + totalLength).attr('stroke-dashoffset', totalLength).transition().duration(duration).ease('linear').attr('stroke-dashoffset', 0).transition().duration(0).attr('stroke-dasharray', undefined);\n            });\n        }\n    },\n\n    'bottom-to-top': {\n        enter: function enter(line) {\n            this.transition().duration(duration).attr('d', function (d) {\n                return line(d.data);\n            });\n        },\n\n        update: function update(line) {\n            this.transition().duration(duration).attr('d', function (d) {\n                return line(d.data);\n            });\n        }\n    }\n};\n\nfunction render(rawData, layer, options, id) {\n    this.checkDependencies('cartesian');\n\n    var x = function (d) {\n        return this.xScale(d.x) + this.rangeBand / 2 + 0.5;\n    }.bind(this);\n    var y = function (d) {\n        return this.yScale(d.y + (d.y0 || 0)) + 0.5;\n    }.bind(this);\n    var shouldAnimate = options.chart.animations && options.chart.animations.enable;\n    animationDirection = options.line.animationDirection || 'left-to-right';\n    duration = options.chart.animations.duration != null ? options.chart.animations.duration : 400;\n    // jshint eqnull:true\n    var data = options.line.preprocess(nwt.cleanNullValues()(rawData));\n\n    data = options.line.stacked ? _d2.default.layout.stack().values(function (d) {\n        return d.data;\n    })(data) : data;\n\n    renderPaths();\n\n    renderMarkers(options.line.marker.enable);\n\n    renderTooltipTrackers(options.tooltip && options.tooltip.enable);\n\n    function seriesClassName(extras) {\n        return function (d, i) {\n            return (extras || '') + ' s-' + (i + 1) + ' ' + nwt.seriesNameToClass(d.name);\n        };\n    }\n\n    function renderPaths() {\n        var startLine = _d2.default.svg.line().x(function (d) {\n            return x(d);\n        }).y(function () {\n            return y({ x: 0, y: options.yAxis.min || 0 });\n        });\n\n        var line = _d2.default.svg.line().x(function (d) {\n            return x(d);\n        }).y(function (d) {\n            return y(d);\n        });\n\n        if (options.line.smooth) line.interpolate('cardinal');\n\n        var animFn = animationsMap[animationDirection];\n        var series = layer.selectAll('g.series').data(data, function (d) {\n            return d.name;\n        });\n\n        // enter\n        var el = series.enter().append('svg:g').attr('class', seriesClassName('series')).attr('clip-path', 'url(#clip)').append('path').attr('class', 'line');\n\n        if (shouldAnimate) {\n            var startLineFn = animationDirection === 'left-to-right' ? line : startLine;\n            el.attr('d', function (d) {\n                return startLineFn(d.data);\n            }).call(nwt.partial(animFn.enter, line));\n        } else {\n            el.attr('d', function (d) {\n                return line(d.data);\n            });\n        }\n\n        // update\n        el = series.attr('class', seriesClassName('series')).select('.line');\n\n        if (shouldAnimate) {\n            el.call(nwt.partial(animFn.update, line));\n        } else {\n            el.attr('d', function (d) {\n                return line(d.data);\n            });\n        }\n\n        // remove\n        if (shouldAnimate) {\n            series.exit().remove();\n        } else {\n            series.exit().remove();\n        }\n    }\n\n    function renderMarkers(enabled) {\n        var animationDelay = options.line.marker.animationDelay == null ? duration : options.line.marker.animationDelay;\n        var markers = layer.selectAll('.line-chart-markers').data(enabled ? data : [], function (d) {\n            return d.name;\n        });\n        markers.enter().append('g').attr('class', seriesClassName('line-chart-markers markers'));\n\n        markers.attr('class', seriesClassName('line-chart-markers markers'));\n\n        markers.exit().remove();\n\n        var dots = markers.selectAll('.dot').data(function (d) {\n            return d.data;\n        }, function (d) {\n            return d.x;\n        });\n\n        if (shouldAnimate) {\n            dots.transition().delay(animationDelay).duration(duration).attr('cx', x).attr('cy', y).attr('opacity', 1);\n        } else {\n            dots.attr('cx', x).attr('cy', y).attr('opacity', 1);\n        }\n\n        dots.enter().append('circle').attr('class', 'dot').attr('r', options.line.marker.size).attr('opacity', 0).attr('cx', x).attr('cy', y).transition().delay(animationDelay).attr('opacity', 1);\n\n        dots.exit().remove();\n    }\n\n    function renderTooltipTrackers(enabled) {\n        var trackerSize = 10;\n        var markers = layer.selectAll('.tooltip-trackers').data(enabled ? data : [], function (d) {\n            return d.name;\n        });\n\n        markers.enter().append('g').attr('class', seriesClassName('tooltip-trackers'));\n\n        markers.exit().remove();\n\n        var dots = markers.selectAll('.tooltip-tracker').data(function (d) {\n            return d.data;\n        }, function (d) {\n            return d.x;\n        });\n\n        dots.enter().append('circle').attr({\n            'class': 'tooltip-tracker',\n            'r': trackerSize,\n            'opacity': 0\n        });\n\n        dots.attr({\n            'cx': x,\n            'cy': y\n        });\n\n        dots.exit().remove();\n    }\n\n    return this;\n}\n\nrender.defaults = defaults;\n\n/**\n* Adds a line chart to the Contour instance.\n*\n* This visualization requires `.cartesian()`.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*           .cartesian()\n*           .line([1,2,3,4])\n*           .render();\n*\n* @name line(data, options)\n* @param {object|array} data The _data series_ to be rendered with this visualization. This can be in any of the supported formats.\n* @param {object} [options] Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n*/\n_contour2.default.export('line', render);\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _contourUtils = __webpack_require__(0);\n\nvar _contour = __webpack_require__(2);\n\nvar _contour2 = _interopRequireDefault(_contour);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_contour2.default.export('nullVis', _contourUtils.noop);\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _d = __webpack_require__(1);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _contourUtils = __webpack_require__(0);\n\nvar nwt = _interopRequireWildcard(_contourUtils);\n\nvar _contour = __webpack_require__(2);\n\nvar _contour2 = _interopRequireDefault(_contour);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaults = {\n    pie: {\n        sliceClass: null,\n\n        style: null,\n\n        piePadding: {\n            left: null,\n            top: null,\n            right: null,\n            bottom: null\n        },\n\n        // inner and outer radius can be numbers of pixels if >= 1, percentage if > 0 && < 1 or functions\n\n        // inner radius as function will recive the outerRadius as parameter\n        // passing a value between 0 and 1 (non-inclusing), this value is interpreted as % of radius\n        // ie. outerRadius: 100, innerRadius: .8 would give a inner radius or 80 pixles\n        innerRadius: null,\n\n        // outer radius as function will recieve the proposed maximum radius for a pie\n        // passing a value between 0 and 1 (non-inclusing), this value is interpreted as % of width\n        // the default behavior is 50% of the mininum between with and height of the container (adjusted for padding)\n        outerRadius: null\n    }\n};\n\nfunction normalizePadding(options) {\n    if (nwt.isNumber(options.pie.piePadding)) {\n        return {\n            top: options.pie.piePadding,\n            left: options.pie.piePadding,\n            right: options.pie.piePadding,\n            bottom: options.pie.piePadding\n        };\n    }\n\n    return options.pie.piePadding;\n}\n\nfunction clampBounds(bounds, maxWidth, maxHeight) {\n    return {\n        top: nwt.clamp(bounds.top, 0, maxHeight),\n        bottom: nwt.clamp(bounds.bottom, 0, maxHeight),\n        left: nwt.clamp(bounds.left, 0, maxWidth),\n        right: nwt.clamp(bounds.right, 0, maxWidth)\n    };\n}\n\nfunction calcPadding(options) {\n    var padding = normalizePadding(options);\n    var w = options.chart.plotWidth;\n    var h = options.chart.plotHeight;\n\n    return clampBounds(padding, w, h);\n}\n\nfunction resolveValueUnits(value, ref) {\n    // resolve (0,1) interval to a percentage of the reference value\n    // otherwise as a pixel valie\n    return value > 0 && value < 1 ? ref * value : value;\n}\n\nfunction resolvePaddingUnits(padding, w, h) {\n    // if the value of padding is betweem 0 and 1 (non inclusing),\n    // interpret it as a percentage, otherwise as a pixel value\n    return {\n        top: resolveValueUnits(padding.top, h) || 5,\n        bottom: resolveValueUnits(padding.bottom, h) || 5,\n        left: resolveValueUnits(padding.left, w) || 5,\n        right: resolveValueUnits(padding.right, w) || 5\n    };\n}\n\nfunction renderer(data, layer, options) {\n    /*jshint eqnull:true */\n    var duration = options.chart.animations.duration != null ? options.chart.animations.duration : 400;\n    var shouldAnimate = options.chart.animations && options.chart.animations.enable;\n    var w = options.chart.plotWidth,\n        h = options.chart.plotHeight;\n    var padding = calcPadding.call(this, options);\n    var numSeries = data.length;\n    var style = options.pie.style;\n    var _this = this;\n    var shouldCenterX = [options.pie.piePadding.left, options.pie.piePadding.right].every(function (d) {\n        return d == null;\n    });\n    var shouldCenterY = [options.pie.piePadding.top, options.pie.piePadding.bottom].every(function (d) {\n        return d == null;\n    });\n    var pixelPadding = resolvePaddingUnits(padding, w, h);\n    // the reference size is the min between with and height of the container\n    var referenceSize = Math.min(w, h);\n\n    // for auto radius we need to take the min between the available with or height adjusted by padding and num series\n    var totalPadding = pixelPadding.left + (pixelPadding.right + pixelPadding.left) * (numSeries - 1) + pixelPadding.right;\n    var proposedRadius = Math.min((w - totalPadding) / numSeries / 2, (h - pixelPadding.top - pixelPadding.bottom) / 2);\n    var radius = resolveValueUnits(nwt.getValue(options.pie.outerRadius, proposedRadius, this, proposedRadius, referenceSize), referenceSize);\n    // inner radius is a pixel value or % of the radius\n    var innerRadius = resolveValueUnits(nwt.getValue(options.pie.innerRadius, 0, this, radius), radius);\n    var pieData = _d2.default.layout.pie().value(function (d) {\n        return d.y;\n    }).sort(null);\n    var totalWidth = totalPadding + radius * numSeries * 2;\n    var outerPaddingLeft = shouldCenterX ? (w - totalWidth) / 2 : pixelPadding.left;\n    var centerY = h / 2;\n\n    var classFn = function classFn(d, i, j) {\n        var baseClass = 'series arc' + (options.tooltip.enable ? ' tooltip-tracker' : '') + ' s-' + (i + 1) + ' ' + d.data.x;\n\n        if (!options.pie.sliceClass) {\n            return baseClass;\n        }\n\n        return baseClass + ' ' + (typeof options.pie.sliceClass === 'function' ? options.pie.sliceClass.call(_this, d, i, j) : options.pie.sliceClass);\n    };\n\n    var translatePie = function translatePie(d, i) {\n        // calc the left side coord of the pie, including padding for the prevousous pies\n        var offsetX = outerPaddingLeft + (radius * 2 * i + (pixelPadding.right + pixelPadding.left) * i);\n        // calc the center of the pie starting from offsetX\n        var posY = shouldCenterY ? centerY : radius + pixelPadding.top;\n\n        return 'translate(' + (radius + offsetX) + ',' + posY + ')';\n    };\n\n    var pieGroup = layer.selectAll('g.pie-group').data(data);\n\n    pieGroup.enter().append('svg:g').attr('class', 'pie-group').attr('transform', translatePie).call(renderSeries);\n\n    pieGroup.exit().remove();\n\n    if (shouldAnimate) {\n        pieGroup.call(renderSeries).transition().duration(duration / 2).attr('transform', translatePie);\n    } else {\n        pieGroup.call(renderSeries).attr('transform', translatePie);\n    }\n\n    function renderSeries(group) {\n        var arc = _d2.default.svg.arc().outerRadius(radius).innerRadius(innerRadius);\n\n        var startArc = _d2.default.svg.arc().outerRadius(radius).innerRadius(innerRadius).startAngle(0).endAngle(0);\n\n        var pie = group.selectAll('path').data(function (d) {\n            return pieData(d.data);\n        }, function (d) {\n            return d.data.x;\n        });\n\n        pie.enter().append('path').attr('class', classFn).attr('d', function (d) {\n            return startArc(d);\n        }).attr('style', style).each(function (d) {\n            this._current = { startAngle: d.startAngle, endAngle: d.startAngle };\n        });\n\n        if (shouldAnimate) {\n            pie.exit().remove();\n\n            pie.transition().duration(duration).ease('cubic-in').attrTween('d', arcTween);\n        } else {\n            pie.exit().remove();\n            pie.attr('d', arc);\n        }\n\n        // Store the displayed angles in _current.\n        // Then, interpolate from _current to the new angles.\n        // During the transition, _current is updated in-place by d3.interpolate.\n        // from http://bl.ocks.org/mbostock/1346410\n        function arcTween(a) {\n            var i = _d2.default.interpolate(this._current, a);\n            this._current = i(0);\n            return function (t) {\n                return arc(i(t));\n            };\n        }\n    }\n}\n\nrenderer.defaults = defaults;\n\n/**\n* Adds a pie chart to the Contour instance.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*           .pie([1,2,3,4])\n*           .render();\n*\n* @name pie(data, options)\n* @param {object|array} data The _data series_ to be rendered with this visualization. This can be in any of the supported formats. The data elements are summed and then divided. In the example, `.pie([1,2,3,4])` makes four pie slices: 1/10, 2/10, 3/10, and 4/10.\n* @param {object} [options] Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n*/\n_contour2.default.export('pie', renderer);\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _d = __webpack_require__(1);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _contourUtils = __webpack_require__(0);\n\nvar nwt = _interopRequireWildcard(_contourUtils);\n\nvar _contour = __webpack_require__(2);\n\nvar _contour2 = _interopRequireDefault(_contour);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaults = {\n    xAxis: {\n        type: 'linear'\n    },\n    scatter: {\n        radius: 4,\n        preprocess: function preprocess(data) {\n            return data;\n        }\n    }\n};\n\nfunction ScatterPlot(data, layer, options) {\n    this.checkDependencies('cartesian');\n    var duration = options.chart.animations.duration != null ? options.chart.animations.duration : 400;\n    var shouldAnimate = options.chart.animations && options.chart.animations.enable;\n    var opt = options.scatter;\n    var halfRangeBand = this.rangeBand / 2;\n    var x = function (d) {\n        return this.xScale(d.x) + halfRangeBand;\n    }.bind(this);\n    var y = function (d) {\n        return this.yScale(d.y);\n    }.bind(this);\n    var h = options.chart.plotHeight;\n    var classFn = function classFn(d, i) {\n        return d.name + ' series s-' + (i + 1);\n    };\n\n    data = options.scatter.preprocess(data);\n\n    var series = layer.selectAll('.series').data(data);\n\n    series.attr('class', classFn);\n\n    series.enter().append('svg:g').attr('class', classFn);\n\n    series.exit().remove();\n\n    var dots = series.selectAll('.dot').data(function (d) {\n        return d.data;\n    }, function (d) {\n        return options.scatter.dataKey ? d[options.scatter.dataKey] : d.x;\n    });\n\n    dots.enter().append('circle').attr('class', 'dot tooltip-tracker').attr('r', opt.radius).attr('cx', x).attr('cy', h);\n\n    if (shouldAnimate) {\n        dots.transition().duration(duration).attr('r', opt.radius).attr('cx', x).attr('cy', y);\n    } else {\n        dots.attr('r', opt.radius).attr('cx', x).attr('cy', y);\n    }\n\n    dots.exit().remove();\n}\n\nScatterPlot.defaults = defaults;\n\n/**\n* Adds a scatter plot to the Contour instance.\n*\n* This visualization requires `.cartesian()`.\n*\n* ### Example:\n*\n*     new Contour({el: '.chart'})\n*           .cartesian()\n*           .scatter([1,2,3,4])\n*           .render();\n*\n* @name scatter(data, options)\n* @param {object|array} data The _data series_ to be rendered with this visualization. This can be in any of the supported formats.\n* @param {object} [options] Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n*/\n_contour2.default.export('scatter', ScatterPlot);\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _d = __webpack_require__(1);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _contourUtils = __webpack_require__(0);\n\nvar nwt = _interopRequireWildcard(_contourUtils);\n\nvar _contour = __webpack_require__(2);\n\nvar _contour2 = _interopRequireDefault(_contour);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaults = {\n    tooltip: {\n        enable: true\n    }\n};\n\n/**\n* Adds a tooltip and legend combination for stacked (multiple) series visualizations in the Contour instance.\n* Requires a second display element (`<div>`) for the legend in the html.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*           .cartesian()\n*           .column(stackedColData)\n*           .stackTooltip(stackedColData, {el: '.myChartLegend'})\n*           .render();\n*\n* @name stackTooltip(data, options)\n* @param {object|array} data The _data series_ to be rendered with this visualization. This can be in any of the supported formats.\n* @param {object} options Configuration options particular to this visualization that override the defaults. Requires an `el` option with the selector of the container in which to render the tooltip.\n* @api public\n*\n* ### Notes:\n*\n* Each Contour instance can only include one `stackTooltip` visualization.\n*/\nfunction stackTooltip(data, layer, options) {\n\n    var valueFormatter = this.yAxis().tickFormat();\n    var tooltip = _d2.default.select(options.stackTooltip.el);\n\n    tooltip.classed('stack-tooltip', true);\n\n    // jshint eqnull:true\n    var onMouseOver = function onMouseOver(d) {\n        var isNull = function isNull(p) {\n            return !(p && p.y != null);\n        };\n        var mapFn = function mapFn(p, i) {\n            var index = nwt.isNumber(d.x) ? d.x : options.xAxis.categories.indexOf(d.x);\n            return !isNull(p.data[index]) ? { seriesName: p.name, value: p.data[index].y, cssClass: 's-' + (i + 1) } : null;\n        };\n        var filtered = data.map(mapFn).filter(function (x) {\n            return x;\n        });\n        var text = filtered.map(function (t) {\n            return '<span class=\"' + t.cssClass + '\"\">' + t.seriesName + ': ' + valueFormatter(t.value) + '</span>';\n        }).join(' / ');\n        tooltip.html(text).style({ display: 'block' });\n    };\n\n    var onMouseOut = function onMouseOut() // datum\n    {\n        tooltip.html('');\n    };\n\n    this.svg.selectAll('.tooltip-tracker').on('mouseover.tooltip', onMouseOver.bind(this)).on('mouseout.tooltip', onMouseOut.bind(this));\n}\n\nstackTooltip.defaults = defaults;\n\n_contour2.default.export('stackTooltip', stackTooltip);\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _d = __webpack_require__(1);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _contourUtils = __webpack_require__(0);\n\nvar nwt = _interopRequireWildcard(_contourUtils);\n\nvar _contour = __webpack_require__(2);\n\nvar _contour2 = _interopRequireDefault(_contour);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaults = {\n    tooltip: {\n        enable: true,\n        animate: true,\n        opacity: 0.85,\n        showTime: 300,\n        hideTime: 500,\n        distance: {\n            x: 5,\n            y: 5\n        },\n        formatter: undefined //defined in formatters array in getTooltipText()\n    }\n};\n\nfunction render(data, layer, options) {\n\n    var clearHideTimer = function clearHideTimer() {\n        clearTimeout(this.tooltip.hideTimer);\n    };\n\n    var changeOpacity = function changeOpacity(opacity, delay) {\n        if (this.options.tooltip.animate) {\n            this.tooltipElement.transition().duration(delay).style('opacity', opacity);\n        } else {\n            this.tooltipElement.style('opacity', opacity);\n        }\n    };\n\n    var positionTooltip = function positionTooltip(d) {\n        var pointOrCentroid = function pointOrCentroid() {\n            return _d2.default.event.target.tagName === 'path' ? nwt.getCentroid(_d2.default.event.target) : _d2.default.mouse(this.container.node());\n        };\n        var xScale = this.xScale;\n        var yScale = this.yScale;\n        var plotLeft = this.options.chart.plotLeft;\n        var plotWidth = this.options.chart.plotWidth;\n        var plotTop = this.options.chart.plotTop;\n        var plotHeight = this.options.chart.plotHeight;\n        var distanceX = this.options.tooltip.distance.x !== undefined ? this.options.tooltip.distance.x : this.options.tooltip.distance;\n        var distanceY = this.options.tooltip.distance.y !== undefined ? this.options.tooltip.distance.y : this.options.tooltip.distance;\n        var width = parseFloat(this.tooltipElement.node().offsetWidth);\n        var height = parseFloat(this.tooltipElement.node().offsetHeight);\n        var pointX = xScale ? xScale(d.x) : pointOrCentroid.call(this)[0];\n        var pointY = yScale ? yScale(d.y) : pointOrCentroid.call(this)[1];\n        var alignedRight;\n\n        var clampPosition = function clampPosition(pos) {\n            // Check outside plot area (left)\n            if (pos.x < plotLeft) {\n                pos.x = plotLeft;\n            }\n\n            // Check outside plot area (right)\n            if (pos.x + width > plotLeft + plotWidth) {\n                pos.x -= pos.x + width - (plotLeft + plotWidth);\n                // Don't overlap point\n\n                alignedRight = true;\n            }\n\n            // Check outside the plot area (top)\n            if (pos.y < plotTop) {\n                pos.y = plotTop;\n\n                // Don't overlap point\n                if (alignedRight && pointY >= pos.y && pointY <= pos.y + height) {\n                    pos.y = pointY + plotTop + distanceY;\n                }\n            }\n\n            // Check outside the plot area (bottom)\n            if (pos.y + height > plotTop + plotHeight) {\n                pos.y = plotTop + plotHeight - height;\n            }\n\n            return pos;\n        };\n\n        var positioner = {\n            'vertical': function verticalPositioner() {\n                var pos = {\n                    x: plotLeft + pointX + (distanceX - width),\n                    y: plotTop + pointY - (distanceY + height)\n                };\n\n                return clampPosition(pos);\n            },\n\n            'horizontal': function horizontalPositioner() {\n                var pos = {\n                    x: plotLeft + pointY + (distanceX - width),\n                    y: plotTop + pointX - (distanceY + height)\n                };\n\n                return clampPosition(pos);\n            }\n        };\n\n        return options.chart.rotatedFrame ? positioner.horizontal() : positioner.vertical();\n    };\n\n    var onMouseOver = function onMouseOver(d) {\n        show.call(this, d);\n    };\n\n    var onMouseOut = function onMouseOut() {\n        changeOpacity.call(this, 0, this.options.tooltip.hideTime);\n    };\n\n    var getTooltipText = function getTooltipText(d, allPoints) {\n        function match() {\n            var params = Array.prototype.slice.call(arguments);\n            var list = params[0];\n            var rest = params.slice(1);\n\n            var response = list.map(function (fn) {\n                return fn.apply(this, rest);\n            }).concat([nwt.noop]);\n\n            return response.filter(function (a) {\n                return a;\n            })[0];\n        }\n\n        var options = this.options.tooltip;\n        var formatters = [function (d) {\n            return options.formatter ? nwt.partial(options.formatter, d, allPoints) : null;\n        }, function (d) {\n            return d.hasOwnProperty('x') ? nwt.partial(function (d) {\n                return d.series + '<br>' + d.x + '<br>' + d.y;\n            }, d) : null;\n        }, function (d) {\n            return d.data && d.data.hasOwnProperty('x') ? nwt.partial(function (d) {\n                return d.series + '<br>' + d.x + '<br>' + d.y;\n            }, d.data) : null;\n        }, function (d) {\n            return d.hasOwnProperty('value') ? nwt.partial(function (d) {\n                return d.value;\n            }, d) : null;\n        }, function () {\n            return function () {\n                return 'NA';\n            };\n        }];\n\n        return match(formatters, d)();\n    };\n\n    var show = function show(d) {\n        clearHideTimer.call(this);\n\n        var dataPoints = findOriginalDataPoint(d);\n\n        this.tooltipElement.select('.text').html(getTooltipText.call(this, d || dataPoints[0], dataPoints));\n\n        var pos = positionTooltip.call(this, d);\n\n        this.tooltipElement.style('top', pos.y + 'px').style('left', pos.x + 'px');\n\n        changeOpacity.call(this, this.options.tooltip.opacity, this.options.tooltip.showTime);\n    };\n\n    function findOriginalDataPoint(d) {\n        var res = [];\n        data.forEach(function (series, seriesIndex) {\n            var name = series.name;\n            series.data.forEach(function (point) {\n                if (point.x === d.x && d.y === point.y) {\n                    res.push(Object.assign(point, { series: name, seriesIndex: seriesIndex }));\n                }\n            });\n        });\n\n        return res;\n    }\n\n    this.tooltipElement = this.container.style('position', 'relative').selectAll('.nw-tooltip').data([1]);\n\n    this.tooltipElement.enter().append('div').attr('class', 'nw-tooltip').style('opacity', 0).append('div').attr('class', 'text');\n\n    this.svg.selectAll('.tooltip-tracker').on('mouseover.tooltip', onMouseOver.bind(this)).on('mouseout.tooltip', onMouseOut.bind(this));\n}\n\nrender.defaults = defaults;\n\n/**\n* Adds a tooltip on hover to all other visualizations in the Contour instance.\n*\n* Although not strictly required, this visualization does not appear unless there are already one or more visualizations in this Contour instance for which to show the tooltips.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*           .cartesian()\n*           .line([2, 4, 3, 5, 7])\n*           .tooltip()\n*           .render();\n*\n* @name tooltip(data, options)\n* @param {object|array} data Ignored!\n* @param {object} options Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n* ### Notes:\n*\n* Each Contour instance can only include one `tooltip` visualization.\n*/\n_contour2.default.export('tooltip', render);\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _d = __webpack_require__(1);\n\nvar _d2 = _interopRequireDefault(_d);\n\nvar _contourUtils = __webpack_require__(0);\n\nvar nwt = _interopRequireWildcard(_contourUtils);\n\nvar _contour = __webpack_require__(2);\n\nvar _contour2 = _interopRequireDefault(_contour);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction normalizeDataSet(dataSet) {\n    var all = nwt.flatten(dataSet.map(function (set) {\n        return set.data;\n    }));\n    var isLinear = all.length && nwt.isNumber(all[0].x);\n    var normalizer = function normalizer(d, i) {\n        return { x: i, y: d.y };\n    };\n\n    return isLinear ? all : all.map(normalizer);\n}\n\nfunction ctor(raw, layer, options) {\n    this.checkDependencies('cartesian');\n    var data = normalizeDataSet(raw);\n    var duration = options.chart.animations.duration != null ? options.chart.animations.duration : 400;\n    var shouldAnimate = options.chart.animations && options.chart.animations.enable;\n    var x = function (d) {\n        return this.xScale(d) + this.rangeBand / 2;\n    }.bind(this);\n    var y = function (d) {\n        return this.yScale(d);\n    }.bind(this);\n    var regression = nwt.linearRegression(data);\n    var domain = _d2.default.extent(this.xScale.domain());\n    var numericDomain = _d2.default.extent(data, function (p) {\n        return p.x;\n    });\n    var lineY = function lineY(x) {\n        return regression.intercept + regression.slope * x;\n    };\n\n    var line = layer.selectAll('.trend-line').data([1]);\n\n    if (isNaN(lineY(numericDomain[0])) || isNaN(lineY(numericDomain[1])) || isNaN(x(domain[0])) || isNaN(x(domain[1]))) {\n        line.remove();\n    } else {\n        line.enter().append('line').attr('class', 'trend-line').attr('x1', x(domain[0])).attr('y1', y(lineY(numericDomain[0]))).attr('x2', x(domain[0])).attr('y2', y(lineY(numericDomain[0])));\n\n        line.exit().remove();\n\n        if (shouldAnimate) {\n            line = line.transition().duration(duration);\n        }\n\n        line.attr('x1', x(domain[0])).attr('y1', y(lineY(numericDomain[0]))).attr('x2', x(domain[1])).attr('y2', y(lineY(numericDomain[1])));\n    }\n}\n\nctor.defaults = {};\n\n/**\n* Adds a trend line to the Contour instance, based on linear regression.\n*\n* This visualization requires `.cartesian()`.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*           .cartesian()\n*           .trendLine([2,4,3,5,7])\n*           .render();\n*\n* @name trendLine(data, options)\n* @param {object|array} data The _data series_ to be rendered with this visualization. This can be in any of the supported formats. A linear regression is performed on the _data series_ and the resulting trend line is displayed.\n* @param {object} [options] Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n*/\n_contour2.default.export('trendLine', ctor);\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// contour.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 88f7e2de61be3564266b","import d3 from 'd3';\nexport { default as defaults } from 'lodash.defaults';\nexport { default as merge } from 'lodash.merge';\n\n// cheap trick to add decimals without hitting javascript issues\n// note that this fails for very large numbers\nvar multiplier = function (x) { var dig = decDigits(x); return dig === 0 ? 1 : Math.pow(10, dig); };\nvar maxMultiplier = function (a,b) { return Math.max(multiplier(a), multiplier(b)); };\nvar addFloat = function (a,b) { var factor = maxMultiplier(a,b), aa = Math.round(a * factor), bb = Math.round(b * factor); return (aa + bb) / factor; };\nvar subFloat = function (a,b) { var factor = maxMultiplier(a,b), aa = Math.round(a * factor), bb = Math.round(b * factor); return (aa - bb) / factor; };\nvar mulFloat = function (a,b) { var factor = maxMultiplier(a,b), aa = Math.round(a * factor), bb = Math.round(b * factor); return (aa * bb) / (factor*factor); };\nvar divFloat = function (a,b) { var factor = maxMultiplier(a,b), aa = Math.round(a * factor), bb = Math.round(b * factor); return aa / bb; };\n\nvar root = typeof window === 'object' ? window : global;\n\n// jshint -W079\nvar objectProto = Object.prototype;\nvar hasOwnProperty = objectProto.hasOwnProperty;\nvar toString = objectProto.toString;\n\n// jshint undef:false\nvar symToStringTag = typeof Symbol !== 'undefined' ? Symbol.toStringTag : undefined;\n\nfunction baseGetTag(value) {\n    if (value == null) {\n        return value === undefined ? '[object Undefined]' : '[object Null]';\n    }\n\n    if (!(symToStringTag && symToStringTag in Object(value))) {\n        return toString.call(value);\n    }\n\n    var isOwn = hasOwnProperty.call(value, symToStringTag);\n    var tag = value[symToStringTag];\n    var unmasked = false;\n\n    try {\n        value[symToStringTag] = undefined;\n        unmasked = true;\n    } catch (e) {}\n\n    var result = toString.call(value);\n    if (unmasked) {\n        if (isOwn) {\n        value[symToStringTag] = tag;\n        } else {\n        delete value[symToStringTag];\n        }\n    }\n    return result;\n    }\n\nexport const noop = function () {};\n\nexport const partial = function (fn /*args*/) {\n    // prevent leaking arguments object outside of the current scope\n    // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n    var args = new Array (arguments.length -1);\n    for (var i = 1; i < arguments.length; ++i) {\n        args[i-1] = arguments[i];\n    }\n\n    return function () {\n        var newArgs = new Array(arguments.length);\n        for (var i = 0; i < arguments.length; ++i) {\n            newArgs[i] = arguments[i];\n        }\n\n        var fullArgs = args.concat(newArgs);\n        return fn.apply(this, fullArgs);\n    };\n};\n\nexport const partialRight = function (fn /*, args */) {\n    // prevent leaking arguments object outside of the current scope\n    // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n    var args = new Array (arguments.length -1);\n    for (var i = 1; i < arguments.length; ++i) {\n        args[i-1] = arguments[i];\n    }\n\n    return function () {\n        var newArgs = new Array(arguments.length);\n        for (var i = 0; i < arguments.length; ++i) {\n            newArgs[i] = arguments[i];\n        }\n\n        var fullArgs = newArgs.concat(args);\n        return fn.apply(this, fullArgs);\n    };\n};\n\nexport const isObject = function  (value) {\n    var type = typeof value;\n    return value != null && (type === 'object' || type === 'function');\n};\n\nexport const isObjectLike = function (value) {\n    return typeof value === 'object' && value !== null;\n};\n\nexport const isDate = function (value) {\n    return isObjectLike(value) && baseGetTag(value) === '[object Date]';\n};\n\nexport const isNumber = function (value) {\n    return typeof value === 'number' ||\n        (isObjectLike(value) && baseGetTag(value) === '[object Number]');\n};\n\nexport const isString = function (value) {\n    return typeof value === 'string' || value instanceof String;\n};\n\nexport const range = function (start, end, step) {\n    if (arguments.length === 1) {\n        var t = start;\n        start = 0;\n        end = t;\n    }\n\n    step = step || (end >= start ? 1 : -1);\n    var index = -1;\n    var length = Math.max(Math.ceil((end - start) / (step || 1)), 0);\n    var result = new Array(length);\n\n    while (length--) {\n        result[++index] = start;\n        start += step;\n    }\n    return result;\n};\n\n// return the uniq elements in the array\n// we are implementing our own version since this algorithm seems\n// to be a lot faster than what lodash uses\nexport const uniq = function (array) {\n    if (array == null || !array.length) return [];\n    var cache = {}, result = [];\n    var len = array.length;\n\n    for (var j=0; j<len; j++) {\n        var el = array[j], key = el + '';\n\n        if (!cache.hasOwnProperty(key)) {\n            cache[key] = true;\n            result.push(el);\n        }\n    }\n\n    return result;\n};\n\nexport const flatten = function (array) {\n    if (!array || !array.length) {\n        return [];\n    }\n\n    return array.reduce(function (acc, cur) {\n        return acc.concat(Array.isArray(cur) ? flatten(cur) : cur);\n    }, []);\n};\n\nexport const compact = function (array) {\n    if (!array || !array.length) {\n        return [];\n    }\n\n    return array.reduce(function (acc, cur) {\n        if (cur) {\n            acc.push(cur);\n        }\n        return acc;\n    }, []);\n};\n\nexport const intersection = function (a, b) {\n    if (!a || !b) return [];\n    if (!a.length || !b.length) return [];\n\n    var map = b.reduce(function (acc, cur) {\n        acc[cur] = true;\n        return acc;\n    }, {});\n\n    return a.reduce(function (acc, cur) {\n        if (map[cur]) {\n            acc.push(cur);\n            delete map[cur];\n        }\n\n        return acc;\n    }, []);\n};\n\nexport const omit = function (src, props) {\n    if (!src || Object.prototype.toString.call(src) !== '[object Object]') {\n        return src;\n    }\n\n    var index = [].concat(props).reduce(function (acc, prop) {\n        return acc[prop] = true, acc;\n    }, {});\n\n    var res = {};\n    Object.keys(src).forEach(function (prop) {\n        if (!index[prop]) {\n            res[prop] = src[prop];\n        }\n    });\n\n    return res;\n};\n\n// the src is a function returns the function evaluated\n// otherwise returns src\nexport const getValue = function (src, deafult, ctx, args) {\n    args = Array.prototype.slice.call(arguments, 3);\n    return !src ? deafult : typeof src === 'function' ? src.apply(ctx, args) : src;\n};\n\nexport const seriesNameToClass = function (name) {\n    return name || '';\n};\n\nexport const materialize = function (object, ctx, options, curPath) {\n\n    var isDom = function (obj) { return obj && typeof obj === 'object' && obj.nodeType === 1 && typeof obj.style === 'object' && typeof obj.ownerDocument === 'object'; };\n    var skipList = (options || {}).skip || [];\n\n    var shouldSkip = function (path) {\n        return skipList.some(function (e) {\n            if (!e) return false;\n            if (typeof e === 'object' && e instanceof RegExp) {\n                return e.test(path);\n            }\n\n            return e.toString() === path;\n        });\n    };\n\n    if (object == null) {\n        return object;\n    } else if (Array.isArray(object)) {\n        return object;\n    } if (isDom(object)) {\n        return object;\n    } else if (typeof object === 'function') {\n        return getValue(object, null, ctx);\n    } else if (typeof object === 'object') {\n        return Object.keys(object).reduce(function (prev, key) {\n            var curKeyPath = curPath ? curPath + '.' + key : key;\n            var expectsParam = (typeof object[key] === 'function' && !!object[key].length);\n            var shouldMaterialize = !shouldSkip(curKeyPath) && !expectsParam;\n\n            if (expectsParam && !shouldSkip(curKeyPath)) {\n                console.warn('The funciton \"' + curKeyPath + '\" expects parameters and will not be resolved to a value before the render starts. It is assumed to be used inside a visualization. Add this function to the \"skip\" list to remove this message.');\n            }\n\n            if (shouldMaterialize) {\n                prev[key] = materialize(object[key], ctx, options, curKeyPath);\n            } else {\n                prev[key] = object[key];\n            }\n            return prev;\n        }, {});\n    } else {\n        return object;\n    }\n};\n\nexport const cleanNullValues = function () {\n    return function (series) {\n        return series.map(function (s) {\n            return Object.assign(s, {\n                data: s.data.reduce(function (acum, datum) {\n                    if (datum.y != null) {\n                        acum.push(datum);\n                    }\n\n                    return acum;\n                }, [])\n            });\n        });\n    };\n};\n\nexport const minMaxFilter = function (desiredLen) {\n    return function(data) {\n        if (data.length <= desiredLen)\n            return data;\n\n        var toReturn = [data[0]]; //always want the first\n        var index = 1;\n        var increment = Math.floor(data.length / desiredLen);\n\n        while (index < data.length - 1) {\n            var hasValidPt = false;\n            var maxPt;\n            var minPt;\n            var maxIndex = Math.min(index + increment, data.length);\n\n            for (var intermediateIndex = index; intermediateIndex < maxIndex; intermediateIndex++) {\n                var intermediatePt = data[index];\n                if (intermediatePt.y) {\n                    if (!hasValidPt || intermediatePt.y > maxPt.y)\n                        maxPt = intermediatePt;\n\n                    if (!hasValidPt || intermediatePt.y < minPt.y)\n                        minPt = intermediatePt;\n\n                    hasValidPt = true;\n                }\n            }\n\n            if (hasValidPt) {\n                if (minPt.x === maxPt.x) {\n                    toReturn.push(minPt);\n                } else if (minPt.x < maxPt.x) {\n                    toReturn.push(minPt);\n                    toReturn.push(maxPt);\n                } else if (minPt.x > maxPt.x) {\n                    toReturn.push(maxPt);\n                    toReturn.push(minPt);\n                }\n            }\n\n            index += Math.max(1, Math.min(data.length - 1 - index, increment));\n        }\n        toReturn.push(data[data.length - 1]); //always want the last\n        return toReturn;\n    };\n};\n\nexport const warn = function (msg) {\n    if (console && console.log)\n        console.log(msg);\n};\n\n\nexport const firstAndLast = function (ar) {\n    return [ar[0], ar[ar.length-1]];\n};\n\nexport const roundToNearest = function (number, multiple) {\n    return mulFloat(Math.ceil(divFloat(number, multiple)), multiple);\n};\n\nexport const roundTo = function (value, digits) {\n    return divFloat(Math.ceil(mulFloat(value, Math.pow(10, digits))), Math.pow(10, digits));\n};\n\nexport const trunc = function (value) {\n    return value - value % 1;\n};\n\n// only works for integers\nexport const digits = function (value) {\n    var str = Math.abs(value).toString();\n    var parts = str.split('e');\n    if (parts.length === 2) {\n        return Math.max(0, parts[1]) + 1;\n    }\n    parts = str.split('.');\n    return parts[0].length;\n};\n\nexport const decDigits = function (value) {\n    var str = Math.abs(value).toString();\n    var parts = str.split('.');\n    if (parts.length === 2) {\n        return parts[1].length;\n    }\n    parts = str.split('e');\n    if (parts.length === 2) {\n        return -Math.min(0, parts[1]);\n    }\n    return 0;\n};\n\nexport const log10 = function (value) {\n    return Math.log(value) / Math.LN10;\n};\n\nexport const clamp = function (val, l, h) {\n    return val > h ? h : val < l ? l : val;\n};\n\nexport const clampLeft = function (val, low) {\n    return val < low ? low : val;\n};\n\nexport const clampRight = function (val, high) {\n    return val > high ? high : val;\n};\n\nexport const degToRad = function (deg) {\n    return deg * Math.PI / 180;\n};\n\nexport const radToDeg = function (rad) {\n    return rad * 180 / Math.PI;\n};\n\nexport const rotatePoint = function (point, rad) {\n    return {\n        x: point.x * Math.cos(rad) - point.y * Math.sin(rad),\n        y: point.x * Math.sin(rad) + point.y * Math.cos(rad)\n    };\n};\n\nexport const translatePoint = function (point, delta) {\n    return {\n        x: point.x + delta.x,\n        y: point.y + delta.y\n    };\n};\n\nexport const linearRegression = function (dataSrc) {\n    var lr = {};\n    var n = dataSrc.length;\n    var sum_x = 0;\n    var sum_y = 0;\n    var sum_xy = 0;\n    var sum_xx = 0;\n    var sum_yy = 0;\n\n    for (var i = 0; i < n; i++) {\n        sum_x += dataSrc[i].x;\n        sum_y += dataSrc[i].y;\n        sum_xy += (dataSrc[i].x*dataSrc[i].y);\n        sum_xx += (dataSrc[i].x*dataSrc[i].x);\n        sum_yy += (dataSrc[i].y*dataSrc[i].y);\n    }\n\n    lr.slope = (n * sum_xy - sum_x * sum_y) / (n*sum_xx - sum_x * sum_x);\n    lr.intercept = (sum_y - lr.slope * sum_x)/n;\n    lr.r2 = Math.pow((n*sum_xy - sum_x*sum_y)/Math.sqrt((n*sum_xx-sum_x*sum_x)*(n*sum_yy-sum_y*sum_y)),2);\n\n    return lr;\n};\n\nexport const niceRound = function (val) {\n    // for now just round(10% above the value)\n    return Math.ceil(val + val * 0.10);\n\n    // var digits = Math.floor(Math.log(val) / Math.LN10) + 1;\n    // var fac = Math.pow(10, digits);\n\n    // if(val < 1) return roundToNearest(val, 1);\n\n    // if(val < fac / 2) return roundToNearest(val, fac / 2);\n\n    // return roundToNearest(val, fac);\n};\n\nexport const roundToNextTick = function (num) {\n    var abs = Math.abs(num);\n    var sign = abs === num ? 1 : -1;\n    var mag, step;\n    if (abs >= 1) {\n        mag = Math.floor(log10(abs));\n        step = mag <= 1 ? 2 : Math.pow(10, mag - 1);\n    } else {\n\n        var exp = abs.toExponential().replace(/\\.|e-\\d+$/g, '');\n        mag = exp.length;\n        step = mulFloat((mag === 1 ? 2 : 10), Math.pow(10, -mag));\n    }\n\n    var raw = roundToNearest(abs, step);\n    return sign * raw;\n};\n\nexport const niceMinMax = function (min, max, ticks, startAtZero) {\n    // return divFloat(Math.ceil(mulFloat(value, Math.pow(10, digits))), Math.pow(10, digits));\n\n    // check for errors... min cannot be > max\n    if (min > max) {\n        return {\n            min: min,\n            max: min,\n            tickValues: []\n        };\n    }\n\n    var swap = max < 0 && min < 0;\n    var origMax = max;\n    if (swap) {\n        max = -min;\n        min = -origMax;\n    }\n\n    // 2 ticks seem to work for min max and passing 5 ticks to d3\n    ticks = ticks == null ? 2 : Math.max(1, ticks);\n    // if ticks is an array, use that as order of preferred ticks; otherwise return a\n    // variable number of ticks in order to keep values round\n    if (isNumber(ticks)) {\n        // for 1, check [1]\n        // for 2, check [2, 1]\n        // for 3, check [3, 2]\n        // for 4, check [4, 5, 3]\n        // for 5, check [5, 6, 4, 3]\n        // for 6, check [6, 7, 5, 4]\n        // for 7, check [7, 8, 6, 5]\n        // for 8, check [8, 9, 10, 7, 6]\n        // for 9, check [9, 10, 11, 8, 7, 6]\n        // for 10, check [10, 11, 12, 9, 8, 7]\n        ticks = range(ticks, ticks * 1.28)\n            .concat(range(ticks - 1, (ticks - 1) * 0.72, -1));\n    }\n\n    if (startAtZero == null) {\n        startAtZero = min === 0 || origMax < 0;\n    }\n\n    var exponent;\n    if (min === max) {\n        if (max === 0) {\n            exponent = -1.0;\n        } else {\n            exponent = log10(Math.abs(max));\n        }\n    } else {\n        if(startAtZero) {\n            exponent = log10(Math.abs(max)) - 0.5;\n        } else {\n            exponent = log10(max-min) - 0.5;\n        }\n    }\n\n    var defaultRounding = -(exponent >= 0 ? trunc(exponent) : Math.floor(exponent));\n\n    // var defaultRounding = -trunc((min === max ?\n    //     max === 0 ? -1.0 : log10(Math.abs(max)) :\n    //     startAtZero ? log10(Math.abs(max)) : log10(max-min)\n    // ) - 0.5);\n\n    var excelRoundUp = function (value, up) {\n        up = up != null ? up : 0;\n        var roundFn = function (v) { return v >= 0 ? Math.ceil(v) : Math.floor(v); };\n        return divFloat(roundFn(value * Math.pow(10, up)), Math.pow(10, up));\n    };\n\n    var nice = function (ticks) {\n        var negativeMinAmount = excelRoundUp(Math.max(0, -min) / ticks, defaultRounding - 1);\n\n        var intermediateMax = min === max ? max === 0 ? 1 : excelRoundUp(max + negativeMinAmount, defaultRounding)\n            : excelRoundUp(max + negativeMinAmount,defaultRounding);\n\n        var iMin = 0;\n        if (!startAtZero && min !== max) {\n            var inter = min + negativeMinAmount;\n            var dig = digits(inter);\n            var roundToDigits;\n            if (inter > 0) {\n                roundToDigits =  -Math.floor(log10(inter));\n            } else {\n                roundToDigits = (Math.max(1, Math.abs(dig-2)));\n            }\n\n            iMin = -roundTo(-inter, roundToDigits);\n            iMin = iMin === 0 ? 0 : iMin;\n            // old version:\n            // iMin = excelRound(min + negativeMinAmount, defaultRounding + (min < 0 ? 1 : 0))\n        }\n\n        var intermediateMin = iMin;\n\n        var interval = excelRoundUp(divFloat(subFloat(intermediateMax, intermediateMin),ticks), defaultRounding);\n        var finalMin = subFloat(intermediateMin, negativeMinAmount);\n        var finalMax = addFloat(finalMin, mulFloat(ticks, interval));\n        var ticksValues = [finalMin];\n        var prevTick = finalMin;\n\n        for (var j=1; j < ticks; j++) {\n            var newTick = addFloat(prevTick, interval);\n\n            ticksValues.push(newTick);\n            prevTick = newTick;\n        }\n\n        // total ticks are going to be either ticks or ticks + 1\n        if (Math.abs(prevTick - finalMax) > 1e-10) {\n            ticksValues.push(finalMax);\n        }\n\n        return {\n            min: swap ? -finalMax : finalMin,\n            max: swap ? -finalMin : finalMax,\n            tickValues: ticksValues.map(function (a) { return swap ? -a : a; })\n        };\n    };\n\n    var defaultMinMax;\n    var minMax;\n\n    var foundSomethingRound = ticks.some(function (ticks) {\n        minMax = nice(ticks);\n        defaultMinMax = defaultMinMax || minMax;\n        return minMax.tickValues.every(function (tick) {\n            return tick === Math.round(tick);\n        });\n    });\n    return foundSomethingRound ? minMax : defaultMinMax;\n};\n\nexport const extractScaleDomain = function (domain, min, max, ticks, zeroAnchor) {\n    var dataMin = min != null ? min : Math.min.apply(null, domain);\n    var dataMax = max != null ? max : Math.max.apply(null, domain);\n    ticks = ticks == null ? 5 : ticks;\n\n    var niced = niceMinMax(dataMin, dataMax, ticks, zeroAnchor);\n\n    // return [niced.min, niced.max];\n\n    // // we want null || undefined for all this comparasons\n    // // that == null gives us\n    if (min == null && max == null) {\n        return [niced.min, niced.max];\n    }\n\n    if (min == null) {\n        return [Math.min(niced.min, max), max];\n    }\n\n    if (max == null) {\n        return [min, Math.max(min, niced.max)];\n    }\n\n    return [min, max];\n};\n\nexport const niceTicks = function (min, max, ticks, zeroAnchor, domain) {\n    ticks = ticks == null ? 5 : ticks;\n    min = min != null ? min : zeroAnchor ? Math.min(0, domain[0]) : domain[0];\n    max = max != null ? max : domain[1];\n\n    var niced = niceMinMax(min, max, ticks, zeroAnchor);\n    var tickValues = niced.tickValues;\n\n    // ensure that y-axis endpoints are labelled\n    if (min !== domain[0]) {\n        tickValues.push(min);\n        tickValues = tickValues.filter(function(tick) {\n            return tick >= min;\n        });\n    }\n\n    if (max !== domain[1]) {\n        tickValues.push(max);\n        tickValues = tickValues.filter(function(tick) {\n            return tick <= max;\n        });\n    }\n\n    tickValues.sort(function (a, b) { return a - b; });\n\n    return uniq(tickValues);\n};\n\nexport const calcXLabelsWidths = function (ticks) {\n    var padding = 8;\n    var compact = function (e) { return !!e; };\n    return ticks.filter(compact).map(String).map(function (d) {\n        if (!d) {\n            return padding * 2;\n        }\n        return textBounds(d, '.x.axis text').width + (padding * 2);\n    });\n};\n\nexport const doXLabelsFit = function (ticks, labelFormatter, options) {\n    var tickWidths = calcXLabelsWidths(ticks.map(labelFormatter));\n    var availableWidthForLabels = (options.chart.plotWidth + tickWidths[0] / 2 + tickWidths[ticks.length - 1] / 2);\n    var axisLabelsWidth = sum(tickWidths);\n    return axisLabelsWidth <= availableWidthForLabels;\n};\n\nexport const getTicksThatFit = function (ticks, labelFormatter, options) {\n    // reduce the number of ticks incrementally by taking every 2nd, then every 3th, and so on\n    // until we find a set of ticks that fits the available space\n    function reduceTicksByMod() {\n        var tickWidths = calcXLabelsWidths(ticks.map(labelFormatter));\n        var axisLabelsWidth = sum(tickWidths);\n        var availableWidthForLabels = (options.chart.plotWidth + tickWidths[0] / 2 + tickWidths[ticks.length - 1] / 2);\n        var iter = 1;\n        var filterMod = function (d, i) { return (i % iter) === 0; };\n        var finalTicks = ticks;\n        while(axisLabelsWidth > availableWidthForLabels && finalTicks.length !== 0) {\n            iter++;\n            finalTicks = ticks.filter(filterMod);\n            axisLabelsWidth = sum(calcXLabelsWidths(finalTicks.map(labelFormatter)));\n        }\n\n        return finalTicks;\n    }\n\n    // possible alternative way using d3 ticks to calculate the number\n    // that fits\n    // function reduceTicksByD3() {\n    //     // while(axisLabelsWidth > availableWidthForLabels && ticks.length !== 1) {\n    //     //     ticks = axis.scale().ticks(Math.floor(--numAutoTicks));\n    //     //     axisLabelsWidth = sum(calcLabelsWidths(ticks.map(formatLabel)));\n    //     // }\n\n    //     // axis.ticks(ticks.length);\n    // }\n\n    return reduceTicksByMod();\n};\n\n// measure text inside a Contour chart container\nexport const textBounds = function (text, css) {\n    var body = document.getElementsByTagName('body')[0];\n    var wrapper = document.createElement('span');\n    var dummy = document.createElement('span');\n    wrapper.className = 'contour-chart';\n    dummy.style.position = 'absolute';\n    dummy.style.width = 'auto';\n    dummy.style.height = 'auto';\n    dummy.style.visibility = 'hidden';\n    dummy.style.lineHeight = '100%';\n    dummy.style.whiteSpace = 'nowrap';\n\n    dummy.innerHTML = text;\n    dummy.className = css.replace(/\\./g, ' ');\n    wrapper.appendChild(dummy);\n    body.appendChild(wrapper);\n    var res = { width: dummy.clientWidth, height: dummy.clientHeight };\n    wrapper.removeChild(dummy);\n    body.removeChild(wrapper);\n    return res;\n};\n\nexport const dateDiff = function(d1, d2) {\n    var diff = d1.getTime() - d2.getTime();\n    return diff / (24*60*60*1000);\n};\n\n// concatenate and sort two arrays to the resulting array\n// is sorted ie. merge [2,4,6] and [1,3,5] = [1,2,3,4,5,6]\nexport const mergeArrays = function (array1, array2) {\n    if(typeof(array1) === 'number') array1 = [array1];\n    if(typeof(array2) === 'number') array2 = [array2];\n    if(!array1 || !array1.length) return array2;\n    if(!array2 || !array2.length) return array1;\n\n    return [].concat(array1, array2).sort(function (a,b) { return a-b; });\n};\n\nexport const isCorrectDataFormat = function (dataArray) {\n    return Array.isArray(dataArray) && dataArray.every(function (p) { return p.hasOwnProperty('x') && p.hasOwnProperty('y'); });\n};\n\nexport const isCorrectSeriesFormat = function (data) {\n    var isArrayOfObjects = Array.isArray(data) && isObject(data[0]);\n    if (!isArrayOfObjects) {\n        return false;\n    }\n\n    var hasDataArrayPerSeries = data.every(function (d) { return d.hasOwnProperty('data'); });\n    var hasSeriesNamePerSeries = data.every(function (d) { return d.hasOwnProperty('name'); });\n    var datumInCorrectFormat = isArrayOfObjects && hasDataArrayPerSeries && isCorrectDataFormat(data[0].data);\n\n    return isArrayOfObjects && hasDataArrayPerSeries && hasSeriesNamePerSeries && datumInCorrectFormat;\n};\n\nexport const normalizeSeries = function (data, categories) {\n    var hasCategories = !!(categories && Array.isArray(categories));\n    function sortFn(a, b) { return a.x - b.x; }\n    function normal(set, name) {\n        var d = {\n            name: name,\n            data: set.map(function (d, i) {\n                var hasX = d != null && d.hasOwnProperty('x');\n                var val = function (v) { return v != null ? v : null; };\n                // make sure we return a valid category and not cast nulls as string\n                var categoryAt = function (i) { return !hasCategories ? i : categories[i] == null ? null : categories[i] + ''; };\n                return hasX ? Object.assign(d, { x: d.x, y: val(d.y) }) : { x: categoryAt(i), y: val(d) };\n            })\n        };\n\n        if (!hasCategories) {\n            d.data.sort(sortFn);\n        }\n\n        return d;\n    }\n\n    var correctDataFormat = isCorrectDataFormat(data);\n    var correctSeriesFormat = isCorrectSeriesFormat(data);\n\n    // do not make a new copy, if the data is already in the correct format!\n    if (correctSeriesFormat) {\n        return data;\n    }\n\n    // do the next best thing if the data is a set of points in the correct format\n    if (correctDataFormat) {\n        if (!hasCategories) data.sort(sortFn);\n        return [{ name: 'series 1', data: data }];\n    }\n\n    // for the rest of the cases we need to normalize to the full format of the series\n    if (Array.isArray(data)) {\n        if ((isObject(data[0]) && data[0].hasOwnProperty('data')) || Array.isArray(data[0])) {\n            // this would be the shape for multiple series\n            return data.map(function (d, i) { return normal(d.data ? d.data : d, d.name ? d.name : 'series ' + (i+1)); });\n        } else {\n            // this is just the shape [1,2,3,4] or [{x:0, y:1}, { x: 1, y:2}...]\n            return [normal(data, 'series 1')];\n        }\n    }\n\n    // nothing to do to the data if it's not in a supported format\n    return data;\n};\n\n// returns a function to format the data into a 'stacked' d3 layout\n// passing in a series data will add a y0 to each data point\n// where the point should start relative to the reset of the series points\n// at that x value\nexport const stackLayout = function () {\n    var stack = d3.layout\n        .stack()\n        .values(function (d) { return d.data; });\n    // prepare satck to handle different x values with different lengths\n    var outFn = function() {\n        var y0s = {};\n        return function (d, y0, y) {\n            d.y0 = y0s[d.x] != null ? y0s[d.x] : 0;\n            d.y = y;\n            y0s[d.x] = (y0s[d.x] || 0) + y;\n        };\n    };\n\n    stack.out(outFn());\n\n    return stack;\n};\n\nexport const sum = function (array) {\n    return array.reduce(function (acc, cur) { return acc += cur; }, 0);\n};\n\nexport const maxTickValues = function (max, domain) {\n    var len = domain.length;\n    var values = [];\n\n    if (max >= len) return domain.slice();\n\n    // return d3.scale.linear().domain(domain).ticks(max);\n\n    var tickInteval = Math.ceil((len) / (max));\n    var cur = 0;\n    while (cur < len) {\n        values.push(domain[cur]);\n        cur += tickInteval;\n    }\n\n    return values;\n};\n\nexport const isSupportedDataFormat = function (data) {\n    // this covers all supported formats so far:\n    // [ {data: [...] }, ... ]\n    // [ [...], [...] ]\n    return Array.isArray(data) &&\n        (isObject(data[0]) && data[0].hasOwnProperty('data') && Array.isArray(data[0].data)) ||\n        Array.isArray(data[0]);\n};\n\nexport const selectDom = function (selector) {\n    return d3.select(selector)[0][0];\n};\n\nexport const getStyle = function (el, style) {\n    if(!el) return undefined;\n    var elem = typeof el === 'string' ? this.selectDom(el) : el;\n    // we need a good way to check if the element is detached or not\n    var styles = elem.offsetParent ? elem.ownerDocument.defaultView.getComputedStyle(elem, null) : elem.style;\n\n    return style ? styles[style] : styles;\n};\n\nexport const getCentroid = function (element) {\n    var getOffsetParent = function () {\n        if (element.offsetParent) {\n            return element.offsetParent;\n        }\n\n        // we we don't have an offsetParent, we may be in firefox\n        // let's just assume that the offset parent is the svg element\n        var t = element;\n        while(t && t.tagName !== 'svg') {\n            t = t.parentNode;\n        }\n\n        return t;\n    };\n\n    var parentBox = getOffsetParent().getBoundingClientRect();\n    var bbox = element.getBoundingClientRect();\n\n    return [bbox.left - parentBox.left + bbox.width/2, bbox.top - parentBox.top + bbox.height/2];\n};\n\nexport const warning = function (msg) {\n    if(console && console.log) {\n        console.log('WARNING: ' + msg);\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/contour-utils.js","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"d3\"\n// module id = 1\n// module chunks = 0 1","import d3 from 'd3';\nimport VisualizationContainer from '../utils/visualization-container';\nimport * as nwt from '../utils/contour-utils';\nimport { xScaleFactory, yScaleFactory, addAxis, axes } from './axis/axis-scale-factory';\n\nvar defaults = {\n    chart: {\n        animations: {\n            enable: true,\n            // duration of the animation in ms\n            duration: 400,\n        },\n        // by default take the size of the parent container\n        defaultWidth: 400,\n        // height = width * ratio\n        defaultAspect: 1 / 1.61803398875,\n        // calculated at render time based on the options & container\n        width: undefined,\n        // if defined, height takes precedence over aspect\n        height: undefined,\n        // margin between the container and the chart (ie labels or axis title)\n        margin: {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0\n        },\n        // padding between the chart area and the inner plot area */\n        padding: {\n            top: null,\n            right: null,\n            bottom: null,\n            left: null\n        },\n        internalPadding: {\n            bottom: 0,\n            left: 0\n        },\n        // automatically false by default anyway; adding here to help generate docs\n        rotatedFrame: false,\n        // width in pixels of the plot area (area inside the axis if any). This gets calculated on render\n        plotWidth: undefined,\n        // height in pixels of the plot area (area inside the axis if any). This gets calculated on render\n        plotHeight: undefined,\n        // top edge in pixels (from the edge of the svg) of the plot area (area inside the axis if any). This gets calculated on render\n        plotTop: undefined,\n        // left edge in pixels (from the edge of the svg) of the plot area (area inside the axis if any). This gets calculated on render\n        plotLeft: undefined,\n    },\n\n    xAxis: {\n    },\n\n    yAxis: {\n    },\n\n    tooltip: {\n    }\n};\n\n/**\n* Creates a Contour instance, based on the core Contour visualizations object. This instance can contain a set of related visualizations.\n*\n*   * Pass the constructor any configuration options in the *options* parameter. Make sure the `el` option contains the selector of the container in which the Contour instance will be rendered.\n*   * Set the frame for this Contour instance (e.g. `.cartesian()`).\n*   * Add one or more specific visualizations to this Contour instance (e.g. `.scatter()`, `.trend-line()`). Pass each visualization constructor the data it displays. Pass configuration options if desired.\n*   * Invoke an action for this Contour instance (e.g. `.render()`).\n*\n* ### Example:\n*\n*     new Contour({el: 'myChart'})\n*       .cartesian()\n*       .line([1,3,2,5])\n*       .render()\n*\n*\n* @class Contour()\n* @param {object} options The global configuration options object\n*\n*/\nexport default function Contour (options) {\n    this.init(options);\n\n    return this;\n}\nContour.version = VERSION;\nContour.xScaleFactory = xScaleFactory;\nContour.yScaleFactory = yScaleFactory;\nContour.utils = nwt;\nContour.addAxis = addAxis;\nContour.axes = axes;\n\n/**\n* Adds a new kind of visualization to the core Contour object.\n* The *renderer* function is called when you add this visualization to instances of Contour.\n* See a sample in the [Contour Gallery](http://forio.com/contour/gallery.html#/chart/pie/pie-gauge).\n*\n* ### Example:\n*\n*     Contour.export(\"exampleVisualization\", function(data, layer) {\n*           //function body to create exampleVisualization\n*           //for example using SVG and/or D3\n*     });\n*\n*     //to include the visualization into a specific Contour instance\n*     new Contour(options)\n*           .exampleVisualization(data)\n*           .render()\n*\n* @param {String} ctorName Name of the visualization, used as a constructor name.\n* @param {Function} renderer Function called when this visualization is added to a Contour instance. This function receives the data that is passed in to the constructor.\n*/\nContour.export = function (ctorName, renderer) {\n\n    if (typeof renderer !== 'function') throw new Error('Invalid render function for ' + ctorName + ' visualization');\n\n    function sortSeries(data) {\n        if(!data || !data.length) return [];\n\n        if(data[0].data) {\n            data.forEach(sortSeries);\n        }\n\n        var shouldSort = nwt.isObject(data[0]) && nwt.isDate(data[0].x);\n        var sortFunc = function (a, b) { return a.x - b.x; };\n        if(shouldSort) {\n            data.sort(sortFunc);\n        }\n\n        return data;\n    }\n\n    Contour.prototype[ctorName] = function (data, options) {\n        var vizOpt = {};\n        vizOpt[ctorName] = options || {};\n        var vis;\n        var ownData = true;\n\n        if (!data) {\n            data = this.lastData || [];\n            ownData = false;\n        }\n\n        sortSeries(data);\n        vis = new VisualizationContainer(data, vizOpt, ctorName, renderer, this);\n        vis.ownData = ownData;\n        this._visualizations.push(vis);\n\n        // lastData is used to pass the last specified dataset\n        // to the next visualiaztion in the chain wihtout\n        // the need to specify it again.... this allows you to do\n        // new Contour().cartesian().line(dataset).lengend().tooltip().render()\n        // and legend and tooltip will recieve dataset\n        this.lastData = data;\n\n        return this;\n    };\n\n    /* expose the renderer function so it can be reused\n    * by other visualizations though the constructor function\n    * ie. Contour.export('customLineChart', function (data, layer, options) {\n    *       // call the line chart directly\n    *       return this.line.renderer(data, layer, options);\n    *    });\n    */\n    Contour.prototype[ctorName].renderer = renderer;\n};\n\n\n/**\n* Exposes functionality to the core Contour object.\n* Use this to add *functionality* that will be available for any visualizations.\n*\n* ###Example:\n*\n*     Contour.expose('example', function ctor(params) {\n*         // params are the parameters passed into the constructor function\n*         return {\n*             // the init function, if provided, is called automatically upon instantiation of the functionality\n*             // the options parameter has the global Contour options object\n*             init: function (options) { ... },\n*\n*             // when included in the instance, the function `.myFunction` is available in the visualizations\n*             myFunction: function(data) { .... }\n*         };\n*     });\n*\n*     Contour.export('visualizationThatUsesMyFunction', function(data, layer) {\n*           //function body including call to this.myFunction(data)\n*     });\n*\n*     // to include the functionality into a specific instance\n*     new Contour(options)\n*           .example({ text: 'someText' })\n*           .visualizationThatUsesMyFunction()\n*           .render()\n*\n\n*/\nContour.expose = function (ctorName, functionalityConstructor) {\n    var ctor = function () {\n        var functionality = functionalityConstructor;\n        if (typeof functionalityConstructor === 'function') {\n            functionality = Object.create(functionalityConstructor);\n            functionality = functionalityConstructor.apply(functionality, arguments);\n        }\n\n        // extend the --instance-- we don't want all charts to be overriden...\n        Object.assign(this, nwt.omit(functionality, 'init'));\n\n        if(functionality.init) {\n            functionality.init.call(this, this.originalOptions);\n        }\n\n        // keep a list of the included functionality into this instance\n        // so we can match and check dependencies\n        this._exposed.push(ctorName);\n\n        return this;\n    };\n\n    Contour.prototype[ctorName] = ctor;\n\n    return this;\n};\n\nContour.prototype = Object.assign(Contour.prototype, {\n    _visualizations: undefined,\n\n    _extraOptions: undefined,\n\n    _exposed: undefined,\n\n    // Initializes the instance of Contour\n    init: function (options) {\n        // for now, just  store this options here...\n        // the final set of options will be composed before rendering\n        // after all components/visualizations have been added\n        this.originalOptions = options || {};\n\n        this._extraOptions = [];\n        this._visualizations = [];\n        this._exposed = [];\n\n        return this;\n    },\n\n    calculateWidth: function () {\n\n        // assume all in pixel units and border-box box-sizing\n        var outerWidth = parseInt(nwt.getStyle(this.options.el, 'width') || 0, 10);\n        var paddingLeft = parseInt(nwt.getStyle(this.options.el, 'padding-left') || 0, 10);\n        var paddingRight = parseInt(nwt.getStyle(this.options.el, 'padding-right') || 0, 10);\n\n        var width = outerWidth - paddingRight - paddingLeft;\n\n        return this.options.el ? (width || this.options.chart.defaultWidth) : this.options.chart.defaultWidth;\n    },\n\n    calculateHeight: function () {\n        // assume all in pixel units and border-box box-sizing\n        var outerHeight = parseInt(nwt.getStyle(this.options.el, 'height') || 0, 10);\n        var paddingTop = parseInt(nwt.getStyle(this.options.el, 'padding-top') || 0, 10);\n        var paddingBottom = parseInt(nwt.getStyle(this.options.el, 'padding-bottom') || 0, 10);\n        var height = outerHeight - paddingTop - paddingBottom;\n\n        var containerHeight = this.options.el ? height : undefined;\n        var calcWidth = this.options.chart.width;\n        var ratio = this.options.chart.aspect || this.options.chart.defaultAspect;\n\n        return !!containerHeight && containerHeight > 1 ?  containerHeight : Math.round(calcWidth * ratio);\n    },\n\n    calcMetrics: function () {\n        var options = this.options;\n\n        this.adjustPadding();\n\n        this.adjustTitlePadding();\n\n        options.chart.width = options.chart.width || this.calculateWidth();\n        options.chart.height = options.chart.height || this.calculateHeight();\n\n        this.options = nwt.merge(options, {\n            chart: {\n                plotWidth: options.chart.width - options.chart.margin.left - options.chart.margin.right - options.chart.internalPadding.left - options.chart.padding.right,\n                plotHeight: options.chart.height - options.chart.margin.top - options.chart.margin.bottom - options.chart.padding.top - options.chart.internalPadding.bottom,\n                plotLeft: options.chart.margin.left + options.chart.internalPadding.left,\n                plotTop: options.chart.margin.top + options.chart.padding.top\n            }\n        });\n\n        if (this.options.chart.plotWidth <= 0 || this.options.chart.plotHeight <= 0) {\n            console.warn('The chart has no space to render. Either the width/height is zero or you have too much padding\\nWidth: ' + options.chart.width +\n                '\\nHeight: ' + options.chart.height +\n                '\\npadding-left: ' + options.chart.padding.left +\n                '\\npadding-right: ' + options.chart.padding.right +\n                '\\npadding-top: ' + options.chart.padding.top +\n                '\\npadding-bottom: ' + options.chart.padding.bottom);\n\n            this.options.chart.plotWidth = this.options.chart.plotWidth < 0 ? 0 : this.options.chart.plotWidth;\n            this.options.chart.plotHeight = this.options.chart.plotHeight < 0 ? 0 : this.options.chart.plotHeight;\n        }\n    },\n\n    adjustPadding: function () {\n        // overriden by components that need to adjust padding\n        return this;\n    },\n\n    adjustTitlePadding: function () {\n        // overriden by components that need to adjust padding\n        return this;\n    },\n\n    composeOptions: function () {\n        var allDefaults = nwt.merge({}, defaults);\n        var mergeExtraOptions = function (opt) { nwt.merge(allDefaults, opt); };\n        var mergeDefaults = function (vis) { nwt.merge(allDefaults, vis.renderer.defaults); };\n\n        this._extraOptions.forEach(mergeExtraOptions);\n        this._visualizations.forEach(mergeDefaults);\n\n        var forceSkip = ['skip', /formatter/, 'el', /preprocess/, 'column.style', 'bar.style', 'pie.style', /barClass/, /sliceClass/, /sliceClass/, /columnClass/];\n\n        // compose the final list of options right before start rendering\n        var opt = nwt.merge({}, allDefaults, this.originalOptions);\n        this.options = nwt.materialize(opt, this, { skip: forceSkip.concat(this.originalOptions.skip) });\n    },\n\n    /**\n     * Updates the contour configuration for the instance.\n     * The passed options are merged with the current options in the object\n     *\n     * ### Example:\n     *\n     *     var chart = new Contour({\n     *         el: '.myChart'\n     *     })\n     *     .cartesian()\n     *     .line([1,2,3,4,5])\n     *     .render();\n     *\n     *     chart.updateOptions({ yAxis: { max: 100 }}).render();\n     *\n     *\n     * @param {object} options - Options object to be merged with current options.\n     * @function updateOptions\n     */\n    updateOptions: function (options) {\n        this.originalOptions = nwt.merge({}, this.originalOptions, options);\n        return this;\n    },\n\n    baseRender: function () {\n        this.plotArea();\n\n        return this;\n    },\n\n    /**\n    * Renders this Contour instance and all its visualizations into the DOM.\n    *\n    * ### Example:\n    *\n    *     new Contour({ el:'.myChart' })\n    *           .pie([1,2,3])\n    *           .render();\n    *\n    * @function render\n    *\n    */\n    render: function () {\n        this.composeOptions();\n\n        this.calcMetrics();\n\n        this.baseRender();\n\n        this.renderVisualizations();\n\n        return this;\n    },\n\n    /**\n    * Clears this Contour instance and all its visualizations of any size information, so that on the next call to `render()` the instance is re-measured.\n    *\n    * The function takes two optional arguments `width` and `height`. If given a specific width/height the chart uses that sizing information on the next render.\n    *\n    * ### Example:\n    *\n    *     var contour = new Contour({ el:'.myChart' })\n    *           .pie([1,2,3])\n    *           .render();\n    *\n    *     var onResize = function(e) {\n    *          contour.resize().render();\n    *     }\n    *\n    *     window.addEventListener('resize', onResize);\n    *\n    * @function resize\n    * @param {Number} width (optional) The new width for the visualizations. If left blank, the width will be calcuated from options.el's parent.\n    * @param {Number} height (optional) The new height for the visualizations. If left blank, the height will be calcuated from options.el's parent.\n    */\n    resize: function(width, height) {\n\n        if (this.container)\n            this.container.style('height', 0);\n\n        delete this.options.chart.width;\n        delete this.options.chart.height;\n        delete this.options.chart.plotWidth;\n        delete this.options.chart.plotHeight;\n        delete this.options.chart.plotLeft;\n        delete this.options.chart.plotTop;\n\n        if (width)\n            this.options.chart.width = width;\n\n        if (height)\n            this.options.chart.height = height;\n        return this;\n    },\n\n    update: function () {\n        this.calcMetrics();\n        return this;\n    },\n\n    plotArea: function () {\n\n        var chartOpt = this.options.chart;\n\n        this.container = d3.select(this.options.el);\n        // fix a flicker im web-kit when animating opacity and the chart is in an iframe\n        this.container.attr('style', '-webkit-backface-visibility: hidden; position: relative');\n\n        if(!this.svg) {\n            this.svg = this.container\n                .append('svg')\n                .attr('viewBox', '0 0 ' + chartOpt.width + ' ' + chartOpt.height)\n                .attr('preserveAspectRatio', 'xMinYMin')\n                .attr('class', 'contour-chart')\n                .attr('height', chartOpt.height)\n                .append('g')\n                    .attr('transform', 'translate(' + chartOpt.margin.left + ',' + chartOpt.margin.top + ')');\n        } else {\n            this.svg\n                .attr('transform', 'translate(' + chartOpt.margin.left + ',' + chartOpt.margin.top + ')');\n\n            d3.select(this.svg.node().parentNode)\n                .attr('viewBox', '0 0 ' + chartOpt.width + ' ' + chartOpt.height)\n                .attr('height', chartOpt.height);\n        }\n\n        return this;\n    },\n\n    createVisualizationLayer: function (vis, id) {\n        return this.svg.append('g')\n            .attr('vis-id', id)\n            .attr('vis-type', vis.type);\n    },\n\n    renderVisualizations: function () {\n\n        this._visualizations.forEach(function (visualization, index) {\n            var id = index + 1;\n            var layer = visualization.layer || this.createVisualizationLayer(visualization, id);\n            var opt = nwt.merge({}, this.options, visualization.options);\n\n            layer.attr('transform', 'translate(' + this.options.chart.internalPadding.left + ',' + (this.options.chart.padding.top || 0) + ')');\n            visualization.layer = layer;\n            visualization.parent = this;\n            visualization.normalizeData(opt);\n            visualization.render(layer, opt, this);\n        }.bind(this));\n\n        return this;\n    },\n\n    /**\n    * Assert that all the dependencies are in the Contour instance.\n    * For example, if a visualization requires Cartesian to be included in the instance,\n    * it could call this.checkDependencies('Cartesian'), and the framework would\n    * give a helpful error message if Cartesian was not included.\n    *\n    * @function checkDependencies\n    * @param {string|array} list of dependencies (as specified in the instance constructor)\n    *\n    */\n    checkDependencies: function (listOfDependencies) {\n        listOfDependencies = Array.isArray(listOfDependencies) ? listOfDependencies : [listOfDependencies];\n        var _this = this;\n        var missing = [];\n\n        listOfDependencies.forEach(function (dep) {\n            if (_this._exposed.indexOf(dep) === -1) {\n                missing.push(dep);\n            }\n        });\n\n        if (missing.length) {\n            throw new Error('ERROR: Missing depeendencies in the Contour instance (ej. new Contour({}).cartesian())\\n The missing dependencies are: [' + missing.join(', ') + ']\\nGo to http://forio.com/contour/documentation.html#key_concepts for more information');\n        }\n    },\n\n    ensureDefaults: function (options, renderer) {\n        if (nwt.isString(renderer)) {\n            renderer = this[renderer].renderer;\n        }\n\n        if (renderer.defaults) {\n            var defaults = renderer.defaults;\n            options = nwt.defaults(options || {}, defaults);\n            this.options = nwt.defaults(this.options, defaults);\n        }\n    },\n\n    /**\n    * Sets the same data into all visualizations for a Contour instance. Useful for creating interactive\n    * visualizations: call after getting the additional data from the user.\n    *\n    * ###Example:\n    *\n    *     var data = [1,2,3,4,5];\n    *     var chart = new Contour({ el:'.myChart' })\n    *           .cartesian()\n    *           .scatter(data)\n    *           .trendLine(data);\n    *\n    *     data.push(10);\n    *     chart.setData(data)\n    *           .render();\n    *\n    * @function setData\n    *\n    */\n    setData: function (data) {\n        this._visualizations.forEach(function (v) {\n            v.setData(data);\n        });\n\n        return this;\n    },\n\n    /**\n    * Returns a VisualizationContainer object for the visualization at a given index (0-based).\n    *\n    * ###Example:\n    *\n    *     var chart = new Contour({ el:'.myChart' })\n    *           .pie([1,2,3])\n    *           .render();\n    *\n    *     var myPie = chart.select(0);\n    *\n    *     // do something with the visualization, for example updating its data set\n    *     myPie.setData([6,7,8,9]).render();\n    *\n    * @function select\n    *\n    */\n    select: function (index) {\n        return this._visualizations[index];\n    },\n\n    // place holder function for now\n    data: function () {\n\n    },\n\n    dataNormalizer: nwt.normalizeSeries,\n\n    isSupportedDataFormat: nwt.isSupportedDataFormat\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/core/contour.js","import d3 from 'd3';\nimport * as nwt from '../../utils/contour-utils';\n\nfunction YAxis(data, options, domain) {\n    this.data = data;\n    this.options = options || {\n        yAxis: {\n            scaling: { options: {} },\n            labels: { format: 's' }\n        }\n    };\n    this.domain = domain || [0, 1];\n}\n\nfunction setRange(scale, options) {\n    var rangeSize = options.chart.rotatedFrame ? options.chart.plotWidth : options.chart.plotHeight;\n    var range = options.chart.rotatedFrame ? [0, rangeSize] : [rangeSize, 0];\n    return scale.range(range);\n}\n\nYAxis.prototype = {\n    axis: function () {\n        var options = this.options.yAxis;\n        var domain = this.domain;\n        var zeroAnchor = (options.zeroAnchor != null) ? options.zeroAnchor : options.scaling.options.zeroAnchor;\n        var tickValues = options.tickValues || nwt.niceTicks(options.min, options.max, options.ticks, zeroAnchor, domain);\n        var numTicks = this.numTicks(domain, options.min, options.max);\n        var format = options.labels.formatter || d3.format(options.labels.format);\n\n        return d3.svg.axis()\n            .scale(this._scale)\n            .tickFormat(format)\n            .tickSize(options.innerTickSize, options.outerTickSize)\n            .tickPadding(options.tickPadding)\n            .ticks(numTicks)\n            .tickValues(tickValues);\n    },\n\n    scale: function (domain) {\n        if(!this._scale) {\n            this._scale = d3.scale.linear();\n            this.setDomain(domain);\n        }\n\n        setRange(this._scale, this.options);\n        return this._scale;\n    },\n\n    setDomain: function (domain) {\n        this._scale.domain(domain);\n        this._niceTheScale();\n        return this._scale;\n    },\n\n    update: function (domain, dataSrc) {\n        this.data = dataSrc;\n        this.setDomain(domain);\n        this.scale();\n    },\n\n    numTicks: function () {\n        return this.options.yAxis.ticks != null ? this.options.yAxis.ticks : undefined;\n    },\n\n    _niceTheScale: function () {\n        // nothing to do for the regular y-axis\n    }\n};\n\nexport default YAxis;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/core/axis/y-axis.js","import * as nwt from '../../utils/contour-utils';\nimport YAxis from  './y-axis';\nimport CenteredYAxis from './centered-y-axis';\nimport LinearScale from './linear-scale-axis';\nimport LogYAxis from './log-y-axis';\nimport OrdinalScale from './ordinal-scale-axis';\nimport SmartYAxis from './smart-y-axis';\nimport TimeScale from './time-scale-axis';\n\n\nexport const axes = {\n    'log': LogYAxis,\n    'smart': SmartYAxis,\n    'linear': YAxis,\n    'centered': CenteredYAxis,\n    'ordinal': OrdinalScale,\n    'time': TimeScale,\n    'xLinear': LinearScale\n};\nexport const addAxis = (name, axisCtor) => {\n    axes[name] = axisCtor;\n};\n\nexport const xScaleFactory = function (data, options) {\n    // if we have dates in the x field of the data points\n    // we need a time scale, otherwise is an oridinal\n    // two ways to shape the data for time scale:\n    //  [{ x: date, y: 1}, {x: date, y: 2}]\n    //  [{ data: [ x: date, y: 1]}, {data: [x: date, y: 100]}]\n    // if we get no data, we return an ordinal scale\n    var isTimeData = options.xAxis.type === 'time' || (Array.isArray(data) && data.length > 0 && data[0].data ?\n        data[0].data[0].x && nwt.isDate(data[0].data[0].x) :\n        Array.isArray(data) && data.length > 0 && data[0].x && nwt.isDate(data[0].x));\n\n\n    if (isTimeData && options.xAxis.type !== 'ordinal') {\n        return new TimeScale(data, options);\n    }\n\n    if (!options.xAxis.categories && options.xAxis.type === 'linear') {\n        return new LinearScale(data, options);\n    }\n\n    return new OrdinalScale(data, options);\n};\n\nexport const yScaleFactory = function (data, options, axisType, domain) {\n    var map = {\n        'log': LogYAxis,\n        'smart': SmartYAxis,\n        'linear': YAxis,\n        'centered': CenteredYAxis\n    };\n\n    if (!axisType) {\n        axisType = 'linear';\n    }\n\n    if (axisType === 'linear' && (options.yAxis.smartAxis || options.yAxis.scaling.type === 'smart')) {\n        axisType = 'smart';\n    }\n\n    if (axisType === 'linear' && options.yAxis.scaling.type === 'centered') {\n        axisType = 'centered';\n    }\n\n    if (axisType in axes) {\n        return new axes[axisType](data, options, domain);\n    }\n\n    throw new Error('Unknown axis type: \"' + axisType + '\"');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/core/axis/axis-scale-factory.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 5\n// module chunks = 0 1","import d3 from 'd3';\nimport * as nwt from '../../utils/contour-utils';\nimport YAxis from './y-axis';\n\n// focus on vertically centering data - zero anchor is ignored\nfunction CenteredYAxis(data, options, domain) {\n    this.data = data;\n    this.options = options;\n    this.yMax = domain[0];\n    this.yMin = domain[1];\n    this.NUM_DECIMALS = 1;\n}\n\nconst __super = YAxis.prototype;\nCenteredYAxis.prototype = Object.assign({}, __super, {\n    axis: function () {\n        var options = this.options.yAxis;\n        this.domain = this._scale.domain();\n        var numTicks = options.ticks || 5;\n        var axis = __super.axis.call(this);\n        var tickValues = this._extractYTickValues(options.min, options.max, numTicks);\n\n        return axis.ticks(numTicks)\n            .tickValues(tickValues)\n            .tickFormat(undefined);\n    },\n\n    setDomain: function (domain) {\n        var scaledDomain = this._getScaledDomain(domain);\n\n        this.yMin = scaledDomain[0];\n        this.yMax = scaledDomain[1];\n        this._scale.domain(scaledDomain);\n    },\n\n    _getScaledDomain: function(domain) {\n        var extent = d3.extent(domain);\n        var dataRange = extent[1] - extent[0];\n        var domainPadding = dataRange * 0.1;\n\n        var scaledMin = d3.round(extent[0] - domainPadding, this.NUM_DECIMALS);\n        var scaledMax = d3.round(extent[1] + domainPadding, this.NUM_DECIMALS);\n\n        return [scaledMin, scaledMax];\n    },\n\n        _extractYTickValues:  function(min, max, numTicks) {\n        var tickMin = min != null ? min : this.yMin;\n        var tickMax = max != null ? max : this.yMax;\n\n        var tickRange = tickMax - tickMin;\n        var tickSpacing = tickRange / numTicks;\n\n        var currentTick = tickMin;\n        var tickValues = [tickMin];\n        while (currentTick < tickMax) {\n            currentTick += tickSpacing;\n            tickValues.push(d3.round(currentTick, this.NUM_DECIMALS));\n        }\n        tickValues.push(tickMax);\n\n        return tickValues;\n    }\n});\n\nexport default CenteredYAxis;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/core/axis/centered-y-axis.js","import d3 from 'd3';\nimport * as nwt from '../../utils/contour-utils';\n\nfunction LinearScale(data, options) {\n    this.options = options;\n    this.data = data;\n\n    this.init();\n}\n\nLinearScale.prototype = {\n    init: function () {\n        delete this._scale;\n    },\n\n    scale: function (domain) {\n        this._domain = domain ? this._getAxisDomain(domain) : this._getAxisDomain(this.data);\n        this._scale = this._scale || d3.scale.linear();\n        this._scale.domain(this._domain);\n\n        if (this.options.xAxis.min == null && this.options.xAxis.max == null) {\n            this._scale.nice();\n        }\n\n        this._setRange();\n\n        return this._scale;\n    },\n\n    axis: function () {\n        var options = this.options.xAxis;\n        var formatLabel = options.labels.formatter || d3.format(options.labels.format || 'g');\n        var axis = d3.svg.axis()\n            .scale(this._scale)\n            .tickSize(options.innerTickSize, options.outerTickSize)\n            .tickPadding(options.tickPadding)\n            .tickFormat(function (d) {\n                return nwt.isDate(d) ? d.getDate() : formatLabel(d);\n            });\n\n        var ticks = axis.scale().ticks();\n\n        var labelsFit = nwt.doXLabelsFit(ticks, formatLabel, this.options);\n\n        if (options.firstAndLast) {\n            // show only first and last tick\n            axis.tickValues(nwt.firstAndLast(this._domain));\n        } else if (options.tickValues) {\n            axis.tickValues(options.tickValues);\n        } else if (options.ticks != null) {\n            axis.ticks(options.ticks);\n        } else if (!labelsFit) {\n            var finalTicks = nwt.getTicksThatFit(ticks, formatLabel, this.options);\n            axis.tickValues(finalTicks);\n            axis.ticks(finalTicks.length);\n        }\n\n        return axis;\n    },\n\n    update: function (domain, dataSrc, options) {\n        this.data = dataSrc;\n        this.options = options || this.options;\n        this.scale(domain);\n    },\n\n    rangeBand: function () {\n        return 1;\n    },\n\n    postProcessAxis: function () {\n        return this;\n    },\n\n    _setRange: function () {\n        var rangeSize = !!this.options.chart.rotatedFrame ? this.options.chart.plotHeight : this.options.chart.plotWidth;\n        var range = !!this.options.chart.rotatedFrame ? [rangeSize, 0]  : [0, rangeSize];\n        return this._scale.range(range);\n    },\n\n    _getAxisDomain: function (domain) {\n        var optMin = this.options.xAxis.min;\n        var optMax = this.options.xAxis.max;\n        var extents = d3.extent(domain);\n\n        if (optMin == null && optMax == null) {\n            return extents;\n        }\n\n        if (optMin == null) {\n            return [Math.min(extents[0], optMax), optMax];\n        }\n\n        if (optMax == null) {\n            return [optMin, Math.max(extents[1], optMin)];\n        }\n\n        // options are invalid, use the extents\n        if (optMin > optMax) {\n            return extents;\n        }\n\n        return [optMin, optMax];\n    }\n};\n\nexport default LinearScale;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/core/axis/linear-scale-axis.js","import d3 from 'd3';\nimport YAxis from './y-axis';\n\nfunction LogYAxis(data, options) {\n    this.data = data;\n    this.options = options;\n}\n\nfunction setRange(scale, options) {\n    var rangeSize = options.chart.rotatedFrame ? options.chart.plotWidth : options.chart.plotHeight;\n    var range = options.chart.rotatedFrame ? [0, rangeSize] : [rangeSize, 0];\n    return scale.range(range);\n}\n\nvar __super = YAxis.prototype;\nLogYAxis.prototype = Object.assign({}, __super, {\n    axis: function () {\n        var options = this.options.yAxis;\n        var domain = this._scale.domain();\n        var ticksHint = Math.ceil(Math.log(domain[1]) / Math.log(10));\n        var format = options.labels.formatter || d3.format(options.labels.format || ',.0f');\n\n        var axis = d3.svg.axis()\n            .scale(this._scale)\n            .tickSize(options.innerTickSize, options.outerTickSize)\n            .tickPadding(options.tickPadding);\n        if(options.labels.formatter) {\n            axis.tickFormat(options.labels.formatter);\n        } else {\n            axis.ticks(options.ticks || ticksHint, format);\n        }\n\n\n        return axis;\n    },\n\n    scale: function (domain) {\n        if(!this._scale) {\n            if(domain[0] <= 0.1) domain[0] = 0.1; //throw new Error('Log scales don\\'t support 0 or negative values');\n\n            this._scale = d3.scale.log();\n            this.setDomain(domain).clamp(true);\n\n        }\n\n        setRange(this._scale, this.options);\n\n        return this._scale;\n    },\n\n    update: function (domain, dataSrc) {\n        this.data = dataSrc;\n        if(domain[0] <= 0.1) domain[0] = 0.1; //throw new Error('Log scales don\\'t support 0 or negative values');\n        this.setDomain(domain).clamp(true);\n        this.scale();\n    },\n});\n\nexport default LogYAxis;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/core/axis/log-y-axis.js","import d3 from 'd3';\nimport * as nwt from '../../utils/contour-utils';\n\n// implements the following interface\n/*\n{\n    scale: returns the d3 scale for the type\n\n    axis: returns the d3 axis\n\n    range: returns the d3 range for the type\n\n    postProcessAxis:\n}\n*/\n\nfunction OrdinalScale(data, options) {\n    this.options = options;\n    this.data = data;\n\n    this.init();\n}\n\nOrdinalScale.prototype = {\n    init: function () {\n        this.isCategorized = true;\n        delete this._scale;\n    },\n\n    scale: function (domain) {\n        if(!this._scale) {\n            this._scale = new d3.scale.ordinal();\n        }\n\n        this.setDomain(domain || this.data);\n\n        return this._scale;\n    },\n\n    /* jshint eqnull:true */\n    axis: function () {\n        var options = this.options.xAxis;\n        var optFormat = (options.labels.format ? d3.format(options.labels.format) : 0);\n        var formatLabel = options.labels.formatter || d3.format(options.labels.format || 'g');\n\n        var tickFormat = options.labels.formatter || (!this.isCategorized ? optFormat : 0) || function (d) { return nwt.isDate(d) ? d.getDate() : d; };\n        var axis = d3.svg.axis()\n            .scale(this._scale)\n            .innerTickSize(options.innerTickSize)\n            .outerTickSize(options.outerTickSize)\n            .tickPadding(options.tickPadding)\n            .tickFormat(tickFormat);\n\n        var ticks = this.isCategorized && options.categories ? options.categories : nwt.range(this._domain.length) || [];\n        var labelsFit = nwt.doXLabelsFit(ticks, formatLabel, this.options);\n\n        if (options.firstAndLast) {\n            // show only first and last tick\n            axis.tickValues(nwt.firstAndLast(this._domain));\n        } else if (options.maxTicks) {\n            axis.tickValues(nwt.maxTickValues(options.maxTicks, this._domain));\n        } else if (options.tickValues) {\n            axis.tickValues(options.tickValues);\n        } else if (options.ticks != null) {\n            axis.ticks(options.ticks);\n            if (options.ticks === 0) {\n                axis.tickValues([]);\n            }\n        } else if (!labelsFit) {\n            var finalTicks = nwt.getTicksThatFit(ticks, formatLabel, this.options);\n            axis.tickValues(finalTicks);\n            axis.ticks(finalTicks.length);\n        } else {\n            axis.tickValues(options.categories);\n        }\n\n        return axis;\n    },\n\n    /* jshint eqnull:true */\n    postProcessAxis: function (axisGroup) {\n        var options = this.options.xAxis;\n        if (!options.labels || options.labels.rotation == null) return;\n\n        var deg = options.labels.rotation;\n        var rad = nwt.degToRad(deg);\n        var sign = deg > 0 ? 1 : deg < 0 ? -1 : 0;\n        var pos = deg < 0 ? -1 : 1;\n        var lineHeight = 0.71;\n        var lineCenter = lineHeight / 2; // center of text line is at .31em\n        var cos = Math.cos(rad);\n        var sin = Math.sin(rad);\n        var anchor = options.labels.rotation < 0 ? 'end' : options.labels.rotation > 0 ? 'start' : 'middle';\n\n        axisGroup.selectAll('.tick text')\n            .style({'text-anchor': anchor})\n            .attr('transform', function (d, i, j) {\n                var x = d3.select(this).attr('x') || 0;\n                var y = d3.select(this).attr('y') || 0;\n                return 'rotate(' + options.labels.rotation + ' ' + x + ',' + y + ')';\n            })\n            .attr('dy', function (d, i, j) {\n                var ref = deg === 0 ? lineHeight : lineCenter;\n                var num = ((cos * ref) + (sin * ref * pos));\n                return (num).toFixed(4) + 'em';\n                // return (sign * ((cos * lineCenter) + (sin * lineCenter))).toFixed(4) + 'em';\n            })\n            .attr('dx', function (d, i, j) {\n                // var num = ((sin * lineCenter * pos));\n                // return -num.toFixed(4) + 'em';\n                return -(sin * lineCenter - 0.31 * sign).toFixed(4) + 'em';\n\n            });\n    },\n\n    update: function (domain, data, options) {\n        this.data = data;\n        this.options = options || this.options;\n        this.scale(domain);\n    },\n\n    setDomain: function (domain) {\n        this._domain = domain;\n        this._scale.domain(domain);\n        this._range();\n    },\n\n    rangeBand: function () {\n        var band = this._scale.rangeBand();\n        if (!band) nwt.warn('rangeBand is 0, you may have too many points in in the domain for the size of the chart (ie. chartWidth = ' + this.options.chart.plotWidth + 'px and ' + (this._domain.length) + ' X-axis points (plus paddings) means less than 1 pixel per band and there\\'re no half pixels');\n\n        return this._scale.rangeBand();\n    },\n\n    _range: function () {\n        var range = this.options.chart.rotatedFrame ? [this.options.chart.plotHeight, 0] : [0, this.options.chart.plotWidth];\n        var numCats = (this._domain || []).length;\n        var threshold = 30;\n        var rangeType = numCats <= threshold ? 'rangeRoundBands' : 'rangeBands';\n\n        return this.isCategorized ?\n            // this._scale.rangeBands(range, this.options.xAxis.innerRangePadding, this.options.xAxis.outerRangePadding) :\n            this._scale[rangeType](range, this.options.xAxis.innerRangePadding, this.options.xAxis.outerRangePadding) :\n            this._scale.rangePoints(range);\n    }\n};\n\nexport default OrdinalScale;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/core/axis/ordinal-scale-axis.js","import d3 from 'd3';\nimport * as nwt from '../../utils/contour-utils';\nimport YAxis from './y-axis';\n\nfunction SmartYAxis(data, options, domain) {\n    this.data = data;\n    this.options = options;\n    this.yMax = domain[0];\n    this.yMin = domain[1];\n    this.dataMax = d3.max(data.map(function (d) { return d.y; }));\n}\n\nfunction _extractYTickValues(domain, min, max, yMin, yMax, dataMax) {\n    var adjustedDomain = nwt.uniq(nwt.mergeArrays(nwt.mergeArrays(domain, yMax), dataMax));\n    // we want to be able to remove parameters with default values\n    // so to remove the default yAxis.min: 0, you pass yAxis.min: null\n    // and for that we need to to a truly comparison here (to get null or undefined)\n    if (min == null && max == null)\n        return adjustedDomain;\n\n    if (min == null) {\n        return max > yMin ? nwt.mergeArrays([max], adjustedDomain) : [max];\n    }\n\n    if (max == null) {\n        if (min >= yMax) return [min];\n        adjustedDomain[0] = min;\n\n        return adjustedDomain;\n    }\n\n    return nwt.mergeArrays([min, max], yMax);\n}\n\nvar __super = YAxis.prototype;\nSmartYAxis.prototype = Object.assign({}, __super, {\n    axis: function () {\n        var options = this.options.yAxis;\n        this.domain = this._scale.domain();\n        var tickValues = _extractYTickValues(this.domain, options.min, options.max, this.yMin, this.yMax, this.dataMax);\n        var numTicks = this.numTicks();\n        var axis = __super.axis.call(this);\n        return axis.ticks(numTicks)\n            .tickValues(tickValues);\n    },\n\n    numTicks: function () {\n        return 3;\n    },\n\n    setDomain: function (domain) {\n        var extent = d3.extent(domain);\n        this.yMin = extent[0];\n        this.yMax = extent[1];\n        this._scale.domain(domain);\n\n        this._niceTheScale();\n    },\n\n    _niceTheScale: function () {\n        var perTreshold = 0.05;\n        var domain = this._scale.domain();\n        var min = this.options.yAxis.min || domain[0];\n        var rawMax = this.options.yAxis.max || this.dataMax;\n        var nextTick = nwt.roundToNextTick(rawMax);\n\n        var max = Math.abs(nextTick - rawMax) < rawMax * perTreshold ? nwt.roundToNextTick(rawMax + rawMax * perTreshold) : nextTick;\n        // var max = nextTick === rawMax ? nwt.roundToNextTick(rawMax + Math.pow(10, -nwt.decDigits(rawMax) - 1)) : nextTick;\n        var nice = [min, max];\n        this._scale.domain(nice);\n    }\n});\n\nexport default SmartYAxis;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/core/axis/smart-y-axis.js","import d3 from 'd3';\nimport * as nwt from '../../utils/contour-utils';\n\n// implements the following interface\n/*\n{\n    scale: returns the d3 scale for the type\n\n    range: returns the d3 range for the type\n}\n*/\n\nfunction dateDiff(d1, d2) {\n    if (!d1 || !d2) return 0;\n    var diff = d1.getTime() - d2.getTime();\n    return diff / (24*60*60*1000);\n}\n\n\nfunction TimeScale(data, options) {\n    this.options = options;\n    this.data = data;\n\n    this.init();\n}\n\nTimeScale.prototype = {\n    init: function () {\n        delete this._scale;\n    },\n\n    scale: function (domain) {\n\n        if(!this._scale) {\n            this._scale = new d3.time.scale();\n            this.setDomain(domain);\n        }\n\n        this.range();\n\n        return this._scale;\n    },\n\n\n    /* jshint eqnull:true */\n    axis: function () {\n        var options = this.options.xAxis;\n        var tickFormat = this.getOptimalTickFormat();\n\n        var axis = d3.svg.axis()\n            .scale(this._scale)\n            .tickFormat(tickFormat)\n            .tickSize(options.innerTickSize, options.outerTickSize)\n            .tickPadding(options.tickPadding)\n            .tickValues(this._domain);\n\n        if (this.options.xAxis.tickValues != null) {\n            axis.tickValues(this.options.xAxis.tickValues);\n        } else if (this.options.xAxis.maxTicks != null && this.options.xAxis.maxTicks < this._domain.length) {\n            // override the tickValues with custom array based on number of ticks\n            // we don't use D3 ticks() because you cannot force it to show a specific number of ticks\n            axis.tickValues(nwt.maxTickValues(options.maxTicks, this._domain));\n\n        } else if (this.options.xAxis.firstAndLast) {\n            // show only first and last tick\n            axis.tickValues(nwt.firstAndLast(this._domain));\n        }\n\n        return axis;\n    },\n\n    update: function (domain, data, options) {\n        this.data = data;\n        this.options = options || this.options;\n        this.setDomain(domain);\n        this.scale();\n    },\n\n    setDomain: function (domain) {\n        this._domain = domain;\n        var axisDomain = this._getAxisDomain(this._domain);\n        this._scale.domain(axisDomain);\n    },\n\n    postProcessAxis: function (axisGroup) {\n        if (!this.options.xAxis.firstAndLast) return;\n        var labels = axisGroup.selectAll('.tick text')[0];\n        d3.select(labels[0]).style({'text-anchor': 'start'});\n        d3.select(labels[labels.length - 1]).style({'text-anchor': 'end'});\n    },\n\n    rangeBand: function () {\n        return 4;\n    },\n\n    getOptimalTickFormat: function () {\n        if (this.options.xAxis.labels.formatter) return this.options.xAxis.labels.formatter;\n        if (this.options.xAxis.labels.format) return d3.time.format(this.options.xAxis.labels.format);\n\n        var spanDays = Math.abs(dateDiff(this._domain[this._domain.length-1], this._domain[0]));\n        var daysThreshold = this.options.xAxis.maxTicks || 1;\n        if (spanDays < daysThreshold) return d3.time.format('%H:%M');\n        if (spanDays < 365) return d3.time.format('%d %b');\n\n        return d3.time.format('%Y');\n    },\n\n    range: function () {\n        var range = this._getAxisRange(this._domain);\n        return this._scale.rangeRound(range, 0.1);\n    },\n\n\n    _getAxisDomain: function (domain) {\n        if(this.options.xAxis.linearDomain) {\n            return domain;\n        }\n\n        return d3.extent(domain);\n    },\n\n    _getAxisRange: function (domain) {\n        var size = this.options.chart.rotatedFrame ? this.options.chart.plotHeight : this.options.chart.plotWidth;\n\n        if(this.options.xAxis.linearDomain) {\n            return nwt.range(0, size, size / (domain.length - 1)).concat([size]);\n        }\n\n        return [0, size];\n    }\n};\n\nexport default TimeScale;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/core/axis/time-scale-axis.js","\nimport Contour from './core/contour';\nimport './core/cartesian';\nimport './core/horizontal-frame';\nimport './core/exportable';\n\nimport './core/axis/y-axis';\nimport './core/axis/axis-scale-factory';\nimport './core/axis/centered-y-axis';\nimport './core/axis/linear-scale-axis';\nimport './core/axis/log-y-axis';\nimport './core/axis/ordinal-scale-axis';\nimport './core/axis/smart-y-axis';\nimport './core/axis/time-scale-axis';\n\nimport './visualizations/area';\nimport './visualizations/bar';\nimport './visualizations/column';\nimport './visualizations/cool-narwhal';\nimport './visualizations/legend';\nimport './visualizations/line';\nimport './visualizations/null';\nimport './visualizations/pie';\nimport './visualizations/scatter';\nimport './visualizations/stack-tooltip';\nimport './visualizations/tooltip';\nimport './visualizations/trend-line';\n\nimport '../styles/contour.less';\n\nmodule.exports = Contour;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/index.js","import d3 from 'd3';\nimport * as nwt from './contour-utils';\n\nvar _extent = function (series, field) {\n    var maxs = [], mins = [];\n    series.forEach(function (d) {\n        if(!d.data.length) return;\n        var values = d.data.map(function (d) { return d[field]; });\n        maxs.push(d3.max(values));\n        mins.push(d3.min(values));\n    });\n\n    //\n    if(!mins.length || !maxs.length) return [];\n\n    return [Math.min.apply(null, mins), Math.max.apply(null, maxs)];\n};\n\nvar _stackedExtent = function (data) {\n    var stack = nwt.stackLayout();\n    var dataSets = stack(data);\n    var ext = [];\n    dataSets.forEach(function (set) {\n        set.data.forEach(function (d, i) {\n            var cur = ext[i] || 0;\n            ext[i] = cur + d.y;\n        });\n    });\n\n    return [Math.min.apply(null, ext), Math.max.apply(null, ext)];\n};\n\nvar _xExtent = nwt.partialRight(_extent, 'x');\nvar _yExtent = nwt.partialRight(_extent, 'y');\n\nfunction VisInstanceContainer(data, vizOptions, type, renderer, context) {\n    this.type = type;\n    this.renderer = renderer;\n    this.ctx = context;\n    this.options = vizOptions;\n    this.init(data);\n}\n\nVisInstanceContainer.prototype = {\n    init: function (data) {\n        this.rawData = data;\n    },\n\n    render: function (layer, options, ctx) {\n        this.renderer.call(ctx, this.data, layer, options);\n        return ctx;\n    },\n\n    setVisibility: function (visible) {\n        var node = this.layer.node();\n\n        if (visible) {\n            node.style.display = 'block';\n        } else {\n            node.style.display = 'none';\n        }\n\n        return this.ctx;\n    },\n\n    setData: function (data) {\n        this.rawData = data;\n        return this.ctx;\n    },\n\n\n    normalizeData: function (options) {\n        var normal = (this.ctx || {}).dataNormalizer || nwt.normalizeSeries;\n        var categories = (options.xAxis || {}).categories;\n        this.data = normal(this.rawData, categories);\n        this._updateDomain(options);\n\n        return this.ctx;\n    },\n\n    _updateDomain: function (options) {\n        if(!options[this.type]) throw new Error('Set the options before calling setData or _updateDomain');\n\n        var isSupportedFormat = (this.ctx || {}).isSupportedDataFormat || nwt.isSupportedDataFormat;\n\n        if (isSupportedFormat(this.data)) {\n            this.xDomain = nwt.flatten(this.data.map(function (set) { return set.data.map(function (d) { return d.x; }); }));\n            this.xExtent = _xExtent(this.data, 'x');\n            this.yExtent = options[this.type].stacked ? _stackedExtent(this.data) : _yExtent(this.data);\n        }\n    }\n};\n\nexport default VisInstanceContainer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/visualization-container.js","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Used by `_.defaults` to customize its `_.assignIn` use.\n *\n * @private\n * @param {*} objValue The destination value.\n * @param {*} srcValue The source value.\n * @param {string} key The key of the property to assign.\n * @param {Object} object The parent object of `objValue`.\n * @returns {*} Returns the value to assign.\n */\nfunction assignInDefaults(objValue, srcValue, key, object) {\n  if (objValue === undefined ||\n      (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n    return srcValue;\n  }\n  return objValue;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * This method is like `_.assignIn` except that it accepts `customizer`\n * which is invoked to produce the assigned values. If `customizer` returns\n * `undefined`, assignment is handled by the method instead. The `customizer`\n * is invoked with five arguments: (objValue, srcValue, key, object, source).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias extendWith\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} [customizer] The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @see _.assignWith\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   return _.isUndefined(objValue) ? srcValue : objValue;\n * }\n *\n * var defaults = _.partialRight(_.assignInWith, customizer);\n *\n * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n  copyObject(source, keysIn(source), object, customizer);\n});\n\n/**\n * Assigns own and inherited enumerable string keyed properties of source\n * objects to the destination object for all destination properties that\n * resolve to `undefined`. Source objects are applied from left to right.\n * Once a property is set, additional values of the same property are ignored.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaultsDeep\n * @example\n *\n * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar defaults = baseRest(function(args) {\n  args.push(undefined, assignInDefaults);\n  return apply(assignInWith, undefined, args);\n});\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = defaults;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/lodash.defaults/index.js\n// module id = 14\n// module chunks = 0 1","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Gets the value at `key`, unless `key` is \"__proto__\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  return key == '__proto__'\n    ? undefined\n    : object[key];\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeMax = Math.max,\n    nativeNow = Date.now;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    if (isObject(srcValue)) {\n      stack || (stack = new Stack);\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || (srcIndex && isFunction(objValue))) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = merge;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/lodash.merge/index.js\n// module id = 15\n// module chunks = 0 1","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 16\n// module chunks = 0 1","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from './contour';\nimport { xScaleFactory, yScaleFactory } from './axis/axis-scale-factory';\n\nvar defaults = {\n    chart: {\n        gridlines: 'none',\n        // not clipping the plot area could be a performance gain\n        // but by default we clip to be safe\n        clipPlotArea: true,\n        padding: {\n            top: 6,\n            right: 5,\n            // this get's defined based on the axis & title\n            bottom: undefined,\n            // this get's defined based on the axis & title\n            left: undefined\n        }\n    },\n\n    xAxis: {\n        // type of axis {ordinal|linear|time}\n        type: null, // default is linear in line.js (needs to be null here so overrides work)\n        categories: undefined,\n        max: undefined,\n        min: undefined,\n        innerTickSize: 6,\n        outerTickSize: 0,\n        tickPadding: 6,\n        maxTicks: undefined,\n        ticks: undefined,\n        tickValues: undefined,\n        title: undefined,\n        titlePadding: 4,\n        // padding between ranges (ie. columns) expressed in percentage of rangeBand width\n        innerRangePadding: 0.1,\n        // padding between all ranges (ie. columns) and the axis (left & right) expressed in percentage of rangeBand width\n        outerRangePadding: 0.1,\n        firstAndLast: false,\n        orient: 'bottom',\n        labels: {\n            format: undefined,\n            formatter: undefined\n        },\n        linearDomain: false,     // specify if a time domain should be treated linearly or ....\n        // should the xAxis be rendered at y=0 or at the bottom of the chart regardless of where y = 0 is\n        zeroPlane: false,\n    },\n\n    yAxis: {\n        // @param: {linear|smart|log}\n        // type: 'smart',\n        min: undefined,\n        max: undefined,\n        scaling: {\n            type: 'auto', // || 'smart' || 'centered'\n            options: {\n                zeroAnchor: true\n            }\n        },\n        innerTickSize: 6,\n        outerTickSize: 6,\n        tickPadding: 4,\n        tickValues: undefined,\n        ticks: undefined,\n        title: undefined,\n        titlePadding: 4,\n        orient: 'left',\n        labels: {\n            // top, middle, bottom\n            verticalAlign: 'middle',\n            format: 's', // d3 formats\n            formatter: undefined // a function that formats each value ie. function (datum) { return 'x: ' + datum.x + ', y:' + datum.y }\n        }\n    }\n};\n\n\n/**\n* Provides a Cartesian frame to the Contour instance.\n*\n* This is required for all visualizations displayed in a Cartesian frame, for example line charts, bar charts, area charts, etc. It is not required otherwise; for instance, pie charts do not use a Cartesian frame.\n*\n* ###Example:\n*\n*     new Contour(options)\n*           .cartesian();\n*\n* @name cartesian\n*/\nvar cartesian = function () {\n    var maxTickSize = function (options) { return Math.max(options.outerTickSize || 0, options.innerTickSize || 0); };\n    return {\n        dataSrc: [],\n\n        init: function (options) {\n\n            // readonly properties (ie. user cannot modify)\n            var readOnlyProps = {\n                chart: {\n                    rotatedFrame: false,\n                    internalPadding: {\n                        bottom: undefined,\n                        left: undefined\n                    }\n                }\n            };\n\n            this.options = options || {};\n\n            nwt.merge(this.options, readOnlyProps);\n\n            var extraPadding = {};\n            if (!this.options.xAxis || !this.options.xAxis.firstAndLast) {\n                extraPadding = { chart : { padding: { right: 15 }}};\n            }\n\n            this._extraOptions.push(nwt.merge({}, defaults, extraPadding));\n\n            return this;\n        },\n\n        xDomain: [],\n        yDomain: [],\n\n        _getYScaledDomain: function (domain, options) {\n            var opts = this.options.yAxis;\n            var zeroAnchor = (opts.zeroAnchor != null) ? opts.zeroAnchor : opts.scaling.options.zeroAnchor;\n            var absMin = zeroAnchor && domain && domain[0] > 0 ? 0 : undefined;\n            var min = opts.min != null ? opts.min : absMin;\n\n            if (opts.tickValues) {\n                if (opts.min != null && opts.max != null) {\n                    return [opts.min, opts.max];\n                } else if (opts.min != null) {\n                    return [opts.min, d3.max(zeroAnchor ? [0].concat(opts.tickValues) : opts.tickValues)];\n                } else if (opts.max != null) {\n                    return [d3.min(zeroAnchor ? [0].concat(opts.tickValues) : opts.tickValues), opts.max];\n                } else {\n                    return d3.extent(zeroAnchor || opts.min != null ? [min].concat(opts.tickValues) : opts.tickValues);\n                }\n            } else if (opts.smartAxis || opts.scaling.type === 'smart') {\n                return d3.extent(zeroAnchor || opts.min != null ? [min].concat(domain) : domain);\n            } else if (opts.scaling.type === 'centered') {\n                return d3.extent(domain);\n            }\n\n            return nwt.extractScaleDomain(domain, min, opts.max, opts.ticks);\n        },\n\n        /*jshint eqnull:true */\n        adjustPadding: function () {\n            var xOptions = this.options.xAxis;\n            var yOptions = this.options.yAxis;\n            // bottom padding calculations\n            if (this.options.chart.padding.bottom == null) {\n                this.options.chart.internalPadding.bottom = this._getAdjustedBottomPadding(xOptions);\n            } else {\n                this.options.chart.internalPadding.bottom = this.options.chart.padding.bottom || 0;\n            }\n\n            this.options.chart.padding.top = this.options.chart.internalPadding.top = this._getAdjustedTopPadding(xOptions);\n\n            // left padding calculations\n            if (this.options.chart.padding.left == null) {\n                this.options.chart.internalPadding.left = this._getAdjustedLeftPadding(yOptions);\n            } else {\n                this.options.chart.internalPadding.left = this.options.chart.padding.left;\n            }\n\n            this.options.chart.padding.right = this.options.chart.internalPadding.right = this._getAdjustedRightPadding(yOptions);\n        },\n\n        _getAdjustedTopPadding: function (options) {\n            return this.options.chart.padding.top;\n        },\n\n        _getAdjustedBottomPadding: function (options) {\n            if (options.ticks !== 0) {\n                var xLabels = this.xDomain;\n                var xAxisText = xLabels.join('<br>');\n                var xLabelBounds = nwt.textBounds(xAxisText, '.x.axis');\n                var regularXBounds = nwt.textBounds('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890', '.x.axis');\n                var em = regularXBounds.height;\n                var ang = options.labels && options.labels.rotation ? options.labels.rotation % 360 : 0;\n                var xLabelHeightUsed = ang === 0 ? regularXBounds.height : Math.ceil(Math.abs(xLabelBounds.width * Math.sin(nwt.degToRad(ang))) + em / 5) ;\n                return maxTickSize(options) + (options.tickPadding || 0) +\n                    xLabelHeightUsed;\n            } else {\n                return maxTickSize(options) + (options.tickPadding || 0);\n            }\n        },\n\n        _getAdjustedLeftPadding: function (options) {\n            var yDomainScaled = this._getYScaledDomain(this.yDomain, this.options);\n            var tmpScale = d3.scale.linear().domain(yDomainScaled);\n            var yLabels = tmpScale.ticks(options.ticks);\n\n            var format = options.labels.formatter || d3.format(options.labels.format || ',.0f');\n            var yAxisText = yLabels.map(format).join('<br>');\n            var yLabelBounds = nwt.textBounds(yAxisText, '.y.axis');\n            return maxTickSize(this.options.yAxis) + (this.options.yAxis.tickPadding || 0) +\n                yLabelBounds.width;\n        },\n\n        _getAdjustedRightPadding: function (options) {\n            return this.options.chart.padding.right;\n        },\n\n        adjustTitlePadding: function () {\n            var titleBounds;\n            if (this.options.xAxis.title || this.options.yAxis.title) {\n                if(this.options.xAxis.title) {\n                    titleBounds = nwt.textBounds(this.options.xAxis.title, '.x.axis-title');\n                    this.options.chart.internalPadding.bottom += titleBounds.height + this.options.xAxis.titlePadding;\n                }\n\n                if(this.options.yAxis.title) {\n                    titleBounds = nwt.textBounds(this.options.yAxis.title, '.y.axis-title');\n                    this.options.chart.internalPadding.left += titleBounds.height + this.options.yAxis.titlePadding;\n                }\n            }\n        },\n\n        computeXScale: function () {\n            if (!this.xDomain) throw new Error('You are trying to render without setting data (xDomain).');\n\n            if(!this.xScale) {\n                this.xScaleGenerator = xScaleFactory(this.dataSrc, this.options);\n                this.xScale = this.xScaleGenerator.scale(this.xDomain);\n                this.rangeBand = this.xScaleGenerator.rangeBand();\n            } else {\n                this.xScaleGenerator.update(this.xDomain, this.dataSrc, this.options);\n                this.rangeBand = this.xScaleGenerator.rangeBand();\n            }\n        },\n\n        computeYScale: function () {\n            if (!this.yDomain) throw new Error('You are trying to render without setting data (yDomain).');\n\n            var yScaleDomain = this._getYScaledDomain(this.yDomain, this.options);\n\n            if(!this.yScale) {\n                this.yScaleGenerator = yScaleFactory(this.dataSrc, this.options, this.options.yAxis.type, this.yDomain);\n                this.yScale = this.yScaleGenerator.scale(yScaleDomain);\n            } else {\n                this.yScaleGenerator.update(yScaleDomain, this.dataSrc);\n            }\n        },\n\n        /**\n        * Provides a scaling function based on the xAxis values.\n        *\n        * ###Example:\n        *\n        *     var scaledValue = this.xScale(100);\n        *\n        * @function xScale\n        * @param {Number|String} value The value to be scaled.\n        * @return {Number} The scaled value according to the current xAxis settings.\n        */\n        xScale: undefined,\n\n        /**\n        * Provides a scaling function based on the yAxis values.\n        *\n        * ###Example:\n        *\n        *     var scaledValue = this.yScale(100);\n        *\n        * @function yScale\n        * @param {Number} value The value to be scaled.\n        * @return {Number} The scaled value according to the current yAxis settings.\n        */\n        yScale: undefined,\n\n        /**\n        * Modifies the domain for the yAxis.\n        *\n        * ###Example:\n        *\n        *     this.setYDomain([100, 200]);\n        *\n        * @function setYDomain\n        * @param {Array} domain The domain array representing the min and max values visible on the yAxis.       */\n        setYDomain: function (domain) {\n            this.yScaleGenerator.setDomain(domain);\n        },\n\n        /**\n        * Redraws the yAxis with the new settings and domain.\n        *\n        * ###Example:\n        *\n        *     this.redrawYAxis();\n        *\n        * @function redrawYAxis\n        */\n        redrawYAxis: function () {\n            this.svg.select('.y.axis').call(this.yAxis());\n            this.renderGridlines();\n        },\n\n        _animationDuration: function () {\n            var opt = this.options.chart.animations;\n            return opt && opt.enable ?\n                opt.duration != null ? opt.duration : 400 :\n                0;\n        },\n\n        computeScales: function () {\n            this.computeXScale();\n            this.computeYScale();\n\n            return this;\n        },\n\n        _xAxis: undefined,\n        xAxis: function () {\n            if (!this._xAxis) {\n                this._xAxis = this.xScaleGenerator.axis().orient(this.options.xAxis.orient);\n            }\n            return this._xAxis;\n        },\n\n        _yAxis: undefined,\n        yAxis: function () {\n            if(!this._yAxis) {\n                this._yAxis = this.yScaleGenerator.axis().orient(this.options.yAxis.orient);\n            }\n            return this._yAxis;\n        },\n\n        renderXAxis: function () {\n            const xAxis = this.xAxis();\n            const plotHeight = this.options.chart.plotHeight;\n            const paddingTop = this.options.chart.internalPadding.top;\n            const x = this.options.chart.internalPadding.left;\n            const animOpt = this.options.chart.animations;\n            let y = this.options.chart.padding.top;\n            const t = d3.transition().duration(this._animationDuration());\n\n            const adjustTickLabels = () => (selection) => {\n                if (this.options.xAxis.zeroPlane) {\n                    const adj = plotHeight - y + paddingTop;\n                    const textSel = selection.selectAll('.x.axis text');\n                    textSel.attr('transform', 'translate(0, ' + (adj) + ')');\n                }\n            };\n\n            if (this.options.xAxis.zeroPlane) {\n                y += this.yScale(0);\n            } else {\n                y += plotHeight;\n            }\n\n            this._xAxisGroup = this.svg.selectAll('.x.axis')\n                .data([1]);\n\n            if (!this._xAxisGroup.node()) {\n                this._xAxisGroup.enter()\n                    .append('g')\n                    .attr('transform', 'translate(' + x + ',' + y + ')')\n                    .attr('class', 'x axis')\n                    .call(xAxis)\n                    .call(adjustTickLabels());\n            } else {\n                const opt = this.options.chart.animations;\n\n                if (opt && opt.enable) {\n                    // we can't attached the transition an not configure it so\n                    // we need to repeat this both with and without transition\n                    this._xAxisGroup\n                        .transition(t)\n                        .attr('transform', 'translate(' + x + ',' + y + ')')\n                        .call(xAxis)\n                        .call(adjustTickLabels());\n                } else {\n            this._xAxisGroup\n                        .attr('transform', 'translate(' + x + ',' + y + ')')\n                .call(xAxis)\n                        .call(adjustTickLabels(true));\n                }\n            }\n\n            this.xScaleGenerator.postProcessAxis(this._xAxisGroup);\n\n            return this;\n        },\n\n        renderYAxis: function () {\n            var x = this.options.chart.internalPadding.left;\n            var y = this.options.chart.padding.top;\n\n            this._yAxisGroup = this.svg.selectAll('.y.axis')\n                .data([1]);\n\n            if (!this._yAxisGroup.node()) {\n                this._yAxisGroup\n                    .enter().append('g')\n                    .attr('transform', 'translate(' + x + ',' + y + ')')\n                    .attr('class', 'y axis');\n            } else {\n                d3.select(this._yAxisGroup.node())\n                    .attr('transform', 'translate(' + x + ',' + y + ')');\n            }\n\n            this._renderYAxisElement();\n\n            return this;\n        },\n\n        _renderYAxisElement: function () {\n            const options = this.options.yAxis;\n            const alignmentOffset = { bottom: '.8em', middle: '.35em', top: '0' };\n            const animOpt = this.options.chart.animations;\n\n            if (animOpt && animOpt.enable) {\n                this._yAxisGroup\n                    .transition().duration(this._animationDuration())\n                    .call(this.yAxis())\n                    .selectAll('.tick text')\n                        .attr('dy', alignmentOffset[options.labels.verticalAlign]);\n            } else {\n                this._yAxisGroup\n                    .call(this.yAxis())\n                    .selectAll('.tick text')\n                        .attr('dy', alignmentOffset[options.labels.verticalAlign]);\n            }\n        },\n\n        renderAxisLabels: function () {\n            var adjustFactor = 40/46.609; // this factor is to account for the difference between the actual svg size and what we get from the DOM\n            var bounds, x, y;\n            var el;\n\n            if (this.options.xAxis.title) {\n                bounds = nwt.textBounds(this.options.xAxis.title, '.x.axis-title');\n                y = this.options.chart.internalPadding.bottom;\n                x = 0;\n                el = this._xAxisGroup.selectAll('.x.axis-title').data([1]);\n                if (!el.node()) {\n                    el.enter().append('text')\n                        .attr('class', 'x axis-title');\n                }\n\n                d3.select(el.node())\n                    .attr('x', x)\n                    .attr('y', y)\n                    .attr('alignment-baseline', 'after-edge')\n                    .attr('dx', (this.options.chart.plotWidth - bounds.width) / 2)\n                    .text(this.options.xAxis.title);\n            }\n\n            if (this.options.yAxis.title) {\n                bounds = nwt.textBounds(this.options.yAxis.title, '.y.axis-title');\n                y = -this.options.chart.internalPadding.left + bounds.height * adjustFactor;\n                x = 0;\n                el = this._yAxisGroup.selectAll('.y.axis-title').data([1]);\n                if (!el.node()) {\n                    el.enter().append('text')\n                        .attr('class', 'y axis-title');\n                }\n\n                d3.select(el.node())\n                    .attr('class', 'y axis-title')\n                    .attr('transform', 'rotate(-90)')\n                    .attr('x', x)\n                    .attr('y', y)\n                    .attr('dx', -(this.options.chart.plotHeight + bounds.width) / 2)\n                    .attr('dy', 0)\n                    .text(this.options.yAxis.title);\n            }\n\n            return this;\n        },\n\n        renderGridlines: function () {\n            var option = this.options.chart.gridlines;\n            var horizontal = option === 'horizontal' || option === 'both';\n            var vertical = option === 'vertical' || option === 'both';\n\n            function getYTicks(axis, smart) {\n                var tickValues = axis.tickValues();\n\n                if(!tickValues) {\n                    var numTicks = axis.ticks()[0];\n                    return axis.scale().ticks(numTicks).slice(1);\n                }\n\n                if (smart) {\n                    tickValues.pop();\n                }\n\n                return tickValues.slice(1);\n            }\n\n            function getXTicks(axis) {\n                return axis.tickValues() || (axis.scale().ticks ? axis.scale().ticks().slice(1) : axis.scale().domain());\n            }\n\n            var ticks, gr;\n            var x = this.xScale;\n            var y = this.yScale;\n\n            if(horizontal) {\n                var smartAxis = this.options.yAxis.smartAxis || this.options.yAxis.scaling.type === 'smart';\n                ticks = getYTicks(this.yAxis(), smartAxis);\n                var w = this.options.chart.plotWidth;\n\n                // remove previous lines (TODO: we need a better way)\n                // this._yAxisGroup.select('g.grid-lines').remove();\n                gr = this._yAxisGroup\n                    .selectAll('.grid-lines')\n                    .data([ticks]);\n\n                gr.enter().append('svg:g')\n                    .attr('class', 'grid-lines');\n\n                var lines = gr.selectAll('.grid-line')\n                    .data(function (d) { return d; });\n\n                lines.transition().duration(this._animationDuration())\n                    .attr('x1', 0)\n                    .attr('x2', function () {\n                        return w;\n                    })\n                    .attr('y1', y)\n                    .attr('y2', y);\n\n                lines.enter().append('line')\n                        .attr('class', 'grid-line')\n                        .attr('x1', 0)\n                        .attr('x2', function () {\n                            return w;\n                        })\n                        .attr('y1', y)\n                        .attr('y2', y);\n\n                lines.exit().remove();\n            }\n\n            if(vertical) {\n                // remove previous lines (TODO: we need a better way)\n                this._xAxisGroup.select('g.grid-lines').remove();\n                gr = this._xAxisGroup.append('svg:g').attr('class', 'grid-lines');\n                ticks = getXTicks(this.xAxis());\n                var offset = this.rangeBand / 2;\n                var h = this.options.chart.plotHeight;\n\n                gr.selectAll('.grid-line')\n                    .data(ticks)\n                    .enter().append('line')\n                        .attr('class', 'grid-line')\n                        .attr('x1', function (d) { return x(d) + offset; })\n                        .attr('x2', function (d) { return x(d) + offset; })\n                        .attr('y1', -h)\n                        .attr('y2', 0);\n            }\n\n            return this;\n        },\n\n        renderBackground: function () {\n            var options = this.options.chart;\n            this.background = this.background || this.createVisualizationLayer('background', 0);\n            var g = this.background.selectAll('.plot-area-background').data([null]);\n\n            g.enter().append('rect')\n                .attr('class', 'plot-area-background')\n                .attr('x', options.internalPadding.left)\n                .attr('y', options.internalPadding.top)\n                .attr('width', options.plotWidth)\n                .attr('height', options.plotHeight);\n\n            g.exit().remove();\n\n            return this;\n        },\n\n        renderClipArea: function () {\n            const data = this.options.chart.clipPlotArea ? [null] : [];\n            const defs = this.svg.selectAll('defs').data(data);\n            defs.enter().append('defs');\n\n            const clip = defs.selectAll('clipPath').data(data);\n            clip.enter().append('clipPath').attr('id', 'clip');\n\n            const rect = clip.selectAll('rect').data(data);\n            rect.enter().append('rect');\n\n            const w = this.options.chart.plotWidth;\n            const h = this.options.chart.plotHeight;\n\n            rect.attr('width', w)\n                .attr('height', h);\n\n            rect.exit().remove();\n            clip.exit().remove();\n            defs.exit().remove();\n\n            return this;\n        },\n\n        render: function () {\n\n            this.composeOptions();\n            this._normalizeData();\n            this.adjustDomain();\n            this.calcMetrics();\n            this.computeScales();\n            this.baseRender();\n\n            this\n                .renderClipArea()\n                .renderBackground()\n                .renderXAxis()\n                .renderYAxis()\n                .renderGridlines()\n                .renderAxisLabels()\n                .renderVisualizations();\n\n            return this;\n        },\n\n        datum: function (d, index) {\n            if(nwt.isObject(d) && Array.isArray(d.data))\n                return d.data.map(this.datum.bind(this));\n\n            return {\n                y: nwt.isObject(d) ? d.y : d,\n                x: nwt.isObject(d) ? d.x : this.options.xAxis.categories ? this.options.xAxis.categories[index] : index\n            };\n        },\n\n        adjustDomain: function () {\n            var extents = this.getExtents();\n            this._adjustXDomain(extents);\n            this._adjustYDomain(extents);\n\n            this._yAxis = null;\n            this._xAxis = null;\n            this.yScale = null;\n        },\n\n        _adjustXDomain: function (extents) {\n            this.xDomain = this.getXDomain();\n            var dataVis = this._visualizations.filter(function (v) { return nwt.isSupportedDataFormat(v.data); });\n            this.dataSrc = nwt.flatten(\n                dataVis.map(function (v) {\n                    return nwt.flatten(v.data.map(this.datum.bind(this)));\n                }.bind(this))\n            );\n\n            // every() on empty array returns true, so we guard against it\n            var isCategoricalData = this.dataSrc.length && this.dataSrc.every(function (d) { return +d.x !== d.x; });\n            var dataSrcCategories = nwt.uniq(this.dataSrc.map(function (d) { return d.x; }));\n            var sameCats = this.options.xAxis.categories ?\n                this.options.xAxis.categories.length === dataSrcCategories.length && nwt.intersection(this.options.xAxis.categories, dataSrcCategories).length === dataSrcCategories.length :\n                false;\n\n            if (isCategoricalData && !(this.options.xAxis.categories && sameCats)) {\n                this.options.xAxis.categories = dataSrcCategories;\n            }\n        },\n\n        _adjustYDomain: function (extents) {\n            this.yDomain = extents.length ? extents : [0, 10];\n            this.yMin = this.yDomain[0];\n            this.yMax = this.yDomain[this.yDomain.length - 1];\n        },\n\n        _normalizeData: function () {\n            var opt = this.options;\n            this._visualizations.forEach(function (viz) {\n                var vizOpt = nwt.merge({}, opt, viz.options);\n                viz.normalizeData(vizOpt);\n            });\n        },\n\n        getExtents: function (axis) {\n            var field = axis && axis === 'x' ? 'xExtent' : 'yExtent';\n            var dataVis = this._visualizations.filter(function (v) { return nwt.isSupportedDataFormat(v.data); });\n            var all = nwt.flatten(dataVis.map(function (d) { return d[field]; }));\n            return all.length ? d3.extent(all) : [];\n        },\n\n        getXDomain: function () {\n            var dataVis = this._visualizations.filter(function (v) { return nwt.isSupportedDataFormat(v.data); });\n            var all = nwt.uniq(nwt.flatten(dataVis.map(function (d) { return d.xDomain; })));\n\n            return all;\n        }\n\n    };\n};\n\nContour.expose('cartesian', cartesian);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/core/cartesian.js","import Contour from './contour';\nimport * as nwt from '../utils/contour-utils';\n\nvar defaults = {\n    chart: {\n        rotatedFrame: true,\n    },\n\n    xAxis: {\n        orient: 'left'\n    },\n\n    yAxis: {\n        orient: 'bottom'\n    }\n};\n\nvar frame = {\n\n    init: function () {\n        nwt.merge(this.options, defaults);\n    },\n\n    adjustPadding: function () {\n        var categoryLabels = this.options.xAxis.categories || this.dataSrc.map(function (d) { return d.x; });\n        var text = categoryLabels.join('<br>');\n        var xLabel = nwt.textBounds(text, '.x.axis');\n        var yLabel = nwt.textBounds('ABC', '.y.axis');\n        var maxTickSize = function (options) { return Math.max(options.outerTickSize, options.innerTickSize); };\n\n        this.options.chart.internalPadding.left = this.options.chart.padding.left || maxTickSize(this.options.xAxis) + this.options.xAxis.tickPadding + xLabel.width;\n        this.options.chart.internalPadding.bottom = this.options.chart.padding.bottom || maxTickSize(this.options.yAxis) + this.options.yAxis.tickPadding + yLabel.height;\n    },\n\n    adjustTitlePadding: function () {\n        var titleBounds;\n        if (this.options.xAxis.title || this.options.yAxis.title) {\n            if(this.options.xAxis.title) {\n                titleBounds = nwt.textBounds(this.options.xAxis.title, '.x.axis-title');\n                this.options.chart.internalPadding.left += titleBounds.height + this.options.xAxis.titlePadding;\n            }\n\n            if(this.options.yAxis.title) {\n                titleBounds = nwt.textBounds(this.options.yAxis.title, '.y.axis-title');\n                this.options.chart.internalPadding.bottom += titleBounds.height + this.options.yAxis.titlePadding;\n            }\n        }\n    },\n\n    renderYAxis: function () {\n        var yAxis = this.yAxis();\n        var x = this.options.chart.internalPadding.left;\n        var y = this.options.chart.padding.top + this.options.chart.plotHeight;\n\n        this._yAxisGroup = this.svg.selectAll('.y.axis')\n            .data([1]);\n\n        this._yAxisGroup.enter().append('g')\n            .attr('class', 'y axis')\n            .attr('transform', 'translate(' + x+ ',' + y + ')');\n\n        this._yAxisGroup.exit().remove();\n\n        this._yAxisGroup\n                .transition().duration(this._animationDuration())\n                .attr('transform', 'translate(' + x+ ',' + y + ')')\n                .call(yAxis);\n\n        return this;\n    },\n\n    renderXAxis: function () {\n        var x = this.options.chart.internalPadding.left;\n        var y = this.options.chart.padding.top;\n        var xAxis = this.xAxis();\n\n        this._xAxisGroup = this.svg.selectAll('.x.axis')\n            .data([1]);\n\n        this._xAxisGroup.enter().append('g')\n            .attr('class', 'x axis')\n            .attr('transform', 'translate(' + x + ',' + y + ')');\n\n        this._xAxisGroup.exit().remove();\n\n        this._xAxisGroup\n            .transition().duration(this._animationDuration())\n            .attr('transform', 'translate(' + x + ',' + y + ')')\n            .call(xAxis);\n\n        this.xScaleGenerator.postProcessAxis(this._xAxisGroup);\n\n        return this;\n    },\n\n    renderAxisLabels: function () {\n        var lineHeightAdjustment = this.titleOneEm * 0.25; // add 25% of font-size for a complete line-height\n        var adjustFactor = 40/46.609;\n        var el;\n        var bounds, anchor, rotation, tickSize, x, y;\n\n        if (this.options.xAxis.title) {\n            bounds = nwt.textBounds(this.options.xAxis.title, '.x.axis-title');\n            x = this.options.chart.rotatedFrame ? -bounds.height : this.options.chart.plotWidth;\n            y = this.options.chart.rotatedFrame ? -this.options.chart.internalPadding.left : this.options.chart.internalPadding.bottom - lineHeightAdjustment;\n\n            rotation = this.options.chart.rotatedFrame ? '-90' : '0';\n            el = this._xAxisGroup.selectAll('.x.axis-title').data([null]);\n\n            el.enter().append('text')\n                .attr('class', 'x axis-title');\n\n            el.attr('x', 0)\n                .attr('y', y)\n                .attr('transform', ['rotate(', rotation, ')'].join(''))\n                .attr('dy', bounds.height * adjustFactor)\n                .attr('dx', -(this.options.chart.plotHeight + bounds.width) / 2)\n                .text(this.options.xAxis.title);\n\n            el.exit().remove();\n        }\n\n        if (this.options.yAxis.title) {\n            bounds = nwt.textBounds(this.options.yAxis.title, '.y.axis-title');\n            tickSize = Math.max(this.options.yAxis.innerTickSize, this.options.yAxis.outerTickSize);\n            anchor = this.options.chart.rotatedFrame ? 'end' : 'middle';\n            x = this.options.chart.rotatedFrame ? this.options.chart.plotWidth : 0;\n            y = this.options.chart.rotatedFrame ?\n                this.options.chart.internalPadding.bottom:\n                -this.options.chart.internalPadding.left + this.titleOneEm - lineHeightAdjustment;\n\n            rotation = this.options.chart.rotatedFrame ? '0' : '-90';\n\n            el = this._yAxisGroup.selectAll('.y.axis-title').data([null]);\n\n            el.enter().append('text')\n                .attr('class', 'y axis-title');\n\n            el.attr('y', y)\n                .attr('x', x)\n                .attr('dx', -(this.options.chart.plotWidth + bounds.width) / 2)\n                .attr('dy', -4) // just because\n                .attr('transform', ['rotate(', rotation, ')'].join(''))\n                .text(this.options.yAxis.title);\n\n            el.exit().remove();\n        }\n\n        return this;\n    }\n};\n\n/**\n* Sets the visualization frame so that the xAxis is vertical and the yAxis is horizontal.\n*\n* This visualization requires `.cartesian()`.\n*\n* This visualization is a prerequiste for rendering bar charts (`.bar()`).\n*\n* ###Example:\n*\n*     new Contour({el: '.myChart'})\n*        .cartesian()\n*        .horizontal()\n*        .bar([1, 2, 3, 4, 5, 4, 3, 2, 1])\n*        .render()\n*\n* @function horiztonal\n*/\n\nContour.expose('horizontal', frame);\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/core/horizontal-frame.js","import Contour from './contour';\n\nvar root = typeof window === 'undefined' ? this : window;\n\nvar defaultParams = {\n    type: 'image/png', // the mime type of the image; see http://en.wikipedia.org/wiki/Comparison_of_web_browsers#Image_format_support for browser support\n    fileName: 'contour.png', // the fileName for the `download()`\n    target: undefined, // a selector for the container in which to `place()` the image; for example '#image'\n    backgroundColor: '#fff', // the fill color of the image, or `null` for transparent background\n    width: undefined, // the width of the exported image; if `height` is falsy then the height will be scaled proportionally\n    height: undefined // the height of the exported image; if `width` is falsy then the width will be scaled proportionally\n};\n\n// browser capabilities\nvar browser = {\n    checked: false // true after browser capabilities have been checked\n};\n\n// queue of operations to perform synchronously\nvar queue = [];\n// true if working on something\nvar working = false;\n\n\n/**\n* Saves a visualization as an image.\n* You can either trigger a download of the image or place the image within a container.\n*\n* ###Example:\n*\n*     var chart = new Contour(...)\n*         ...\n*         .exportable()\n*         .render();\n*\n*     document.getElementById('save').onclick = function () {\n*         chart.download({\n*             fileName: 'myContourChart.png'\n*         });\n*\n* ###External dependencies:\n*\n* IE9-11 and Safari won't safely export a canvas to which an SVG has been\n* rendered. To get around this limitation in those browsers, we use CanVG\n* (\"canned veggies\"), an implementation of SVG written in JavaScript to\n* render the SVG directly to the canvas. During initialization of the\n* 'exportable' plugin, CanVG is automatically downloaded from\n* http://canvg.googlecode.com/svn/trunk/ if the browser fails the test\n* SVG export.\n*\n* @name exportable\n*/\nvar exportable = function () {\n    // CSS properties to ignore for diff\n    var cssIgnoreDiff = {\n        cssText: 1,\n        parentRule: 1\n    };\n    // CSS properties shared between HTML and SVG\n    var cssSharedSvg = {\n        font: 1,\n        fontFamily: 1,\n        fontSize: 1,\n        fontSizeAdjust: 1,\n        fontStretch: 1,\n        fontStyle: 1,\n        fontVariant: 1,\n        fontWeight: 1,\n        direction: 1,\n        letterSpacing: 1,\n        textDecoration: 1,\n        unicodeBidi: 1,\n        wordSpacing: 1,\n        clip: 1,\n        cursor: 1,\n        display: 1,\n        overflow: 1,\n        visibility: 1,\n        opacity: 1\n    };\n\n\n    // interface\n\n    return {\n        init: function () {\n            // check browser capabilities and set up necessary shims\n            // only do this once per page load\n            if (!browser.checked) {\n                addToQueue(checkBrowser);\n            }\n\n            return this;\n        },\n\n        /**\n        * Saves a visualization as an image, triggering a download.\n        *\n        * ###Browser variations:\n        *\n        * - Chrome saves the image.\n        * - Firefox and IE10-11 display a prompt, then save the image.\n        * - IE9 and Safari open the image in a new tab, enabling the user to manually save the image.\n        *\n        * ###Example:\n        *\n        *     var chart = new Contour(...)\n        *         ...\n        *         .exportable()\n        *         .render();\n        *\n        *     document.getElementById('save').onclick = function () {\n        *         chart.download({\n        *             fileName: 'contour.png',\n        *             width: 640\n        *         });\n        *\n        * @name download\n        * @param {object} options Configuration options specific to downloading the image.\n        * @param {string} options.type Specifies the mime type of the image. See http://en.wikipedia.org/wiki/Comparison_of_web_browsers#Image_format_support for browser support. Default: 'image/png'.\n        * @param {string} options.fileName Specifies the file name for the download. Default: 'contour.png'.\n        * @param {string} options.backgroundColor Specifies the fill color of the image. Use `null` for transparent background. Default: '#fff'.\n        * @param {int} options.width Specifies the width of the exported image. If `height` is falsy then the height is scaled proportionally. Default: `undefined`, which means don't do any scaling.\n        * @param {int} options.height Specifies the height of the exported image. If `width` is falsy then the width is scaled proportionally. Default: `undefined`, which means don't do any scaling.\n        */\n        download: function (options) {\n            var container = this.container;\n\n            addToQueue(function () {\n                exportImage(container, options, 'download');\n            });\n\n            return this;\n        },\n\n        /**\n        * Saves a visualization as an image, placing it within a container.\n        *\n        * ###Example:\n        *\n        *     var chart = new Contour(...)\n        *         ...\n        *         .exportable()\n        *         .render();\n        *     document.getElementById('save').onclick = function () {\n        *         chart.place({\n        *             target: '#image'\n        *         });\n        *\n        * @name place\n        * @param {object} options Configuration options specific to placing the image in a container.\n        * @param {string} options.type Specifies the mime type of the image. See http://en.wikipedia.org/wiki/Comparison_of_web_browsers#Image_format_support for browser support. Default: 'image/png'.\n        * @param {string} options.target Specifies a selector for the container. For example: '#image' will append the image into `<div id=\"image\"></div>`.\n        * @param {string} options.backgroundColor Specifies the fill color of the image. Use `null` for transparent background. Default: '#fff'.\n        * @param {int} options.width Specifies the width of the exported image. If `height` is falsy then the height is scaled proportionally. Default: `undefined`, which means don't do any scaling.\n        * @param {int} options.height specifies the height of the exported image. If `width` is falsy then the width is scaled proportionally. Default: `undefined`, which means don't do any scaling.\n        */\n        place: function (options) {\n            var container = this.container;\n\n            addToQueue(function () {\n                exportImage(container, options, 'place');\n            });\n\n            return this;\n        }\n    };\n\n\n    // SVG to canvas export function\n    // adapted from https://github.com/sampumon/SVG.toDataURL\n    // which based on http://svgopen.org/2010/papers/62-From_SVG_to_Canvas_and_Back/#svg_to_canvas\n    function getSvgDataUrl(svg, options, dataUrlCreated) {\n        switch (options.type) {\n            case 'image/svg+xml':\n                return makeSvgUrl();\n\n            default: // 'image/png' or 'image/jpeg'\n                return makeImageUrl();\n        }\n\n\n        function encodeBase64DataUrl(svgXml) {\n            // https://developer.mozilla.org/en/DOM/window.btoa\n            return 'data:image/svg+xml;base64,' + btoa(svgXml);\n        }\n\n        // convert base64/URLEncoded data component to raw binary data held in a string\n        function dataUrlToBlob(dataUrl) {\n            /*jshint nonstandard:true*/\n            var byteString;\n            if (dataUrl.split(',')[0].indexOf('base64') >= 0) {\n                byteString = atob(dataUrl.split(',')[1]);\n            } else {\n                byteString = unescape(dataUrl.split(',')[1]);\n            }\n\n            // separate out the mime component\n            var mimeString = dataUrl.split(',')[0].split(':')[1].split(';')[0];\n\n            // write the bytes of the string to a typed array\n            var byteArray = new Uint8Array(byteString.length);\n            for (var i = 0; i < byteString.length; i++) {\n                byteArray[i] = byteString.charCodeAt(i);\n            }\n\n            return new Blob([byteArray], {\n                type: mimeString\n            });\n        }\n\n        function makeSvgUrl() {\n            var svgXml = (new XMLSerializer()).serializeToString(svg);\n            var svgDataUrl = encodeBase64DataUrl(svgXml);\n\n            dataUrlCreated(svgDataUrl, null, function () {});\n        }\n\n        function makeImageUrl() {\n            var canvas = document.createElement('canvas');\n            var context = canvas.getContext('2d');\n\n            var svgXml = (new XMLSerializer()).serializeToString(svg);\n\n            if (root.canvg) {\n                // use Canvg renderer for image export\n                renderImageCanvg();\n            } else {\n                // use native renderer for image export (this might fail)\n                renderImageNative();\n            }\n\n            function imageRendered() {\n                var imageDataUrl = canvas.toDataURL(options.type);\n\n                if (browser.createsObjectUrls) {\n                    var imageBlob = dataUrlToBlob(imageDataUrl);\n\n                    var domUrl = root.URL || root.webkitURL;\n                    var objectUrl = domUrl.createObjectURL(imageBlob);\n\n                    dataUrlCreated(objectUrl, imageBlob, function () {\n                        domUrl.revokeObjectURL(objectUrl);\n                    });\n                } else {\n                    dataUrlCreated(imageDataUrl, null, function () {});\n                }\n            }\n\n            function renderImageNative() {\n                var svgImg = new Image();\n                svgImg.src = encodeBase64DataUrl(svgXml);\n\n                svgImg.onload = function () {\n                    canvas.width = svgImg.width;\n                    canvas.height = svgImg.height;\n\n                    if (options.backgroundColor) {\n                        context.fillStyle = options.backgroundColor;\n                        context.fillRect(0, 0, svgImg.width, svgImg.height);\n                    }\n\n                    context.drawImage(svgImg, 0, 0);\n\n                    imageRendered();\n                };\n\n                svgImg.onerror = function () {\n                    throw new Error('Cannot export image');\n                };\n            }\n\n            function renderImageCanvg() {\n                // note that Canvg gets the SVG element dimensions incorrectly if not specified as attributes\n                // also this Canvg call is synchronous and blocks\n                canvg(canvas, svgXml, {\n                    ignoreMouse: true,\n                    ignoreAnimation: true,\n                    offsetX: undefined,\n                    offsetY: undefined,\n                    scaleWidth: undefined,\n                    scaleHeight: undefined,\n                    renderCallback: imageRendered\n                });\n            }\n        }\n    }\n\n\n    // clone SVG in isolation with styles directly applied\n    function createSvgClone(svgNode, svgCloned) {\n        createIsolatedNode(function (nodeClone, destroyIsolatedNode) {\n            // clone nodes and apply styles directly to each node\n            cloneNodes(svgNode, nodeClone);\n\n            // clone legend DIV as SVG\n            cloneLegendDiv(svgNode, nodeClone);\n\n            svgCloned(d3.select(nodeClone).select('svg').node(), destroyIsolatedNode);\n        });\n\n\n        // compare computed styles at this node and apply the differences directly\n        function applyStyles(sourceNode, targetNode) {\n            var sourceStyle = root.getComputedStyle(sourceNode);\n            var targetStyle = root.getComputedStyle(targetNode);\n\n            for (var prop in sourceStyle) {\n                if (!cssIgnoreDiff[prop] && !isFinite(prop)) {\n                    // note that checking for sourceStyle.hasOwnProperty(prop) eliminates all valid style properties in Firefox\n                    if (targetStyle[prop] !== sourceStyle[prop]) {\n                        targetNode.style[prop] = sourceStyle[prop];\n                    }\n                }\n            }\n        }\n\n        // clone nodes and apply styles directly to each node\n        function cloneNodes(sourceNode, targetNode) {\n            var newNode = sourceNode.cloneNode(false);\n            targetNode.appendChild(newNode);\n\n            if (!sourceNode.tagName) return; // skip inner text\n\n            // compare computed styles at this node and apply the differences directly\n            applyStyles(sourceNode, newNode);\n\n            [].forEach.call(sourceNode.childNodes, function (childNode) {\n                // clone each child node and apply styles\n                cloneNodes(childNode, newNode);\n            });\n        }\n\n        function createIsolatedNode(nodeLoaded) {\n            var iframe = document.body.appendChild(document.createElement('iframe'));\n            iframe.style.visibility = 'hidden';\n            var iframeWindow = iframe.contentWindow;\n            var iframeDocument = iframeWindow.document;\n\n            iframe.onload = function () {\n                var nodeClone = iframeDocument.createElement('div');\n                iframeDocument.body.appendChild(nodeClone);\n\n                var destroyIframe = function () {\n                    // destroy clone\n                    iframeDocument.body.removeChild(nodeClone);\n                    document.body.removeChild(iframe);\n                };\n\n                nodeLoaded(nodeClone, destroyIframe);\n            };\n\n            iframeDocument.open();\n            iframeDocument.write('<!DOCTYPE html>');\n            iframeDocument.write('<html><head></head><body></body></html>');\n            iframeDocument.close();\n        }\n\n        function applyDivStylesToSvg(sourceNode, target) {\n            var targetNode = target.node();\n            var sourceStyle = root.getComputedStyle(sourceNode);\n            var targetStyle = root.getComputedStyle(targetNode);\n\n            for (var prop in sourceStyle) {\n                if (cssSharedSvg[prop]) {\n                    // note that checking for sourceStyle.hasOwnProperty(prop) eliminates all valid style properties in Firefox\n                    if (targetStyle[prop] !== sourceStyle[prop]) {\n                        targetNode.style[prop] = sourceStyle[prop];\n                    }\n                }\n            }\n\n            // translate DIV styles to SVG attributes and styles\n            switch (targetNode.nodeName) {\n            case 'rect':\n                target.attr({\n                    'rx': sourceStyle.borderTopLeftRadius,\n                    'ry': sourceStyle.borderTopLeftRadius\n                });\n                target.style({\n                    'fill': sourceStyle.backgroundColor,\n                    'stroke': sourceStyle.borderLeftColor,\n                    'stroke-width': sourceStyle.borderLeftWidth\n                });\n                break;\n            case 'text':\n                target.style({\n                    'fill': sourceStyle.color\n                });\n                break;\n            }\n        }\n\n        function cloneLegendDiv(sourceNode, targetNode) {\n            var containerDiv = d3.select(sourceNode.parentNode).select('div.contour-legend');\n            if (containerDiv.empty()) return;\n\n            var containerDivNode = containerDiv.node();\n\n            var containerSvg = d3.select(targetNode).select('svg').append('g')\n                .attr('transform', 'translate(' + (containerDivNode.offsetLeft + containerDivNode.clientLeft) +\n                    ',' + (containerDivNode.offsetTop + containerDivNode.clientTop) + ')');\n            applyDivStylesToSvg(containerDivNode, containerSvg);\n\n            var rect = containerSvg.append('rect')\n                .attr('width', containerDivNode.clientWidth)\n                .attr('height', containerDivNode.clientHeight);\n            applyDivStylesToSvg(containerDivNode, rect);\n\n            var entriesDivs = containerDiv.selectAll('.contour-legend-entry');\n\n            entriesDivs[0].forEach(function (entryDivNode) {\n                var entryDiv = d3.select(entryDivNode);\n\n                var enter = containerSvg.append('g');\n                applyDivStylesToSvg(entryDivNode, enter);\n\n                var entryDivKeyNode = getEntryDivSubNode('.contour-legend-key');\n                var swatch = enter.append('rect')\n                    .attr('x', entryDivKeyNode.offsetLeft)\n                    .attr('y', entryDivKeyNode.offsetTop)\n                    .attr('width', entryDivKeyNode.offsetWidth - 2)\n                    .attr('height', entryDivKeyNode.offsetHeight - 2);\n                applyDivStylesToSvg(entryDivKeyNode, swatch);\n\n                var entryDivSeriesNode = getEntryDivSubNode('.series-name');\n                var text = enter.append('text')\n                    .attr('x', entryDivSeriesNode.offsetLeft + 1)\n                    .attr('y', entryDivSeriesNode.offsetTop + entryDivSeriesNode.offsetHeight - entryDivSeriesNode.offsetParent.clientTop - 2)\n                    .text(entryDivSeriesNode.textContent);\n                applyDivStylesToSvg(entryDivSeriesNode, text);\n\n                function getEntryDivSubNode(selector) {\n                    return entryDiv.select(selector).node();\n                }\n            });\n        }\n    }\n\n\n    function getProportionedBounds(original, specified) {\n        if (specified.width && specified.height) {\n            return specified;\n        } else if (specified.width) {\n            return {\n                width: specified.width,\n                height: specified.width * original.height / original.width\n            };\n        } else if (specified.height) {\n            return {\n                width: specified.height * original.width / original.height,\n                height: specified.height\n            };\n        } else {\n            return original;\n        }\n    }\n\n\n    function exportImage(container, options, exporter) {\n        startWork();\n\n        // merge configuration options with defaults\n        options = options || {};\n        nwt.defaults(options, defaultParams);\n\n        var svgNode = container.select('svg').node();\n        // get bounds from original SVG, and proportion them based on specified options\n        var bounds = svgNode.getBoundingClientRect();\n        var boundsClone = getProportionedBounds(bounds, options);\n\n        // clone SVG in isolation with styles directly applied\n        createSvgClone(svgNode, performExport);\n\n        function performExport(svgNodeClone, destroySvgClone) {\n            svgNodeClone.setAttribute('width', boundsClone.width);\n            svgNodeClone.setAttribute('height', boundsClone.height);\n\n            // Safari can only open a new tab with the image\n            // the tab must be opened before `getSvgDataUrl()` to avoid getting blocked due to asynchronous callbacks\n            var win;\n            if (exporter === 'download' && !(browser.aDownloads || browser.savesMsBlobs)) {\n                win = root.open();\n            }\n\n            getSvgDataUrl(svgNodeClone, options, function (url, blob, revokeUrl) {\n                destroySvgClone();\n\n                // exporter functions\n                var exporters = {\n                    'download': function () {\n                        if (browser.aDownloads) {\n                            // make a link to download and click it\n                            var a = document.createElement('a');\n                            a.download = options.fileName;\n                            a.href = url;\n                            document.body.appendChild(a);\n                            a.click();\n                            document.body.removeChild(a);\n                        } else if (browser.savesMsBlobs && blob) {\n                            // IE10-11 support a method to save/open a blob\n                            navigator.msSaveOrOpenBlob(blob, options.fileName);\n                        } else {\n                            // Safari and IE9 can only open a new tab with the image\n                            if (!win) {\n                                // in case `blob` was falsy or the `open()` above returned undefined, `win` will be undefined, so attempt here (and this might return undefined as well)\n                                win = root.open();\n                            }\n                            if (win) {\n                                if (browser.createsObjectUrls) {\n                                    // Safari can set the url of the newly-opened tab to the object URL of the blob\n                                    win.location = url;\n                                } else {\n                                    // for IE9, create a document with the image\n                                    var doc = win.document;\n                                    doc.write('<!DOCTYPE html>');\n                                    doc.write('<html><head></head><body>');\n                                    doc.write('<img src=\"' + url + '\">');\n                                    doc.write('</body></html>');\n                                }\n                            }\n                        }\n                        // wait for download to start\n                        setTimeout(function () {\n                            revokeUrl();\n                            finishWork();\n                        }, 1);\n                    },\n                    'place': function () {\n                        var img = document.createElement('img');\n                        img.onload = function () {\n                            revokeUrl();\n                            finishWork();\n                        };\n                        img.src = url;\n                        d3.select(options.target).node().appendChild(img);\n                    }\n                };\n                // call exporter function\n                exporters[exporter]();\n            });\n        }\n    }\n};\n\n\n// queue functions\n\n// queue will wait until any asynchronous tasks are complete prior to calling the next fn()\nfunction addToQueue(fn) {\n    if (working) {\n        queue.push(fn);\n    } else {\n        fn();\n    }\n}\n\n// call before starting an asynchronous task\nfunction startWork() {\n    working = true;\n}\n\n// call after finishing an asynchronous task\nfunction finishWork() {\n    working = false;\n\n    var fn = queue.shift();\n    if (fn) {\n        fn();\n    }\n}\n\n\n// check browser capabilities and set up necessary shims\nfunction checkBrowser() {\n    startWork();\n    browser.checked = true;\n\n    checkEncodesBase64();\n    checkADownloads();\n    checkSavesMsBlobs();\n    checkCreatesObjectUrls();\n    checkExportsSvg(finishWork);\n\n\n    function checkEncodesBase64() {\n        browser.encodesBase64 = !!root.btoa;\n\n        // setup shim for IE9\n        if (!browser.encodesBase64) {\n            setupBase64Shim();\n        }\n    }\n\n    function checkADownloads() {\n        browser.aDownloads = document.createElement('a').download !== undefined;\n    }\n\n    function checkSavesMsBlobs() {\n        browser.savesMsBlobs = !!navigator.msSaveOrOpenBlob;\n    }\n\n    function checkCreatesObjectUrls() {\n        var domUrl = root.URL || root.webkitURL;\n        browser.createsObjectUrls = domUrl && domUrl.createObjectURL;\n    }\n\n    function checkExportsSvg() {\n        startWork();\n\n        browser.exportsSvg = false;\n\n        var iframe = document.body.appendChild(document.createElement('iframe'));\n        iframe.style.visibility = 'hidden';\n        var doc = iframe.contentWindow.document;\n\n        iframe.onload = function () {\n            try {\n                var svg = doc.querySelector('svg');\n                var img = doc.querySelector('img');\n                var canvas = doc.querySelector('canvas');\n                var context = canvas.getContext('2d');\n                canvas.width = img.getAttribute('width') * 1;\n                canvas.height = img.getAttribute('height') * 1;\n                var sourceImg = new Image();\n                sourceImg.width = canvas.width;\n                sourceImg.height = canvas.height;\n                sourceImg.onload = function () {\n                    try {\n                        context.drawImage(sourceImg, 0, 0, img.width, img.height);\n                        img.src = canvas.toDataURL();\n\n                        browser.exportsSvg = true; // yay\n                    } catch (e) {}\n\n                    svgExportChecked();\n                };\n                var xml = (new XMLSerializer()).serializeToString(svg);\n                sourceImg.src = 'data:image/svg+xml,' + encodeURIComponent(xml);\n            } catch (e) {\n                svgExportChecked();\n            }\n        };\n\n        doc.open();\n        doc.write('<!DOCTYPE html>');\n        doc.write('<html><head></head><body>');\n        doc.write('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"2\" height=\"2\" viewBox=\"0 0 1 1\"><circle r=\"1\" fill=\"red\"/></svg>');\n        doc.write('<img width=\"2\" height=\"2\">');\n        doc.write('<canvas></canvas>');\n        doc.write('</body></html>');\n        doc.close();\n\n\n        function svgExportChecked() {\n            document.body.removeChild(iframe);\n\n            // load Canvg SVG renderer for browsers that can't safely export SVG\n            if (browser.exportsSvg) {\n                finishWork();\n            } else {\n                setupCanvgShim(finishWork);\n            }\n        }\n    }\n\n    // base64 shim, for IE9\n    function setupBase64Shim() {\n        var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n        function InvalidCharacterError(message) {\n            this.message = message;\n        }\n        InvalidCharacterError.prototype = new Error();\n        InvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n        // base64 encoder\n        // from https://gist.github.com/999166\n        root.btoa = function (input) {\n            var str = String(input);\n            for (\n                // initialize result and counter\n                var block, charCode, idx = 0, map = chars, output = '';\n                // if the next str index does not exist:\n                //   change the mapping table to \"=\"\n                //   check if d has no fractional digits\n                str.charAt(idx | 0) || (map = '=', idx % 1);\n                // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n                output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n            ) {\n                charCode = str.charCodeAt(idx += 3 / 4);\n                if (charCode > 0xFF) {\n                    throw new InvalidCharacterError('\"btoa\" failed: The string to be encoded contains characters outside of the Latin1 range.');\n                }\n                block = block << 8 | charCode;\n            }\n            return output;\n        };\n    }\n\n    // Canvg shim, for IE9-11 and Safari\n    function setupCanvgShim(done) {\n        var scripts = [\n            'rgbcolor.js',\n            'StackBlur.js',\n            'canvg.js'\n        ];\n        var remaining = scripts.length;\n        scripts.forEach(function (src) {\n            var script = document.createElement('script');\n            script.type = 'text/javascript';\n            script.onload = function () {\n                remaining--;\n                if (remaining === 0) done();\n            };\n            script.src = '//canvg.googlecode.com/svn/trunk/' + src;\n            document.head.appendChild(script);\n        });\n    }\n}\n\n\nContour.expose('exportable', exportable);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/core/exportable.js","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nvar defaults = {\n    xAxis: {\n        type: 'linear'\n    },\n    area: {\n        stacked: true,\n        areaBase: undefined,\n        preprocess: nwt.minMaxFilter(1000)\n    }\n};\n\nfunction renderer(data, layer, options) {\n    this.checkDependencies('cartesian');\n    var duration = options.chart.animations.duration != null ? options.chart.animations.duration : 400;\n    var x = function (val) { return this.xScale(val) + this.rangeBand / 2 + 0.5; }.bind(this);\n    var y = function (val) { return this.yScale(val) + 0.5; }.bind(this);\n    var h = options.chart.plotHeight;\n    var classFn = function (d, i) { return 'series s-' + (i+1) + ' ' + d.name; };\n    var stack = d3.layout.stack().values(function (d) { return d.data; });\n\n    var startArea = d3.svg.area()\n        .x(function(d) { return x(d.x); })\n        .y0(function (d) { return h; })\n        .y1(function(d) { return h; });\n\n    var areaBase = options.area.areaBase != null ? options.area.areaBase : options.yAxis.min;\n    var area = d3.svg.area()\n        .x(function(d) { return x(d.x); })\n        .y0(function (d) { return options.area.stacked ? y(d.y0 || areaBase || 0) : y(0); })\n        .y1(function(d) { return y((options.area.stacked ? d.y0 : 0) + d.y); });\n\n    if(options.area.smooth) {\n        area.interpolate('cardinal');\n        startArea.interpolate('cardinal');\n    }\n\n    renderSeries();\n\n    if (options.tooltip && options.tooltip.enable)\n        renderTooltipTrackers();\n\n    function renderSeries() {\n        data = options.area.preprocess(data);\n\n        var series = layer.selectAll('g.series')\n                .data(stack(data));\n\n        series.enter()\n            .append('svg:g')\n            .attr('class', classFn)\n            .append('path').datum(function (d) { return d.data; })\n                .attr('class', 'area')\n                .attr('d', startArea);\n\n        series.exit().remove();\n\n        if (options.chart.animations && options.chart.animations.enable) {\n            series.select('.area')\n                .datum(function (d) { return d.data; })\n                .transition().duration(options.chart.animations.duration || duration)\n                .attr('d', area);\n        } else {\n            series.select('.area')\n                .datum(function (d) { return d.data; })\n                .attr('d', area);\n        }\n    }\n\n    function renderTooltipTrackers() {\n        var trackerSize = 10;\n        // add the tooltip trackers regardless\n        var markers = layer.selectAll('.tooltip-trackers')\n            .data(data, function (d) { return d.name; });\n\n        markers.enter().append('g')\n            .attr('class', 'tooltip-trackers');\n\n        markers.exit().remove();\n\n        var blocks = markers.selectAll('.tooltip-tracker')\n                .data(function (d) {\n                    return d.data;\n                }, function (d, i) {\n                    return [d.x,d.y,d.y0].join('&');\n                });\n\n        blocks.enter().append('rect')\n                .attr('class', 'tooltip-tracker')\n                .attr('opacity', 0)\n                .attr('width', trackerSize * 2);\n\n        blocks.attr('x', function(d) { return x(d.x) - trackerSize; })\n            .attr('y', function(d) { return y((options.area.stacked ? d.y0 : 0) + d.y); })\n            .attr('height', function(d) { return y(0) - y(d.y); });\n\n        blocks.exit().remove();\n\n    }\n}\n\nrenderer.defaults = defaults;\n\n/**\n* Adds an area chart to the Contour instance.\n*\n* Area charts are stacked by default when the _data_ includes multiple series.\n*\n* This visualization requires `.cartesian()`.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*           .cartesian()\n*           .area([1,2,3,4])\n*           .render();\n*\n* @name area(data, options)\n* @param {object|array} data The _data series_ to be rendered with this visualization. This can be in any of the supported formats.\n* @param {object} [options] Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n*/\nContour.export('area', renderer);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/area.js","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nvar defaults = {\n    bar: {\n        barClass: null,\n        style: null,\n        stacked: false,\n        groupPadding: 2,      // two px between same group bars\n        barWidth: function() { return this.rangeBand; },\n        offset: function() { return 0; },\n        preprocess: function(data) {\n            return data;\n        }\n    }\n};\n\nfunction barRender(data, layer, options) {\n    this.checkDependencies(['cartesian', 'horizontal']);\n    var duration = options.chart.animations.duration != null ? options.chart.animations.duration : 400;\n    var _this = this;\n    var opt = options.bar;\n    var rectClass = opt.barClass;\n    var style = opt.style;\n    var x = function (d) { return _this.xScale(d) - 0.5; };\n    var y = function (d) { return _this.yScale(d) + 0.5; };\n    var chartOffset = nwt.getValue(opt.offset, 0, this);\n    var rangeBand = nwt.getValue(opt.barWidth, this.rangeBand, this);\n    var stack = nwt.stackLayout();\n    var update = options.bar.stacked ? stacked : grouped;\n    var enter = nwt.partialRight(update, true);\n    var classFn = function (d, i) { return 'series s-' + (i+1) + ' ' + d.name; };\n\n    data = options.bar.preprocess(data);\n    var series = layer.selectAll('g.series')\n        .data(stack(data));\n\n    series.enter().append('svg:g')\n        .attr('class', classFn);\n\n    series.exit().remove();\n\n    var bars = series.selectAll('.bar')\n        .data(function (d) { return d.data; });\n\n    var cssClass = 'bar' + (options.tooltip.enable ? ' tooltip-tracker' : '');\n    bars.enter().append('rect')\n        .attr('class', function (d, i, j) {\n            if (!rectClass) return cssClass;\n\n            return cssClass + ' ' + (typeof rectClass === 'function' ? rectClass.call(this, d, i, j) : rectClass);\n        })\n        .call(enter);\n\n    if(options.chart.animations && options.chart.animations.enable) {\n        bars\n            .attr('style', style)\n            .transition().duration(duration).call(update);\n        bars.exit()\n            .transition().duration(duration)\n            .attr('width', y(0))\n            .remove();\n    } else {\n        bars.attr('style', style).call(update);\n        bars.exit().remove();\n    }\n\n    function stacked(bar, enter) {\n        bar\n            .attr('y', function (d) { return x(d.x) + chartOffset; })\n            .attr('height', rangeBand);\n\n        if (enter) {\n            return bar\n                .attr('x', function (d) { return y(0); })\n                .attr('width', function (d) { return 0; });\n\n        } else {\n            return bar\n                .attr('x', function (d) { return d.y >= 0 ? y(d.y0 || 0) : y(d.y + d.y0); })\n                .attr('width', function (d) { return d.y >=0 ? y(d.y) - y(0) : y(0) - y(d.y); });\n        }\n    }\n\n    function grouped(bar, enter) {\n        var numSeries = data.length;\n        var height = function () { return rangeBand / numSeries - options.bar.groupPadding + 0.5; };\n        var offset = function (d, i) { return rangeBand / numSeries * i + 0.5; };\n\n        bar.attr('y', function (d, i, j) { return x(d.x) + offset(d, j) + chartOffset; })\n            .attr('x', y(0))\n            .attr('height', height);\n\n        if (enter) {\n            return bar\n                .attr('width', function (d) { return 0.5; });\n        } else {\n            return bar\n                .attr('width', function (d) { return d.y >= 0 ? y(d.y) - y(0) : y(0) - y(d.y); })\n                .attr('x', function (d) { return d.y < 0 ? y(d.y) : y(0); });\n        }\n    }\n}\n\nbarRender.defaults = defaults;\n/**\n* Adds a bar chart (horizontal columns) to the Contour instance.\n*\n* You can use this visualization to render both stacked and grouped charts (controlled through the _options_).\n*\n* This visualization requires `.cartesian()` and `.horizontal()`.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*       .cartesian()\n*       .horizontal()\n*       .bar([1,2,3,4])\n*       .render();\n*\n* @name bar(data, options)\n* @param {object|array} data The _data series_ to be rendered with this visualization. This can be in any of the supported formats.\n* @param {object} [options] Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n*/\nContour.export('bar', barRender);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/bar.js","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nvar defaults = {\n    column : {\n        // specifies a class string or function that will be added to each column\n        columnClass: null,\n        style: null,\n        stacked: false,\n        groupPadding: 1,\n        columnWidth: function() { return this.rangeBand; },\n        offset: function() { return 0; }\n    }\n};\n\nfunction render(data, layer, options) {\n    this.checkDependencies('cartesian');\n    var duration = options.chart.animations.duration != null ? options.chart.animations.duration : 400;\n    var opt = options.column;\n    var h = options.chart.plotHeight;\n    var rectClass = options.column.columnClass;\n    var rectStyle = options.column.style;\n    var _this = this;\n    var x = function (v) { return Math.round(_this.xScale(v)) + 0.5; };\n    var y = function (v) { return Math.round(_this.yScale(v)) - 0.5; };\n    var dataKey = function (d) { return d.data; };\n    var chartOffset = nwt.getValue(opt.offset, 0, this);\n    var rangeBand = nwt.getValue(opt.columnWidth, this.rangeBand, this);\n    var enter = nwt.partialRight((options.column.stacked ? stacked : grouped), true);\n    var update = options.column.stacked ? stacked : grouped;\n    var filteredData = data.map(function (series, j) {\n        return {\n            name: series.name,\n            data: series.data.filter(function (d, i) {\n                return i === 0 ? true : x(d.x) !== x(series.data[i-1].x);\n            })\n        };\n    });\n\n    var stack = nwt.stackLayout();\n    var series = layer.selectAll('g.series')\n            .data(stack(filteredData));\n\n    series.enter()\n        .append('g')\n        .attr('class', function (d, i) { return 'series s-' + (i+1) + ' ' + d.name; });\n\n    series.exit()\n        .remove();\n\n    var cols = series.selectAll('.column')\n            .data(dataKey, function (d) { return d.x || d; });\n\n    var cssClass = 'column' + (options.tooltip.enable ? ' tooltip-tracker' : '');\n\n    cols.enter()\n        .append('rect')\n        .attr('class', function (d, i, j) {\n            if (!rectClass) return cssClass;\n\n            return cssClass + ' ' + (typeof rectClass === 'function' ? rectClass.call(this, d, i, j) : rectClass);\n        })\n        .call(enter);\n\n    if (options.chart.animations && options.chart.animations.enable) {\n        cols.exit()\n            .transition().duration(duration)\n            .attr('y', h)\n            .attr('height', function () { return 0.5; })\n            .remove();\n        cols.transition().duration(duration)\n            .call(update);\n    } else {\n        cols.exit().remove();\n        cols.call(update);\n    }\n\n    // for every update\n    cols.attr('style', rectStyle);\n\n    function stacked(col, enter) {\n        var base = y(0);\n\n        col.attr('x', function (d) { return x(d.x) + chartOffset; })\n            .attr('width', function () { return rangeBand; });\n\n        if (enter) {\n            col.attr('y', function (d) { return d.y >= 0 ? base : base; })\n                .attr('height', function (d) { return 0.5; });\n        } else {\n            col.attr('y', function (d) { return d.y >= 0 ? y(d.y) + y(d.y0) - base : y(d.y0) ; })\n                .attr('height', function (d) { return d.y >=0 ? base - y(d.y) : y(d.y) - base; });\n        }\n    }\n\n    function grouped(col, enter) {\n        var width = rangeBand / data.length - opt.groupPadding + 0.5;\n        var offset = function (d, i) { return rangeBand / data.length * i + 0.5; };\n        var base = y(0);\n\n        col.attr('x', function (d, i, j) { return x(d.x) + offset(d, j) + chartOffset; })\n            .attr('width', width);\n\n        if (enter) {\n            col.attr('y', base)\n                .attr('height', 0);\n        } else {\n            col.attr('y', function (d) { return d.y >= 0 ? y(d.y) : base; })\n                .attr('height', function (d) { return d.y >= 0 ? base - y(d.y) : y(d.y) - base; });\n        }\n    }\n}\n\nrender.defaults = defaults;\n\n/**\n* Adds a column chart (vertical columns) to the Contour instance.\n*\n* This visualization requires `.cartesian()`.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*           .cartesian()\n*           .column([1,2,3,4])\n*           .render();\n*\n* @name column(data, options)\n* @param {object|array} data The _data series_ to be rendered with this visualization. This can be in any of the supported formats.\n* @param {object} [options] Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n*/\nContour.export('column', render);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/column.js","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nContour.export('coolNarwhal', function (data, layer) {\n    layer.append('path')\n        .attr('class', 'cool')\n        .attr('opacity', 0)\n        .attr('transform', 'scale(.5) translate(500 150)')\n        .attr('d', 'M-220.02,76.509l-0.78,8.927c-0.956,10.949,1.389,20.422,6.188,30.383c10.203,21.173,63.095,84.05,93.72,115.075c20.145,20.406,19.487,23.018,21.549,40.122c2.487,20.621,24.897,66.462,40.838,71.269 c15.086,4.549,12.91-12.398,13.319-37.83c5.746,2.457,10.917,5.638,20.206,12.697c61.697,46.892,139.734,69.97,206.5,71.733c46.209,1.221,81.432-7.081,142.957-33.694c40.484-17.512,54.271-22.098,65.639-21.504c4.432,0.232,22.678,11.204,41.746,21.563c35.398,19.229,69.457,34.595,75.896,34.239c12.609-1.457-0.701-11.783-8.072-24.217c-7.049-11.892-15.414-29.572-18.844-42.134s-4.723-22.272-8.91-27.091c-2.143-2.463-12.812-6.786-21.189-8.146c-18.045-2.933-22.191-2.922-13.531-8.957c13.076-9.115,17.377-11.039,1.826-29.068c-6.383-7.402-11.336-20.003-13.709-39.542c-1.607-13.237,1.057-23.679-3.869-27.451s-17.271,12.341-20.846,19.334c-2.01,3.937-7.102,19.005-11.312,33.485c-13.795,47.427-29.865,65.742-62.693,71.447c-34.361,5.971-71.623-9.506-116.543-48.404c-13.164-11.399-29.533-25.26-39.254-36.913c-13.428-16.101-15.48-18.138-19.785-20.66c-16.166-9.472-54.98-31.694-103.525-63.815c-24.393-16.141-57.72-36.928-71.453-43.693c-27.236-13.417-68.416-28.952-90.731-46.771c-24.665-19.697-38.108-19.793-67.804-5.479c-21.429,10.328-23.941,15.298-26.52,15.726c-8.216-10.129-22.917-11.198-31.647-20.682c-9.529-10.35-28.027-14.098-37.824-24.957c-10.668-11.826-31.25-16.752-40.886-26.94c-11.339-11.989-29.387-16.096-40.838-26.637c-11.617-10.694-27.159-14.843-37.68-24.045c-10.383-9.082-23.187-12.538-31.408-19.163c-8.193-6.601-16.593-9.444-22.026-11.993c-5.433-2.549-7.398-2.522-7.658-1.927c-0.26,0.594,1.355,2.955,6.054,6.447c4.699,3.491,22.193,18.451,31.645,22.77c10.921,5.104,17.502,15.01,29.671,21.375c13.224,6.918,22.212,18.731,36.229,25.924c15.53,7.971,24.754,21.184,39.657,28.253c16.462,7.808,25.503,21.598,39.958,28.36c14.499,6.78,20.647,20.252,34.429,23.428C-238.033,58.207-227.932,70.443-220.02,76.509L-220.02,76.509z')\n        .transition()\n            .delay(300)\n            .duration(2000)\n            .attr('opacity', 1);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/cool-narwhal.js","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nvar defaults = {\n    legend: {\n        vAlign: 'middle',\n        hAlign: 'right',\n        direction: 'vertical',\n        enabled: true,\n        formatter: function (d) {\n            return d.name;\n        },\n        el: undefined\n    }\n};\n\nfunction validAlignmentClasses(options) {\n    var classes = [];\n    if (['top', 'middle', 'bottom'].indexOf(options.legend.vAlign) !== -1) {\n        classes.push(options.legend.vAlign);\n    } else {\n        classes.push('top');\n    }\n\n    if (['left', 'center', 'right'].indexOf(options.legend.hAlign) !== -1) {\n        classes.push(options.legend.hAlign);\n    } else {\n        classes.push('right');\n    }\n\n    if (options.legend.direction === 'vertical') {\n        classes.push('vertical');\n    }\n\n    return classes;\n}\n\nfunction Legend(data, layer, options) {\n    if (options.legend.enabled === false) {\n        return;\n    }\n    var container;\n    if (options.legend.el) {\n        container = d3.select(options.legend.el).node();\n        while (container.firstChild) {\n            container.removeChild(container.firstChild);\n        }\n    } else {\n        this.container.selectAll('.contour-legend').remove();\n    }\n    var em = nwt.textBounds('series', '.contour-legend.contour-legend-entry');\n    var count = data.length;\n    var legendHeight = (em.height + 4) * count + 12; // legend has 1px border and 5px margin (12px) and each entry has ~2px margin\n    var mid = (options.chart.plotHeight - legendHeight) / 2;\n    var positioner = function (selection) {\n        // adjust position of legend only when is horizontally centered\n        // since we need to have all elements in the legend to calculate its width\n        if (options.legend.hAlign !== 'center' || !selection.length) {\n            return ;\n        }\n\n        // adjust the left\n        var legendWidth = selection[0].parentNode.clientWidth;\n        var left = (options.chart.plotWidth - legendWidth) / 2 + options.chart.internalPadding.left;\n\n        d3.select(selection[0].parentNode)\n            .style('left', left + 'px');\n    };\n\n    if (options.legend.el) {\n        container = d3.select(options.legend.el);\n    } else {\n        var legend = this.container.selectAll('.contour-legend').data([null]);\n        container = legend.enter().append('div');\n    }\n\n    container.attr('class', function () {\n        return ['contour-legend'].concat(validAlignmentClasses(options)).join(' ');\n    });\n\n    container.attr('style', function () {\n        var styles = [];\n\n        if (options.legend.vAlign === 'top') {\n            styles.push('top: 0');\n        } else if (options.legend.vAlign === 'middle') {\n            styles.push('top: ' + mid + 'px');\n        } else {\n            styles.push('bottom: ' + (options.chart.internalPadding.bottom + 5) + 'px');\n        }\n\n        if (options.legend.hAlign === 'left') {\n            styles.push('left: ' + options.chart.plotLeft + 'px');\n        } else if (options.legend.hAlign === 'center') {\n            var bounds = nwt.textBounds(this, '.contour-legend');\n\n            styles.push('left: ' + ((options.chart.plotWidth - bounds.width) / 2 + options.chart.internalPadding.left) + 'px' );\n        } else {\n            styles.push('right: 10px');\n        }\n\n        return styles.join(';');\n    });\n\n    var entries = container.selectAll('.contour-legend-entry')\n        .data(data);\n\n    entries.enter()\n        .append('div')\n        .attr('class', function () {\n            return 'contour-legend-entry';\n        });\n\n    entries.append('span')\n        .attr('class', function (d, i) { return 'contour-legend-key series s-' + (i+1) + ' ' + nwt.seriesNameToClass(d.name); });\n\n    entries.append('span')\n        .attr('class', 'series-name')\n        .text(options.legend.formatter)\n        .call(positioner);\n\n    entries.exit()\n        .remove();\n}\n\nLegend.defaults = defaults;\n\n/**\n* Adds a legend to the Contour instance. One entry is added to the legend for each series in the data.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*           .cartesian()\n*           .column(data)\n*           .legend(data)\n*           .render();\n*\n* @name legend(data, options)\n* @param {object|array} data The _data series_ for which to create a legend. This can be in any of the supported formats.\n* @param {object} [options] Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n*/\n\nContour.export('legend', Legend);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/legend.js","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nvar defaults = {\n    xAxis: {\n        type: 'linear'\n    },\n    line: {\n        stacked: false,\n        smooth: false,\n        animationDirection: 'left-to-right',\n        // animationDirection: 'bottom-to-top',\n        marker: {\n            enable: true,\n            size: 3,\n            animationDelay: null\n        },\n        preprocess: nwt.minMaxFilter(1000)\n    }\n};\n\nvar duration;\nvar animationDirection;\nvar animationsMap = {\n    'left-to-right': {\n        enter: function (line) {\n            var path = this;\n            path.each(function () {\n                var totalLength = this.getTotalLength();\n                d3.select(this)\n                    .attr('stroke-dasharray', totalLength + ' ' + totalLength)\n                    .attr('stroke-dashoffset', totalLength)\n                    .transition().duration(duration).ease('linear')\n                        .attr('stroke-dashoffset', 0)\n                        .transition().duration(0)\n                            .attr('stroke-dasharray', undefined);\n            });\n        },\n\n        update: function (line) {\n            this.attr('d', function (d) { return line(d.data); });\n            this.each(function () {\n                var totalLength = this.getTotalLength();\n                d3.select(this)\n                    .attr('stroke-dasharray', totalLength + ' ' + totalLength)\n                    .attr('stroke-dashoffset', totalLength)\n                    .transition().duration(duration).ease('linear')\n                        .attr('stroke-dashoffset', 0)\n                        .transition().duration(0)\n                            .attr('stroke-dasharray', undefined);\n            });\n        }\n    },\n\n    'bottom-to-top': {\n        enter: function (line) {\n            this.transition().duration(duration)\n                .attr('d', function (d) { return line(d.data); });\n        },\n\n        update: function (line) {\n            this.transition().duration(duration)\n                .attr('d', function (d) { return line(d.data); });\n        }\n    }\n};\n\n\nfunction render(rawData, layer, options, id) {\n    this.checkDependencies('cartesian');\n\n    var x = function (d) { return this.xScale(d.x) + this.rangeBand / 2 + 0.5; }.bind(this);\n    var y = function (d) { return this.yScale(d.y + (d.y0 || 0)) + 0.5; }.bind(this);\n    var shouldAnimate = options.chart.animations && options.chart.animations.enable;\n    animationDirection = options.line.animationDirection || 'left-to-right';\n    duration = options.chart.animations.duration != null ? options.chart.animations.duration : 400;\n    // jshint eqnull:true\n    var data = options.line.preprocess(nwt.cleanNullValues()(rawData));\n\n    data = options.line.stacked ? d3.layout.stack().values(function (d) { return d.data; })(data) : data;\n\n    renderPaths();\n\n    renderMarkers(options.line.marker.enable);\n\n    renderTooltipTrackers(options.tooltip && options.tooltip.enable);\n\n    function seriesClassName(extras) { return function (d, i) { return (extras||'') + ' s-' +(i+1) + ' ' + nwt.seriesNameToClass(d.name); }; }\n\n    function renderPaths() {\n        var startLine = d3.svg.line()\n            .x(function (d) { return x(d); })\n            .y(function () { return y({x: 0, y: options.yAxis.min || 0}); });\n\n        var line = d3.svg.line()\n            .x(function (d) { return x(d); })\n            .y(function (d) { return y(d); });\n\n        if(options.line.smooth) line.interpolate('cardinal');\n\n        var animFn = animationsMap[animationDirection];\n        var series = layer.selectAll('g.series')\n                .data(data, function (d) { return d.name; });\n\n        // enter\n        var el = series.enter().append('svg:g')\n            .attr('class',seriesClassName('series'))\n            .attr('clip-path', 'url(#clip)')\n            .append('path')\n                .attr('class', 'line');\n\n        if (shouldAnimate) {\n            var startLineFn = animationDirection === 'left-to-right' ? line : startLine;\n            el.attr('d', function(d) { return startLineFn(d.data); })\n                .call(nwt.partial(animFn.enter, line));\n        } else {\n            el.attr('d', function (d) { return line(d.data); });\n        }\n\n        // update\n        el = series\n            .attr('class', seriesClassName('series'))\n            .select('.line');\n\n        if (shouldAnimate) {\n            el.call(nwt.partial(animFn.update, line));\n        } else  {\n            el.attr('d', function (d) { return line(d.data); });\n        }\n\n        // remove\n        if (shouldAnimate) {\n            series.exit()\n                .remove();\n        } else  {\n            series.exit().remove();\n        }\n    }\n\n    function renderMarkers(enabled) {\n        var animationDelay = (options.line.marker.animationDelay == null) ? duration : options.line.marker.animationDelay;\n        var markers = layer.selectAll('.line-chart-markers')\n            .data(enabled ? data : [], function (d) { return d.name; });\n        markers.enter().append('g')\n            .attr('class', seriesClassName('line-chart-markers markers'));\n\n        markers.attr('class', seriesClassName('line-chart-markers markers'));\n\n        markers.exit().remove();\n\n        var dots = markers.selectAll('.dot')\n            .data(function (d) { return d.data; }, function (d) { return d.x; });\n\n        if (shouldAnimate) {\n            dots.transition().delay(animationDelay).duration(duration)\n                .attr('cx', x)\n                .attr('cy', y)\n                .attr('opacity', 1);\n        } else {\n            dots.attr('cx', x)\n                .attr('cy', y)\n                .attr('opacity', 1);\n        }\n\n\n        dots.enter().append('circle')\n            .attr('class', 'dot')\n            .attr('r', options.line.marker.size)\n            .attr('opacity', 0)\n            .attr('cx', x)\n            .attr('cy', y)\n            .transition().delay(animationDelay)\n                .attr('opacity', 1);\n\n        dots.exit().remove();\n\n    }\n\n    function renderTooltipTrackers(enabled) {\n        var trackerSize = 10;\n        var markers = layer.selectAll('.tooltip-trackers')\n            .data(enabled ? data : [], function (d) { return d.name; });\n\n        markers.enter().append('g')\n            .attr('class', seriesClassName('tooltip-trackers'));\n\n        markers.exit().remove();\n\n        var dots = markers.selectAll('.tooltip-tracker')\n            .data(function (d) { return d.data; }, function (d) { return d.x; });\n\n        dots.enter().append('circle')\n            .attr({\n                'class': 'tooltip-tracker',\n                'r': trackerSize,\n                'opacity': 0\n            });\n\n        dots.attr({\n            'cx': x,\n            'cy': y\n        });\n\n        dots.exit().remove();\n    }\n\n    return this;\n}\n\nrender.defaults = defaults;\n\n\n/**\n* Adds a line chart to the Contour instance.\n*\n* This visualization requires `.cartesian()`.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*           .cartesian()\n*           .line([1,2,3,4])\n*           .render();\n*\n* @name line(data, options)\n* @param {object|array} data The _data series_ to be rendered with this visualization. This can be in any of the supported formats.\n* @param {object} [options] Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n*/\nContour.export('line', render);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/line.js","import { noop } from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nContour.export('nullVis', noop);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/null.js","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nvar defaults = {\n    pie: {\n        sliceClass: null,\n\n        style: null,\n\n        piePadding: {\n            left: null,\n            top: null,\n            right: null,\n            bottom: null\n        },\n\n        // inner and outer radius can be numbers of pixels if >= 1, percentage if > 0 && < 1 or functions\n\n        // inner radius as function will recive the outerRadius as parameter\n        // passing a value between 0 and 1 (non-inclusing), this value is interpreted as % of radius\n        // ie. outerRadius: 100, innerRadius: .8 would give a inner radius or 80 pixles\n        innerRadius: null,\n\n        // outer radius as function will recieve the proposed maximum radius for a pie\n        // passing a value between 0 and 1 (non-inclusing), this value is interpreted as % of width\n        // the default behavior is 50% of the mininum between with and height of the container (adjusted for padding)\n        outerRadius: null\n    }\n};\n\nfunction normalizePadding(options) {\n    if (nwt.isNumber(options.pie.piePadding)) {\n        return {\n            top: options.pie.piePadding,\n            left: options.pie.piePadding,\n            right: options.pie.piePadding,\n            bottom: options.pie.piePadding\n        };\n    }\n\n    return options.pie.piePadding;\n}\n\nfunction clampBounds(bounds, maxWidth, maxHeight) {\n    return {\n        top: nwt.clamp(bounds.top, 0, maxHeight),\n        bottom: nwt.clamp(bounds.bottom, 0, maxHeight),\n        left: nwt.clamp(bounds.left, 0, maxWidth),\n        right: nwt.clamp(bounds.right, 0, maxWidth)\n    };\n}\n\nfunction calcPadding(options) {\n    var padding = normalizePadding(options);\n    var w = options.chart.plotWidth;\n    var h = options.chart.plotHeight;\n\n    return clampBounds(padding, w, h);\n}\n\nfunction resolveValueUnits(value, ref) {\n    // resolve (0,1) interval to a percentage of the reference value\n    // otherwise as a pixel valie\n    return value > 0 && value < 1 ? ref * value : value;\n}\n\nfunction resolvePaddingUnits(padding, w, h) {\n    // if the value of padding is betweem 0 and 1 (non inclusing),\n    // interpret it as a percentage, otherwise as a pixel value\n    return {\n        top: resolveValueUnits(padding.top, h) || 5,\n        bottom: resolveValueUnits(padding.bottom, h) || 5,\n        left: resolveValueUnits(padding.left, w) || 5,\n        right: resolveValueUnits(padding.right, w) || 5\n    };\n}\n\nfunction renderer(data, layer, options) {\n    /*jshint eqnull:true */\n    var duration = options.chart.animations.duration != null ? options.chart.animations.duration : 400;\n    var shouldAnimate = options.chart.animations && options.chart.animations.enable;\n    var w = options.chart.plotWidth, h = options.chart.plotHeight;\n    var padding = calcPadding.call(this, options);\n    var numSeries = data.length;\n    var style = options.pie.style;\n    var _this = this;\n    var shouldCenterX = [options.pie.piePadding.left, options.pie.piePadding.right].every(function (d) { return d == null; });\n    var shouldCenterY = [options.pie.piePadding.top, options.pie.piePadding.bottom].every(function (d) { return d == null; });\n    var pixelPadding = resolvePaddingUnits(padding, w, h);\n    // the reference size is the min between with and height of the container\n    var referenceSize = Math.min(w, h);\n\n    // for auto radius we need to take the min between the available with or height adjusted by padding and num series\n    var totalPadding = pixelPadding.left + (pixelPadding.right + pixelPadding.left) * (numSeries - 1) + pixelPadding.right;\n    var proposedRadius = Math.min(((w - totalPadding) / numSeries) / 2, (h - pixelPadding.top - pixelPadding.bottom) / 2);\n    var radius = resolveValueUnits(nwt.getValue(options.pie.outerRadius, proposedRadius, this, proposedRadius, referenceSize), referenceSize);\n    // inner radius is a pixel value or % of the radius\n    var innerRadius = resolveValueUnits(nwt.getValue(options.pie.innerRadius, 0, this, radius), radius);\n    var pieData = d3.layout.pie().value(function (d) { return d.y; }).sort(null);\n    var totalWidth = totalPadding + radius * numSeries * 2;\n    var outerPaddingLeft = shouldCenterX ? (w - totalWidth) / 2 : pixelPadding.left;\n    var centerY = h / 2;\n\n    var classFn = function (d, i, j) {\n        var baseClass = 'series arc' + (options.tooltip.enable ? ' tooltip-tracker' : '') + ' s-' + (i+1) + ' ' + d.data.x;\n\n        if (!options.pie.sliceClass) {\n            return baseClass;\n        }\n\n        return baseClass + ' ' + (typeof options.pie.sliceClass === 'function' ? options.pie.sliceClass.call(_this, d, i, j) : options.pie.sliceClass);\n    };\n\n    var translatePie = function (d,i) {\n        // calc the left side coord of the pie, including padding for the prevousous pies\n        var offsetX = outerPaddingLeft + (radius * 2 * i + (pixelPadding.right + pixelPadding.left) * i);\n        // calc the center of the pie starting from offsetX\n        var posY = shouldCenterY ? centerY : radius + pixelPadding.top;\n\n        return 'translate(' + (radius + offsetX) + ',' + (posY) + ')';\n    };\n\n    var pieGroup = layer.selectAll('g.pie-group')\n        .data(data);\n\n    pieGroup.enter().append('svg:g')\n        .attr('class', 'pie-group')\n        .attr('transform', translatePie)\n        .call(renderSeries);\n\n    pieGroup.exit().remove();\n\n    if (shouldAnimate) {\n        pieGroup\n            .call(renderSeries)\n            .transition().duration(duration/2)\n            .attr('transform', translatePie);\n    } else {\n        pieGroup.call(renderSeries)\n            .attr('transform', translatePie);\n    }\n\n    function renderSeries(group) {\n        var arc = d3.svg.arc()\n            .outerRadius(radius).innerRadius(innerRadius);\n\n        var startArc = d3.svg.arc()\n            .outerRadius(radius).innerRadius(innerRadius)\n            .startAngle(0).endAngle(0);\n\n        var pie = group.selectAll('path')\n            .data(function (d) { return pieData(d.data); }, function (d) { return d.data.x; });\n\n        pie.enter()\n            .append('path')\n            .attr('class', classFn)\n            .attr('d', function (d) { return startArc(d); })\n            .attr('style', style)\n            .each(function (d) { this._current = { startAngle: d.startAngle, endAngle: d.startAngle }; });\n\n\n        if (shouldAnimate) {\n            pie.exit()\n                .remove();\n\n            pie.transition().duration(duration)\n                .ease('cubic-in')\n                .attrTween('d', arcTween);\n        } else {\n            pie.exit().remove();\n            pie.attr('d', arc);\n        }\n\n        // Store the displayed angles in _current.\n        // Then, interpolate from _current to the new angles.\n        // During the transition, _current is updated in-place by d3.interpolate.\n        // from http://bl.ocks.org/mbostock/1346410\n        function arcTween(a) {\n            var i = d3.interpolate(this._current, a);\n            this._current = i(0);\n            return function(t) {\n                return arc(i(t));\n            };\n        }\n    }\n}\n\nrenderer.defaults = defaults;\n\n\n/**\n* Adds a pie chart to the Contour instance.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*           .pie([1,2,3,4])\n*           .render();\n*\n* @name pie(data, options)\n* @param {object|array} data The _data series_ to be rendered with this visualization. This can be in any of the supported formats. The data elements are summed and then divided. In the example, `.pie([1,2,3,4])` makes four pie slices: 1/10, 2/10, 3/10, and 4/10.\n* @param {object} [options] Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n*/\nContour.export('pie', renderer);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/pie.js","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nvar defaults = {\n    xAxis: {\n        type: 'linear'\n    },\n    scatter: {\n        radius: 4,\n        preprocess: function(data) {\n            return data;\n        }\n    }\n};\n\nfunction ScatterPlot(data, layer, options) {\n    this.checkDependencies('cartesian');\n    var duration = options.chart.animations.duration != null ? options.chart.animations.duration : 400;\n    var shouldAnimate = options.chart.animations && options.chart.animations.enable;\n    var opt = options.scatter;\n    var halfRangeBand = this.rangeBand / 2;\n    var x = function (d) { return this.xScale(d.x) + halfRangeBand; }.bind(this);\n    var y = function (d) { return this.yScale(d.y); }.bind(this);\n    var h = options.chart.plotHeight;\n    var classFn = function (d, i) { return d.name + ' series s-' + (i+1); };\n\n    data = options.scatter.preprocess(data);\n\n    var series = layer.selectAll('.series')\n        .data(data);\n\n    series.attr('class', classFn);\n\n    series.enter().append('svg:g')\n        .attr('class', classFn);\n\n    series.exit().remove();\n\n    var dots = series.selectAll('.dot')\n        .data(function (d) { return d.data; }, function (d) {\n            return options.scatter.dataKey ? d[options.scatter.dataKey] : d.x;\n        });\n\n    dots.enter().append('circle')\n            .attr('class', 'dot tooltip-tracker')\n            .attr('r', opt.radius)\n            .attr('cx', x)\n            .attr('cy', h);\n\n    if (shouldAnimate) {\n        dots.transition().duration(duration)\n            .attr('r', opt.radius)\n            .attr('cx', x)\n            .attr('cy', y);\n    } else {\n        dots.attr('r', opt.radius)\n            .attr('cx', x)\n            .attr('cy', y);\n    }\n\n\n    dots.exit().remove();\n}\n\nScatterPlot.defaults = defaults;\n\n/**\n* Adds a scatter plot to the Contour instance.\n*\n* This visualization requires `.cartesian()`.\n*\n* ### Example:\n*\n*     new Contour({el: '.chart'})\n*           .cartesian()\n*           .scatter([1,2,3,4])\n*           .render();\n*\n* @name scatter(data, options)\n* @param {object|array} data The _data series_ to be rendered with this visualization. This can be in any of the supported formats.\n* @param {object} [options] Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n*/\nContour.export('scatter', ScatterPlot);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/scatter.js","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nvar defaults = {\n    tooltip: {\n        enable: true\n    }\n};\n\n/**\n* Adds a tooltip and legend combination for stacked (multiple) series visualizations in the Contour instance.\n* Requires a second display element (`<div>`) for the legend in the html.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*           .cartesian()\n*           .column(stackedColData)\n*           .stackTooltip(stackedColData, {el: '.myChartLegend'})\n*           .render();\n*\n* @name stackTooltip(data, options)\n* @param {object|array} data The _data series_ to be rendered with this visualization. This can be in any of the supported formats.\n* @param {object} options Configuration options particular to this visualization that override the defaults. Requires an `el` option with the selector of the container in which to render the tooltip.\n* @api public\n*\n* ### Notes:\n*\n* Each Contour instance can only include one `stackTooltip` visualization.\n*/\nfunction stackTooltip(data, layer, options) {\n\n    var valueFormatter = this.yAxis().tickFormat();\n    var tooltip = d3.select(options.stackTooltip.el);\n\n    tooltip.classed('stack-tooltip', true);\n\n    // jshint eqnull:true\n    var onMouseOver = function (d) {\n        var isNull = function (p) {\n            return !(p && p.y != null);\n        };\n        var mapFn = function (p, i) {\n            var index = nwt.isNumber(d.x) ? d.x : options.xAxis.categories.indexOf(d.x);\n            return !isNull(p.data[index]) ?\n                { seriesName: p.name, value: p.data[index].y, cssClass: 's-' + (i+1) } :\n                null;\n        };\n        var filtered =data.map(mapFn).filter(function (x) { return x; });\n        var text = filtered.map(function (t) { return '<span class=\"' + t.cssClass + '\"\">' + t.seriesName + ': ' + valueFormatter(t.value) + '</span>'; }).join(' / ');\n        tooltip.html(text).style({display: 'block'});\n    };\n\n    var onMouseOut = function (// datum\n                                ) {\n        tooltip.html('');\n    };\n\n    this.svg.selectAll('.tooltip-tracker')\n        .on('mouseover.tooltip', onMouseOver.bind(this))\n        .on('mouseout.tooltip',  onMouseOut.bind(this));\n}\n\nstackTooltip.defaults = defaults;\n\nContour.export('stackTooltip', stackTooltip);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/stack-tooltip.js","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nvar defaults = {\n    tooltip: {\n        enable: true,\n        animate: true,\n        opacity: 0.85,\n        showTime: 300,\n        hideTime: 500,\n        distance: {\n            x: 5,\n            y: 5,\n        },\n        formatter: undefined //defined in formatters array in getTooltipText()\n    }\n};\n\nfunction render(data, layer, options) {\n\n    var clearHideTimer = function () {\n        clearTimeout(this.tooltip.hideTimer);\n    };\n\n    var changeOpacity = function (opacity, delay) {\n        if(this.options.tooltip.animate) {\n            this.tooltipElement\n                .transition().duration(delay)\n                    .style('opacity', opacity);\n        } else {\n            this.tooltipElement.style('opacity', opacity);\n        }\n    };\n\n    var positionTooltip = function (d) {\n        var pointOrCentroid = function () {\n            return d3.event.target.tagName === 'path' ? nwt.getCentroid(d3.event.target) : d3.mouse(this.container.node());\n        };\n        var xScale = this.xScale;\n        var yScale = this.yScale;\n        var plotLeft = this.options.chart.plotLeft;\n        var plotWidth = this.options.chart.plotWidth;\n        var plotTop = this.options.chart.plotTop;\n        var plotHeight = this.options.chart.plotHeight;\n        var distanceX = this.options.tooltip.distance.x !== undefined ? this.options.tooltip.distance.x : this.options.tooltip.distance;\n        var distanceY = this.options.tooltip.distance.y !== undefined ? this.options.tooltip.distance.y : this.options.tooltip.distance;\n        var width = parseFloat(this.tooltipElement.node().offsetWidth);\n        var height = parseFloat(this.tooltipElement.node().offsetHeight);\n        var pointX = xScale ? xScale(d.x) : pointOrCentroid.call(this)[0];\n        var pointY = yScale ? yScale(d.y) : pointOrCentroid.call(this)[1];\n        var alignedRight;\n\n        var clampPosition = function (pos) {\n            // Check outside plot area (left)\n            if (pos.x < plotLeft) {\n                pos.x = plotLeft;\n            }\n\n            // Check outside plot area (right)\n            if (pos.x + width > plotLeft + plotWidth) {\n                pos.x -= (pos.x + width) - (plotLeft + plotWidth);\n                // Don't overlap point\n\n                alignedRight = true;\n            }\n\n            // Check outside the plot area (top)\n            if (pos.y < plotTop) {\n                pos.y = plotTop;\n\n                // Don't overlap point\n                if (alignedRight && pointY >= pos.y && pointY <= pos.y + height) {\n                    pos.y = pointY + plotTop + distanceY;\n                }\n            }\n\n            // Check outside the plot area (bottom)\n            if (pos.y + height > plotTop + plotHeight) {\n                pos.y = plotTop + plotHeight - (height);\n            }\n\n            return pos;\n        };\n\n        var positioner = {\n            'vertical': function verticalPositioner() {\n                var pos = {\n                    x: plotLeft + pointX + (distanceX - width),\n                    y: plotTop + pointY - (distanceY + height)\n                };\n\n                return clampPosition(pos);\n            },\n\n            'horizontal': function horizontalPositioner() {\n                var pos = {\n                    x: plotLeft + pointY + (distanceX - width),\n                    y: plotTop + pointX - (distanceY + height)\n                };\n\n                return clampPosition(pos);\n            }\n        };\n\n        return options.chart.rotatedFrame ? positioner.horizontal() : positioner.vertical();\n\n    };\n\n    var onMouseOver = function (d) {\n        show.call(this, d);\n    };\n\n    var onMouseOut = function () {\n        changeOpacity.call(this, 0, this.options.tooltip.hideTime);\n    };\n\n    var getTooltipText = function (d, allPoints) {\n        function match() {\n            var params = Array.prototype.slice.call(arguments);\n            var list = params[0];\n            var rest = params.slice(1);\n\n            var response = list.map(function(fn) { return fn.apply(this, rest); }).concat([nwt.noop]);\n\n            return response.filter(function (a) { return a; })[0];\n        }\n\n        var options = this.options.tooltip;\n        var formatters = [\n            function (d) { return options.formatter ? nwt.partial(options.formatter, d, allPoints) : null; },\n            function (d) { return d.hasOwnProperty('x') ? nwt.partial(function (d) { return d.series + '<br>' + d.x + '<br>' + d.y; }, d) : null; },\n            function (d) { return d.data && d.data.hasOwnProperty('x') ? nwt.partial(function (d) { return d.series + '<br>' +  d.x + '<br>' + d.y; }, d.data) : null; },\n            function (d) { return d.hasOwnProperty('value') ? nwt.partial(function (d) { return d.value; }, d) : null;  },\n            function () { return function () { return 'NA'; }; }\n        ];\n\n\n        return match(formatters, d)();\n    };\n\n    var show = function (d) {\n        clearHideTimer.call(this);\n\n        var dataPoints = findOriginalDataPoint(d);\n\n        this.tooltipElement.select('.text').html(getTooltipText.call(this, d || dataPoints[0], dataPoints));\n\n        var pos = positionTooltip.call(this, d);\n\n        this.tooltipElement\n            .style('top', pos.y + 'px')\n            .style('left', pos.x + 'px');\n\n        changeOpacity.call(this, this.options.tooltip.opacity, this.options.tooltip.showTime);\n    };\n\n    function findOriginalDataPoint(d) {\n        var res = [];\n        data.forEach(function (series, seriesIndex) {\n            var name = series.name;\n            series.data.forEach(function (point) {\n                if (point.x === d.x && d.y === point.y) {\n                    res.push(Object.assign(point, { series: name, seriesIndex:seriesIndex }));\n                }\n            });\n        });\n\n        return res;\n    }\n\n    this.tooltipElement = this.container\n        .style('position', 'relative')\n        .selectAll('.nw-tooltip').data([1]);\n\n    this.tooltipElement\n        .enter().append('div')\n        .attr('class', 'nw-tooltip')\n        .style('opacity', 0)\n        .append('div')\n            .attr('class', 'text');\n\n    this.svg.selectAll('.tooltip-tracker')\n        .on('mouseover.tooltip', onMouseOver.bind(this))\n        .on('mouseout.tooltip',  onMouseOut.bind(this));\n}\n\nrender.defaults = defaults;\n\n\n/**\n* Adds a tooltip on hover to all other visualizations in the Contour instance.\n*\n* Although not strictly required, this visualization does not appear unless there are already one or more visualizations in this Contour instance for which to show the tooltips.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*           .cartesian()\n*           .line([2, 4, 3, 5, 7])\n*           .tooltip()\n*           .render();\n*\n* @name tooltip(data, options)\n* @param {object|array} data Ignored!\n* @param {object} options Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n* ### Notes:\n*\n* Each Contour instance can only include one `tooltip` visualization.\n*/\nContour.export('tooltip', render);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/tooltip.js","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nfunction normalizeDataSet(dataSet) {\n    var all = nwt.flatten(dataSet.map(function (set) { return set.data; }));\n    var isLinear = all.length && nwt.isNumber(all[0].x);\n    var normalizer = function (d, i) { return { x: i, y: d.y }; };\n\n    return isLinear ? all : all.map(normalizer);\n}\n\nfunction ctor(raw, layer, options) {\n    this.checkDependencies('cartesian');\n    var data = normalizeDataSet(raw);\n    var duration = options.chart.animations.duration != null ? options.chart.animations.duration : 400;\n    var shouldAnimate = options.chart.animations && options.chart.animations.enable;\n    var x = function(d) { return this.xScale(d) + this.rangeBand / 2; }.bind(this);\n    var y = function(d) { return this.yScale(d); }.bind(this);\n    var regression = nwt.linearRegression(data);\n    var domain = d3.extent(this.xScale.domain());\n    var numericDomain = d3.extent(data, function(p) { return p.x; });\n    var lineY = function (x) { return regression.intercept + regression.slope * x; };\n\n    var line = layer.selectAll('.trend-line')\n        .data([1]);\n\n    if (isNaN(lineY(numericDomain[0])) || isNaN(lineY(numericDomain[1])) || isNaN(x(domain[0])) || isNaN(x(domain[1]))) {\n        line.remove();\n    } else {\n        line.enter().append('line')\n            .attr('class', 'trend-line')\n            .attr('x1', x(domain[0]))\n            .attr('y1', y(lineY(numericDomain[0])))\n            .attr('x2', x(domain[0]))\n            .attr('y2', y(lineY(numericDomain[0])));\n\n        line.exit().remove();\n\n        if (shouldAnimate) {\n            line = line.transition().duration(duration);\n        }\n\n        line.attr('x1', x(domain[0]))\n            .attr('y1', y(lineY(numericDomain[0])))\n            .attr('x2', x(domain[1]))\n            .attr('y2', y(lineY(numericDomain[1])));\n    }\n}\n\nctor.defaults = {};\n\n/**\n* Adds a trend line to the Contour instance, based on linear regression.\n*\n* This visualization requires `.cartesian()`.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*           .cartesian()\n*           .trendLine([2,4,3,5,7])\n*           .render();\n*\n* @name trendLine(data, options)\n* @param {object|array} data The _data series_ to be rendered with this visualization. This can be in any of the supported formats. A linear regression is performed on the _data series_ and the resulting trend line is displayed.\n* @param {object} [options] Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n*/\nContour.export('trendLine', ctor);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/trend-line.js"],"sourceRoot":""}