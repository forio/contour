{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap c5c2eefce2637578f57a","webpack:///./src/scripts/utils/contour-utils.js","webpack:///external \"d3\"","webpack:///./src/scripts/core/contour.js","webpack:///./src/scripts/core/axis/y-axis.js","webpack:///./src/scripts/core/axis/axis-scale-factory.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/scripts/core/axis/centered-y-axis.js","webpack:///./src/scripts/core/axis/linear-scale-axis.js","webpack:///./src/scripts/core/axis/log-y-axis.js","webpack:///./src/scripts/core/axis/ordinal-scale-axis.js","webpack:///./src/scripts/core/axis/smart-y-axis.js","webpack:///./src/scripts/core/axis/time-scale-axis.js","webpack:///./src/scripts/index.js","webpack:///./src/scripts/utils/visualization-container.js","webpack:///./node_modules/lodash.defaults/index.js","webpack:///./node_modules/lodash.merge/index.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/scripts/core/cartesian.js","webpack:///./src/scripts/core/horizontal-frame.js","webpack:///./src/scripts/core/exportable.js","webpack:///./src/scripts/visualizations/area.js","webpack:///./src/scripts/visualizations/bar.js","webpack:///./src/scripts/visualizations/column.js","webpack:///./src/scripts/visualizations/cool-narwhal.js","webpack:///./src/scripts/visualizations/legend.js","webpack:///./src/scripts/visualizations/line.js","webpack:///./src/scripts/visualizations/null.js","webpack:///./src/scripts/visualizations/pie.js","webpack:///./src/scripts/visualizations/scatter.js","webpack:///./src/scripts/visualizations/stack-tooltip.js","webpack:///./src/scripts/visualizations/title.js","webpack:///./src/scripts/visualizations/tooltip.js","webpack:///./src/scripts/visualizations/trend-line.js","webpack:///./src/styles/contour.less?616b"],"names":["default","multiplier","x","dig","decDigits","Math","pow","maxMultiplier","a","b","max","addFloat","factor","aa","round","bb","subFloat","mulFloat","divFloat","root","window","global","objectProto","Object","prototype","hasOwnProperty","toString","symToStringTag","Symbol","toStringTag","undefined","baseGetTag","value","call","isOwn","tag","unmasked","e","result","noop","partial","fn","args","Array","arguments","length","i","newArgs","fullArgs","concat","apply","partialRight","isObject","type","isObjectLike","isDate","isNumber","isString","String","range","start","end","step","t","index","ceil","uniq","array","cache","len","j","el","key","push","flatten","reduce","acc","cur","isArray","compact","intersection","map","omit","src","props","prop","res","keys","forEach","getValue","deafult","ctx","slice","seriesNameToClass","name","materialize","object","options","curPath","isDom","obj","nodeType","style","ownerDocument","skipList","skip","shouldSkip","path","some","RegExp","test","prev","curKeyPath","expectsParam","shouldMaterialize","console","warn","cleanNullValues","series","s","assign","data","acum","datum","y","minMaxFilter","desiredLen","toReturn","increment","floor","hasValidPt","maxPt","minPt","maxIndex","min","intermediateIndex","intermediatePt","msg","log","firstAndLast","ar","roundToNearest","number","multiple","roundTo","digits","trunc","str","abs","parts","split","log10","LN10","clamp","val","l","h","clampLeft","low","clampRight","high","degToRad","deg","PI","radToDeg","rad","rotatePoint","point","cos","sin","translatePoint","delta","linearRegression","dataSrc","lr","n","sum_x","sum_y","sum_xy","sum_xx","sum_yy","slope","intercept","r2","sqrt","niceRound","roundToNextTick","num","sign","mag","exp","toExponential","replace","raw","niceMinMax","ticks","startAtZero","tickValues","swap","origMax","exponent","defaultRounding","excelRoundUp","up","roundFn","v","nice","negativeMinAmount","intermediateMax","iMin","inter","roundToDigits","intermediateMin","interval","finalMin","finalMax","ticksValues","prevTick","newTick","defaultMinMax","minMax","foundSomethingRound","every","tick","extractScaleDomain","domain","zeroAnchor","dataMin","dataMax","niced","niceTicks","filter","sort","calcXLabelsWidths","padding","d","textBounds","width","doXLabelsFit","labelFormatter","tickWidths","availableWidthForLabels","chart","plotWidth","axisLabelsWidth","sum","getTicksThatFit","reduceTicksByMod","iter","filterMod","finalTicks","text","css","body","document","getElementsByTagName","wrapper","createElement","dummy","className","position","height","visibility","lineHeight","whiteSpace","innerHTML","appendChild","clientWidth","clientHeight","removeChild","dateDiff","d1","d2","diff","getTime","mergeArrays","array1","array2","isCorrectDataFormat","dataArray","p","isCorrectSeriesFormat","isArrayOfObjects","hasDataArrayPerSeries","hasSeriesNamePerSeries","datumInCorrectFormat","normalizeSeries","categories","hasCategories","sortFn","normal","set","hasX","categoryAt","correctDataFormat","correctSeriesFormat","stackLayout","stack","d3","layout","values","outFn","y0s","y0","out","maxTickValues","tickInteval","isSupportedDataFormat","selectDom","selector","select","getStyle","elem","styles","offsetParent","defaultView","getComputedStyle","getCentroid","element","getOffsetParent","tagName","parentNode","parentBox","getBoundingClientRect","bbox","left","top","warning","Contour","nwt","defaults","animations","enable","duration","defaultWidth","defaultAspect","margin","right","bottom","internalPadding","rotatedFrame","plotHeight","plotTop","plotLeft","xAxis","yAxis","tooltip","init","version","VERSION","xScaleFactory","yScaleFactory","utils","addAxis","axes","export","ctorName","renderer","Error","sortSeries","shouldSort","sortFunc","vizOpt","vis","ownData","lastData","VisualizationContainer","_visualizations","expose","functionalityConstructor","ctor","functionality","create","originalOptions","_exposed","_extraOptions","calculateWidth","outerWidth","parseInt","paddingLeft","paddingRight","calculateHeight","outerHeight","paddingTop","paddingBottom","containerHeight","calcWidth","ratio","aspect","calcMetrics","adjustPadding","adjustTitlePadding","merge","composeOptions","allDefaults","mergeExtraOptions","opt","mergeDefaults","forceSkip","updateOptions","baseRender","plotArea","render","renderVisualizations","resize","container","update","chartOpt","attr","svg","append","node","createVisualizationLayer","id","visualization","layer","parent","normalizeData","bind","checkDependencies","listOfDependencies","_this","missing","dep","indexOf","join","ensureDefaults","setData","dataNormalizer","YAxis","scaling","labels","format","setRange","scale","rangeSize","axis","numTicks","formatter","_scale","tickFormat","tickSize","innerTickSize","outerTickSize","tickPadding","linear","setDomain","_niceTheScale","LogYAxis","SmartYAxis","CenteredYAxis","OrdinalScale","TimeScale","LinearScale","axisCtor","isTimeData","axisType","smartAxis","yMax","yMin","NUM_DECIMALS","__super","_extractYTickValues","scaledDomain","_getScaledDomain","extent","dataRange","domainPadding","scaledMin","scaledMax","tickMin","tickMax","tickRange","tickSpacing","currentTick","_domain","_getAxisDomain","_setRange","formatLabel","getDate","labelsFit","rangeBand","postProcessAxis","optMin","optMax","extents","ticksHint","isCategorized","ordinal","optFormat","maxTicks","axisGroup","rotation","pos","lineCenter","anchor","selectAll","ref","toFixed","_range","band","numCats","threshold","rangeType","innerRangePadding","outerRangePadding","rangePoints","adjustedDomain","perTreshold","rawMax","nextTick","time","getOptimalTickFormat","axisDomain","spanDays","daysThreshold","_getAxisRange","rangeRound","linearDomain","size","module","exports","_extent","field","maxs","mins","_stackedExtent","dataSets","ext","_xExtent","_yExtent","VisInstanceContainer","vizOptions","context","rawData","setVisibility","visible","display","_updateDomain","isSupportedFormat","xDomain","xExtent","yExtent","stacked","gridlines","clipPlotArea","title","titlePadding","orient","zeroPlane","verticalAlign","cartesian","maxTickSize","readOnlyProps","extraPadding","yDomain","_getYScaledDomain","opts","absMin","xOptions","yOptions","_getAdjustedBottomPadding","_getAdjustedTopPadding","_getAdjustedLeftPadding","_getAdjustedRightPadding","xLabels","xAxisText","xLabelBounds","regularXBounds","em","ang","xLabelHeightUsed","yDomainScaled","tmpScale","yLabels","yAxisText","yLabelBounds","titleBounds","computeXScale","xScale","xScaleGenerator","computeYScale","yScaleDomain","yScale","yScaleGenerator","setYDomain","redrawYAxis","renderGridlines","_animationDuration","computeScales","_xAxis","_yAxis","renderXAxis","animOpt","transition","adjustTickLabels","selection","adj","textSel","_xAxisGroup","enter","renderYAxis","_yAxisGroup","_renderYAxisElement","alignmentOffset","middle","renderAxisLabels","adjustFactor","bounds","option","horizontal","vertical","getYTicks","smart","pop","getXTicks","gr","w","lines","exit","remove","offset","renderBackground","background","g","renderClipArea","defs","clip","rect","_normalizeData","adjustDomain","getExtents","_adjustXDomain","_adjustYDomain","getXDomain","dataVis","isCategoricalData","dataSrcCategories","sameCats","viz","all","frame","categoryLabels","xLabel","yLabel","lineHeightAdjustment","titleOneEm","defaultParams","fileName","target","backgroundColor","browser","checked","queue","working","exportable","cssIgnoreDiff","cssText","parentRule","cssSharedSvg","font","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","direction","letterSpacing","textDecoration","unicodeBidi","wordSpacing","cursor","overflow","opacity","addToQueue","checkBrowser","download","exportImage","place","getSvgDataUrl","dataUrlCreated","makeSvgUrl","makeImageUrl","encodeBase64DataUrl","svgXml","btoa","dataUrlToBlob","dataUrl","byteString","atob","unescape","mimeString","byteArray","Uint8Array","charCodeAt","Blob","XMLSerializer","serializeToString","svgDataUrl","canvas","getContext","canvg","renderImageCanvg","renderImageNative","imageRendered","imageDataUrl","toDataURL","createsObjectUrls","imageBlob","domUrl","URL","webkitURL","objectUrl","createObjectURL","revokeObjectURL","svgImg","Image","onload","fillStyle","fillRect","drawImage","onerror","ignoreMouse","ignoreAnimation","offsetX","offsetY","scaleWidth","scaleHeight","renderCallback","createSvgClone","svgNode","svgCloned","createIsolatedNode","nodeClone","destroyIsolatedNode","cloneNodes","cloneLegendDiv","applyStyles","sourceNode","targetNode","sourceStyle","targetStyle","isFinite","newNode","cloneNode","childNodes","childNode","nodeLoaded","iframe","iframeWindow","contentWindow","iframeDocument","destroyIframe","open","write","close","applyDivStylesToSvg","nodeName","borderTopLeftRadius","borderLeftColor","borderLeftWidth","color","containerDiv","empty","containerDivNode","containerSvg","offsetLeft","clientLeft","offsetTop","clientTop","entriesDivs","entryDivNode","entryDiv","entryDivKeyNode","getEntryDivSubNode","swatch","offsetWidth","offsetHeight","entryDivSeriesNode","textContent","getProportionedBounds","original","specified","exporter","startWork","boundsClone","performExport","svgNodeClone","destroySvgClone","setAttribute","win","aDownloads","savesMsBlobs","url","blob","revokeUrl","exporters","href","click","navigator","msSaveOrOpenBlob","location","doc","setTimeout","finishWork","img","shift","checkEncodesBase64","checkADownloads","checkSavesMsBlobs","checkCreatesObjectUrls","checkExportsSvg","encodesBase64","setupBase64Shim","exportsSvg","querySelector","getAttribute","sourceImg","svgExportChecked","xml","encodeURIComponent","setupCanvgShim","chars","InvalidCharacterError","message","input","block","charCode","idx","output","charAt","done","scripts","remaining","srcURL","script","head","area","areaBase","preprocess","classFn","startArea","y1","smooth","interpolate","renderSeries","renderTooltipTrackers","trackerSize","markers","blocks","bar","barClass","groupPadding","barWidth","barRender","rectClass","chartOffset","grouped","bars","cssClass","numSeries","column","columnClass","columnWidth","rectStyle","dataKey","filteredData","cols","col","base","delay","legend","vAlign","hAlign","enabled","validAlignmentClasses","classes","Legend","firstChild","count","legendHeight","mid","positioner","legendWidth","entries","line","animationDirection","marker","animationDelay","animationsMap","each","totalLength","getTotalLength","ease","shouldAnimate","renderPaths","renderMarkers","seriesClassName","extras","startLine","animFn","startLineFn","dots","pie","sliceClass","piePadding","innerRadius","outerRadius","normalizePadding","clampBounds","maxWidth","maxHeight","calcPadding","resolveValueUnits","resolvePaddingUnits","shouldCenterX","shouldCenterY","pixelPadding","referenceSize","totalPadding","proposedRadius","radius","pieData","totalWidth","outerPaddingLeft","centerY","baseClass","translatePie","posY","pieGroup","group","arc","startArc","startAngle","endAngle","_current","attrTween","arcTween","scatter","ScatterPlot","halfRangeBand","stackTooltip","valueFormatter","classed","onMouseOver","isNull","mapFn","seriesName","filtered","html","onMouseOut","on","pxToNumber","pixels","Number","textAnchor","xVal","yVal","animate","showTime","hideTime","distance","clearHideTimer","clearTimeout","hideTimer","changeOpacity","tooltipElement","positionTooltip","pointOrCentroid","event","mouse","distanceX","distanceY","parseFloat","pointX","pointY","alignedRight","clampPosition","verticalPositioner","horizontalPositioner","show","getTooltipText","allPoints","match","params","list","rest","response","formatters","dataPoints","findOriginalDataPoint","seriesIndex","normalizeDataSet","dataSet","isLinear","normalizer","regression","numericDomain","lineY","isNaN"],"mappings":"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AEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,OAAO,WAAW;AAC7B,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA,wBAAwB;;AAExB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA,6BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS,GAAG,SAAS,GAAG,SAAS;AAC9C,UAAU;AACV;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA,eAAe,SAAS,GAAG,SAAS,GAAG,SAAS;AAChD,UAAU;AACV;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3pBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,MAAM;AACjB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA,GAAG;AACH,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,OAAO,WAAW;AAC7B,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA,wBAAwB;;AAExB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA,6BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA,8CAA8C,kBAAkB,EAAE;AAClE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,UAAU;AACV;AACA,aAAa,SAAS;AACtB,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA,YAAY,SAAS,GAAG,SAAS;AACjC;AACA;AACA;AACA,YAAY,SAAS,GAAG,SAAS;AACjC;AACA;AACA;AACA,UAAU,QAAQ,iBAAiB,GAAG,iBAAiB;AACvD;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA,wCAAwC,SAAS;AACjD;AACA;AACA,WAAW,SAAS,GAAG,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC16DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;;;ACrBA;;;;AACA;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","file":"contour.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"d3\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"d3\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Contour\"] = factory(require(\"d3\"));\n\telse\n\t\troot[\"Contour\"] = factory(root[\"d3\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c5c2eefce2637578f57a","import d3 from 'd3';\nexport { default as defaults } from 'lodash.defaults';\nexport { default as merge } from 'lodash.merge';\n\n// cheap trick to add decimals without hitting javascript issues\n// note that this fails for very large numbers\nvar multiplier = function (x) { var dig = decDigits(x); return dig === 0 ? 1 : Math.pow(10, dig); };\nvar maxMultiplier = function (a,b) { return Math.max(multiplier(a), multiplier(b)); };\nvar addFloat = function (a,b) { var factor = maxMultiplier(a,b), aa = Math.round(a * factor), bb = Math.round(b * factor); return (aa + bb) / factor; };\nvar subFloat = function (a,b) { var factor = maxMultiplier(a,b), aa = Math.round(a * factor), bb = Math.round(b * factor); return (aa - bb) / factor; };\nvar mulFloat = function (a,b) { var factor = maxMultiplier(a,b), aa = Math.round(a * factor), bb = Math.round(b * factor); return (aa * bb) / (factor*factor); };\nvar divFloat = function (a,b) { var factor = maxMultiplier(a,b), aa = Math.round(a * factor), bb = Math.round(b * factor); return aa / bb; };\n\nvar root = typeof window === 'object' ? window : global;\n\n// jshint -W079\nvar objectProto = Object.prototype;\nvar hasOwnProperty = objectProto.hasOwnProperty;\nvar toString = objectProto.toString;\n\n// jshint undef:false\nvar symToStringTag = typeof Symbol !== 'undefined' ? Symbol.toStringTag : undefined;\n\nfunction baseGetTag(value) {\n    if (value == null) {\n        return value === undefined ? '[object Undefined]' : '[object Null]';\n    }\n\n    if (!(symToStringTag && symToStringTag in Object(value))) {\n        return toString.call(value);\n    }\n\n    var isOwn = hasOwnProperty.call(value, symToStringTag);\n    var tag = value[symToStringTag];\n    var unmasked = false;\n\n    try {\n        value[symToStringTag] = undefined;\n        unmasked = true;\n    } catch (e) {}\n\n    var result = toString.call(value);\n    if (unmasked) {\n        if (isOwn) {\n        value[symToStringTag] = tag;\n        } else {\n        delete value[symToStringTag];\n        }\n    }\n    return result;\n    }\n\nexport const noop = function () {};\n\nexport const partial = function (fn /*args*/) {\n    // prevent leaking arguments object outside of the current scope\n    // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n    var args = new Array (arguments.length -1);\n    for (var i = 1; i < arguments.length; ++i) {\n        args[i-1] = arguments[i];\n    }\n\n    return function () {\n        var newArgs = new Array(arguments.length);\n        for (var i = 0; i < arguments.length; ++i) {\n            newArgs[i] = arguments[i];\n        }\n\n        var fullArgs = args.concat(newArgs);\n        return fn.apply(this, fullArgs);\n    };\n};\n\nexport const partialRight = function (fn /*, args */) {\n    // prevent leaking arguments object outside of the current scope\n    // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n    var args = new Array (arguments.length -1);\n    for (var i = 1; i < arguments.length; ++i) {\n        args[i-1] = arguments[i];\n    }\n\n    return function () {\n        var newArgs = new Array(arguments.length);\n        for (var i = 0; i < arguments.length; ++i) {\n            newArgs[i] = arguments[i];\n        }\n\n        var fullArgs = newArgs.concat(args);\n        return fn.apply(this, fullArgs);\n    };\n};\n\nexport const isObject = function  (value) {\n    var type = typeof value;\n    return value != null && (type === 'object' || type === 'function');\n};\n\nexport const isObjectLike = function (value) {\n    return typeof value === 'object' && value !== null;\n};\n\nexport const isDate = function (value) {\n    return isObjectLike(value) && baseGetTag(value) === '[object Date]';\n};\n\nexport const isNumber = function (value) {\n    return typeof value === 'number' ||\n        (isObjectLike(value) && baseGetTag(value) === '[object Number]');\n};\n\nexport const isString = function (value) {\n    return typeof value === 'string' || value instanceof String;\n};\n\nexport const range = function (start, end, step) {\n    if (arguments.length === 1) {\n        var t = start;\n        start = 0;\n        end = t;\n    }\n\n    step = step || (end >= start ? 1 : -1);\n    var index = -1;\n    var length = Math.max(Math.ceil((end - start) / (step || 1)), 0);\n    var result = new Array(length);\n\n    while (length--) {\n        result[++index] = start;\n        start += step;\n    }\n    return result;\n};\n\n// return the uniq elements in the array\n// we are implementing our own version since this algorithm seems\n// to be a lot faster than what lodash uses\nexport const uniq = function (array) {\n    if (array == null || !array.length) return [];\n    var cache = {}, result = [];\n    var len = array.length;\n\n    for (var j=0; j<len; j++) {\n        var el = array[j], key = el + '';\n\n        if (!cache.hasOwnProperty(key)) {\n            cache[key] = true;\n            result.push(el);\n        }\n    }\n\n    return result;\n};\n\nexport const flatten = function (array) {\n    if (!array || !array.length) {\n        return [];\n    }\n\n    return array.reduce(function (acc, cur) {\n        return acc.concat(Array.isArray(cur) ? flatten(cur) : cur);\n    }, []);\n};\n\nexport const compact = function (array) {\n    if (!array || !array.length) {\n        return [];\n    }\n\n    return array.reduce(function (acc, cur) {\n        if (cur) {\n            acc.push(cur);\n        }\n        return acc;\n    }, []);\n};\n\nexport const intersection = function (a, b) {\n    if (!a || !b) return [];\n    if (!a.length || !b.length) return [];\n\n    var map = b.reduce(function (acc, cur) {\n        acc[cur] = true;\n        return acc;\n    }, {});\n\n    return a.reduce(function (acc, cur) {\n        if (map[cur]) {\n            acc.push(cur);\n            delete map[cur];\n        }\n\n        return acc;\n    }, []);\n};\n\nexport const omit = function (src, props) {\n    if (!src || Object.prototype.toString.call(src) !== '[object Object]') {\n        return src;\n    }\n\n    var index = [].concat(props).reduce(function (acc, prop) {\n        return acc[prop] = true, acc;\n    }, {});\n\n    var res = {};\n    Object.keys(src).forEach(function (prop) {\n        if (!index[prop]) {\n            res[prop] = src[prop];\n        }\n    });\n\n    return res;\n};\n\n// the src is a function returns the function evaluated\n// otherwise returns src\nexport const getValue = function (src, deafult, ctx, args) {\n    args = Array.prototype.slice.call(arguments, 3);\n    return !src ? deafult : typeof src === 'function' ? src.apply(ctx, args) : src;\n};\n\nexport const seriesNameToClass = function (name) {\n    return name || '';\n};\n\nexport const materialize = function (object, ctx, options, curPath) {\n\n    var isDom = function (obj) { return obj && typeof obj === 'object' && obj.nodeType === 1 && typeof obj.style === 'object' && typeof obj.ownerDocument === 'object'; };\n    var skipList = (options || {}).skip || [];\n\n    var shouldSkip = function (path) {\n        return skipList.some(function (e) {\n            if (!e) return false;\n            if (typeof e === 'object' && e instanceof RegExp) {\n                return e.test(path);\n            }\n\n            return e.toString() === path;\n        });\n    };\n\n    if (object == null) {\n        return object;\n    } else if (Array.isArray(object)) {\n        return object;\n    } if (isDom(object)) {\n        return object;\n    } else if (typeof object === 'function') {\n        return getValue(object, null, ctx);\n    } else if (typeof object === 'object') {\n        return Object.keys(object).reduce(function (prev, key) {\n            var curKeyPath = curPath ? curPath + '.' + key : key;\n            var expectsParam = (typeof object[key] === 'function' && !!object[key].length);\n            var shouldMaterialize = !shouldSkip(curKeyPath) && !expectsParam;\n\n            if (expectsParam && !shouldSkip(curKeyPath)) {\n                console.warn('The funciton \"' + curKeyPath + '\" expects parameters and will not be resolved to a value before the render starts. It is assumed to be used inside a visualization. Add this function to the \"skip\" list to remove this message.');\n            }\n\n            if (shouldMaterialize) {\n                prev[key] = materialize(object[key], ctx, options, curKeyPath);\n            } else {\n                prev[key] = object[key];\n            }\n            return prev;\n        }, {});\n    } else {\n        return object;\n    }\n};\n\nexport const cleanNullValues = function () {\n    return function (series) {\n        return series.map(function (s) {\n            return Object.assign(s, {\n                data: s.data.reduce(function (acum, datum) {\n                    if (datum.y != null) {\n                        acum.push(datum);\n                    }\n\n                    return acum;\n                }, [])\n            });\n        });\n    };\n};\n\nexport const minMaxFilter = function (desiredLen) {\n    return function(data) {\n        if (data.length <= desiredLen)\n            return data;\n\n        var toReturn = [data[0]]; //always want the first\n        var index = 1;\n        var increment = Math.floor(data.length / desiredLen);\n\n        while (index < data.length - 1) {\n            var hasValidPt = false;\n            var maxPt;\n            var minPt;\n            var maxIndex = Math.min(index + increment, data.length);\n\n            for (var intermediateIndex = index; intermediateIndex < maxIndex; intermediateIndex++) {\n                var intermediatePt = data[index];\n                if (intermediatePt.y) {\n                    if (!hasValidPt || intermediatePt.y > maxPt.y)\n                        maxPt = intermediatePt;\n\n                    if (!hasValidPt || intermediatePt.y < minPt.y)\n                        minPt = intermediatePt;\n\n                    hasValidPt = true;\n                }\n            }\n\n            if (hasValidPt) {\n                if (minPt.x === maxPt.x) {\n                    toReturn.push(minPt);\n                } else if (minPt.x < maxPt.x) {\n                    toReturn.push(minPt);\n                    toReturn.push(maxPt);\n                } else if (minPt.x > maxPt.x) {\n                    toReturn.push(maxPt);\n                    toReturn.push(minPt);\n                }\n            }\n\n            index += Math.max(1, Math.min(data.length - 1 - index, increment));\n        }\n        toReturn.push(data[data.length - 1]); //always want the last\n        return toReturn;\n    };\n};\n\nexport const warn = function (msg) {\n    if (console && console.log)\n        console.log(msg);\n};\n\n\nexport const firstAndLast = function (ar) {\n    return [ar[0], ar[ar.length-1]];\n};\n\nexport const roundToNearest = function (number, multiple) {\n    return mulFloat(Math.ceil(divFloat(number, multiple)), multiple);\n};\n\nexport const roundTo = function (value, digits) {\n    return divFloat(Math.ceil(mulFloat(value, Math.pow(10, digits))), Math.pow(10, digits));\n};\n\nexport const trunc = function (value) {\n    return value - value % 1;\n};\n\n// only works for integers\nexport const digits = function (value) {\n    var str = Math.abs(value).toString();\n    var parts = str.split('e');\n    if (parts.length === 2) {\n        return Math.max(0, parts[1]) + 1;\n    }\n    parts = str.split('.');\n    return parts[0].length;\n};\n\nexport const decDigits = function (value) {\n    var str = Math.abs(value).toString();\n    var parts = str.split('.');\n    if (parts.length === 2) {\n        return parts[1].length;\n    }\n    parts = str.split('e');\n    if (parts.length === 2) {\n        return -Math.min(0, parts[1]);\n    }\n    return 0;\n};\n\nexport const log10 = function (value) {\n    return Math.log(value) / Math.LN10;\n};\n\nexport const clamp = function (val, l, h) {\n    return val > h ? h : val < l ? l : val;\n};\n\nexport const clampLeft = function (val, low) {\n    return val < low ? low : val;\n};\n\nexport const clampRight = function (val, high) {\n    return val > high ? high : val;\n};\n\nexport const degToRad = function (deg) {\n    return deg * Math.PI / 180;\n};\n\nexport const radToDeg = function (rad) {\n    return rad * 180 / Math.PI;\n};\n\nexport const rotatePoint = function (point, rad) {\n    return {\n        x: point.x * Math.cos(rad) - point.y * Math.sin(rad),\n        y: point.x * Math.sin(rad) + point.y * Math.cos(rad)\n    };\n};\n\nexport const translatePoint = function (point, delta) {\n    return {\n        x: point.x + delta.x,\n        y: point.y + delta.y\n    };\n};\n\nexport const linearRegression = function (dataSrc) {\n    var lr = {};\n    var n = dataSrc.length;\n    var sum_x = 0;\n    var sum_y = 0;\n    var sum_xy = 0;\n    var sum_xx = 0;\n    var sum_yy = 0;\n\n    for (var i = 0; i < n; i++) {\n        sum_x += dataSrc[i].x;\n        sum_y += dataSrc[i].y;\n        sum_xy += (dataSrc[i].x*dataSrc[i].y);\n        sum_xx += (dataSrc[i].x*dataSrc[i].x);\n        sum_yy += (dataSrc[i].y*dataSrc[i].y);\n    }\n\n    lr.slope = (n * sum_xy - sum_x * sum_y) / (n*sum_xx - sum_x * sum_x);\n    lr.intercept = (sum_y - lr.slope * sum_x)/n;\n    lr.r2 = Math.pow((n*sum_xy - sum_x*sum_y)/Math.sqrt((n*sum_xx-sum_x*sum_x)*(n*sum_yy-sum_y*sum_y)),2);\n\n    return lr;\n};\n\nexport const niceRound = function (val) {\n    // for now just round(10% above the value)\n    return Math.ceil(val + val * 0.10);\n\n    // var digits = Math.floor(Math.log(val) / Math.LN10) + 1;\n    // var fac = Math.pow(10, digits);\n\n    // if(val < 1) return roundToNearest(val, 1);\n\n    // if(val < fac / 2) return roundToNearest(val, fac / 2);\n\n    // return roundToNearest(val, fac);\n};\n\nexport const roundToNextTick = function (num) {\n    var abs = Math.abs(num);\n    var sign = abs === num ? 1 : -1;\n    var mag, step;\n    if (abs >= 1) {\n        mag = Math.floor(log10(abs));\n        step = mag <= 1 ? 2 : Math.pow(10, mag - 1);\n    } else {\n\n        var exp = abs.toExponential().replace(/\\.|e-\\d+$/g, '');\n        mag = exp.length;\n        step = mulFloat((mag === 1 ? 2 : 10), Math.pow(10, -mag));\n    }\n\n    var raw = roundToNearest(abs, step);\n    return sign * raw;\n};\n\nexport const niceMinMax = function (min, max, ticks, startAtZero) {\n    // return divFloat(Math.ceil(mulFloat(value, Math.pow(10, digits))), Math.pow(10, digits));\n\n    // check for errors... min cannot be > max\n    if (min > max) {\n        return {\n            min: min,\n            max: min,\n            tickValues: []\n        };\n    }\n\n    var swap = max < 0 && min < 0;\n    var origMax = max;\n    if (swap) {\n        max = -min;\n        min = -origMax;\n    }\n\n    // 2 ticks seem to work for min max and passing 5 ticks to d3\n    ticks = ticks == null ? 2 : Math.max(1, ticks);\n    // if ticks is an array, use that as order of preferred ticks; otherwise return a\n    // variable number of ticks in order to keep values round\n    if (isNumber(ticks)) {\n        // for 1, check [1]\n        // for 2, check [2, 1]\n        // for 3, check [3, 2]\n        // for 4, check [4, 5, 3]\n        // for 5, check [5, 6, 4, 3]\n        // for 6, check [6, 7, 5, 4]\n        // for 7, check [7, 8, 6, 5]\n        // for 8, check [8, 9, 10, 7, 6]\n        // for 9, check [9, 10, 11, 8, 7, 6]\n        // for 10, check [10, 11, 12, 9, 8, 7]\n        ticks = range(ticks, ticks * 1.28)\n            .concat(range(ticks - 1, (ticks - 1) * 0.72, -1));\n    }\n\n    if (startAtZero == null) {\n        startAtZero = min === 0 || origMax < 0;\n    }\n\n    var exponent;\n    if (min === max) {\n        if (max === 0) {\n            exponent = -1.0;\n        } else {\n            exponent = log10(Math.abs(max));\n        }\n    } else {\n        if(startAtZero) {\n            exponent = log10(Math.abs(max)) - 0.5;\n        } else {\n            exponent = log10(max-min) - 0.5;\n        }\n    }\n\n    var defaultRounding = -(exponent >= 0 ? trunc(exponent) : Math.floor(exponent));\n\n    // var defaultRounding = -trunc((min === max ?\n    //     max === 0 ? -1.0 : log10(Math.abs(max)) :\n    //     startAtZero ? log10(Math.abs(max)) : log10(max-min)\n    // ) - 0.5);\n\n    var excelRoundUp = function (value, up) {\n        up = up != null ? up : 0;\n        var roundFn = function (v) { return v >= 0 ? Math.ceil(v) : Math.floor(v); };\n        return divFloat(roundFn(value * Math.pow(10, up)), Math.pow(10, up));\n    };\n\n    var nice = function (ticks) {\n        var negativeMinAmount = excelRoundUp(Math.max(0, -min) / ticks, defaultRounding - 1);\n\n        var intermediateMax = min === max ? max === 0 ? 1 : excelRoundUp(max + negativeMinAmount, defaultRounding)\n            : excelRoundUp(max + negativeMinAmount,defaultRounding);\n\n        var iMin = 0;\n        if (!startAtZero && min !== max) {\n            var inter = min + negativeMinAmount;\n            var dig = digits(inter);\n            var roundToDigits;\n            if (inter > 0) {\n                roundToDigits =  -Math.floor(log10(inter));\n            } else {\n                roundToDigits = (Math.max(1, Math.abs(dig-2)));\n            }\n\n            iMin = -roundTo(-inter, roundToDigits);\n            iMin = iMin === 0 ? 0 : iMin;\n            // old version:\n            // iMin = excelRound(min + negativeMinAmount, defaultRounding + (min < 0 ? 1 : 0))\n        }\n\n        var intermediateMin = iMin;\n\n        var interval = excelRoundUp(divFloat(subFloat(intermediateMax, intermediateMin),ticks), defaultRounding);\n        var finalMin = subFloat(intermediateMin, negativeMinAmount);\n        var finalMax = addFloat(finalMin, mulFloat(ticks, interval));\n        var ticksValues = [finalMin];\n        var prevTick = finalMin;\n\n        for (var j=1; j < ticks; j++) {\n            var newTick = addFloat(prevTick, interval);\n\n            ticksValues.push(newTick);\n            prevTick = newTick;\n        }\n\n        // total ticks are going to be either ticks or ticks + 1\n        if (Math.abs(prevTick - finalMax) > 1e-10) {\n            ticksValues.push(finalMax);\n        }\n\n        return {\n            min: swap ? -finalMax : finalMin,\n            max: swap ? -finalMin : finalMax,\n            tickValues: ticksValues.map(function (a) { return swap ? -a : a; })\n        };\n    };\n\n    var defaultMinMax;\n    var minMax;\n\n    var foundSomethingRound = ticks.some(function (ticks) {\n        minMax = nice(ticks);\n        defaultMinMax = defaultMinMax || minMax;\n        return minMax.tickValues.every(function (tick) {\n            return tick === Math.round(tick);\n        });\n    });\n    return foundSomethingRound ? minMax : defaultMinMax;\n};\n\nexport const extractScaleDomain = function (domain, min, max, ticks, zeroAnchor) {\n    var dataMin = min != null ? min : Math.min.apply(null, domain);\n    var dataMax = max != null ? max : Math.max.apply(null, domain);\n    ticks = ticks == null ? 5 : ticks;\n\n    var niced = niceMinMax(dataMin, dataMax, ticks, zeroAnchor);\n\n    // return [niced.min, niced.max];\n\n    // // we want null || undefined for all this comparasons\n    // // that == null gives us\n    if (min == null && max == null) {\n        return [niced.min, niced.max];\n    }\n\n    if (min == null) {\n        return [Math.min(niced.min, max), max];\n    }\n\n    if (max == null) {\n        return [min, Math.max(min, niced.max)];\n    }\n\n    return [min, max];\n};\n\nexport const niceTicks = function (min, max, ticks, zeroAnchor, domain) {\n    ticks = ticks == null ? 5 : ticks;\n    min = min != null ? min : zeroAnchor ? Math.min(0, domain[0]) : domain[0];\n    max = max != null ? max : domain[1];\n\n    var niced = niceMinMax(min, max, ticks, zeroAnchor);\n    var tickValues = niced.tickValues;\n\n    // ensure that y-axis endpoints are labelled\n    if (min !== domain[0]) {\n        tickValues.push(min);\n        tickValues = tickValues.filter(function(tick) {\n            return tick >= min;\n        });\n    }\n\n    if (max !== domain[1]) {\n        tickValues.push(max);\n        tickValues = tickValues.filter(function(tick) {\n            return tick <= max;\n        });\n    }\n\n    tickValues.sort(function (a, b) { return a - b; });\n\n    return uniq(tickValues);\n};\n\nexport const calcXLabelsWidths = function (ticks) {\n    var padding = 8;\n    var compact = function (e) { return !!e; };\n    return ticks.filter(compact).map(String).map(function (d) {\n        if (!d) {\n            return padding * 2;\n        }\n        return textBounds(d, '.x.axis text').width + (padding * 2);\n    });\n};\n\nexport const doXLabelsFit = function (ticks, labelFormatter, options) {\n    var tickWidths = calcXLabelsWidths(ticks.map(labelFormatter));\n    var availableWidthForLabels = (options.chart.plotWidth + tickWidths[0] / 2 + tickWidths[ticks.length - 1] / 2);\n    var axisLabelsWidth = sum(tickWidths);\n    return axisLabelsWidth <= availableWidthForLabels;\n};\n\nexport const getTicksThatFit = function (ticks, labelFormatter, options) {\n    // reduce the number of ticks incrementally by taking every 2nd, then every 3th, and so on\n    // until we find a set of ticks that fits the available space\n    function reduceTicksByMod() {\n        var tickWidths = calcXLabelsWidths(ticks.map(labelFormatter));\n        var axisLabelsWidth = sum(tickWidths);\n        var availableWidthForLabels = (options.chart.plotWidth + tickWidths[0] / 2 + tickWidths[ticks.length - 1] / 2);\n        var iter = 1;\n        var filterMod = function (d, i) { return (i % iter) === 0; };\n        var finalTicks = ticks;\n        while(axisLabelsWidth > availableWidthForLabels && finalTicks.length !== 0) {\n            iter++;\n            finalTicks = ticks.filter(filterMod);\n            axisLabelsWidth = sum(calcXLabelsWidths(finalTicks.map(labelFormatter)));\n        }\n\n        return finalTicks;\n    }\n\n    // possible alternative way using d3 ticks to calculate the number\n    // that fits\n    // function reduceTicksByD3() {\n    //     // while(axisLabelsWidth > availableWidthForLabels && ticks.length !== 1) {\n    //     //     ticks = axis.scale().ticks(Math.floor(--numAutoTicks));\n    //     //     axisLabelsWidth = sum(calcLabelsWidths(ticks.map(formatLabel)));\n    //     // }\n\n    //     // axis.ticks(ticks.length);\n    // }\n\n    return reduceTicksByMod();\n};\n\n// measure text inside a Contour chart container\nexport const textBounds = function (text, css) {\n    var body = document.getElementsByTagName('body')[0];\n    var wrapper = document.createElement('span');\n    var dummy = document.createElement('span');\n    wrapper.className = 'contour-chart';\n    dummy.style.position = 'absolute';\n    dummy.style.width = 'auto';\n    dummy.style.height = 'auto';\n    dummy.style.visibility = 'hidden';\n    dummy.style.lineHeight = '100%';\n    dummy.style.whiteSpace = 'nowrap';\n\n    dummy.innerHTML = text;\n    dummy.className = css.replace(/\\./g, ' ');\n    wrapper.appendChild(dummy);\n    body.appendChild(wrapper);\n    var res = { width: dummy.clientWidth, height: dummy.clientHeight };\n    wrapper.removeChild(dummy);\n    body.removeChild(wrapper);\n    return res;\n};\n\nexport const dateDiff = function(d1, d2) {\n    var diff = d1.getTime() - d2.getTime();\n    return diff / (24*60*60*1000);\n};\n\n// concatenate and sort two arrays to the resulting array\n// is sorted ie. merge [2,4,6] and [1,3,5] = [1,2,3,4,5,6]\nexport const mergeArrays = function (array1, array2) {\n    if(typeof(array1) === 'number') array1 = [array1];\n    if(typeof(array2) === 'number') array2 = [array2];\n    if(!array1 || !array1.length) return array2;\n    if(!array2 || !array2.length) return array1;\n\n    return [].concat(array1, array2).sort(function (a,b) { return a-b; });\n};\n\nexport const isCorrectDataFormat = function (dataArray) {\n    return Array.isArray(dataArray) && dataArray.every(function (p) { return p.hasOwnProperty('x') && p.hasOwnProperty('y'); });\n};\n\nexport const isCorrectSeriesFormat = function (data) {\n    var isArrayOfObjects = Array.isArray(data) && isObject(data[0]);\n    if (!isArrayOfObjects) {\n        return false;\n    }\n\n    var hasDataArrayPerSeries = data.every(function (d) { return d.hasOwnProperty('data'); });\n    var hasSeriesNamePerSeries = data.every(function (d) { return d.hasOwnProperty('name'); });\n    var datumInCorrectFormat = isArrayOfObjects && hasDataArrayPerSeries && isCorrectDataFormat(data[0].data);\n\n    return isArrayOfObjects && hasDataArrayPerSeries && hasSeriesNamePerSeries && datumInCorrectFormat;\n};\n\nexport const normalizeSeries = function (data, categories) {\n    var hasCategories = !!(categories && Array.isArray(categories));\n    function sortFn(a, b) { return a.x - b.x; }\n    function normal(set, name) {\n        var d = {\n            name: name,\n            data: set.map(function (d, i) {\n                var hasX = d != null && d.hasOwnProperty('x');\n                var val = function (v) { return v != null ? v : null; };\n                // make sure we return a valid category and not cast nulls as string\n                var categoryAt = function (i) { return !hasCategories ? i : categories[i] == null ? null : categories[i] + ''; };\n                return hasX ? Object.assign(d, { x: d.x, y: val(d.y) }) : { x: categoryAt(i), y: val(d) };\n            })\n        };\n\n        if (!hasCategories) {\n            d.data.sort(sortFn);\n        }\n\n        return d;\n    }\n\n    var correctDataFormat = isCorrectDataFormat(data);\n    var correctSeriesFormat = isCorrectSeriesFormat(data);\n\n    // do not make a new copy, if the data is already in the correct format!\n    if (correctSeriesFormat) {\n        return data;\n    }\n\n    // do the next best thing if the data is a set of points in the correct format\n    if (correctDataFormat) {\n        if (!hasCategories) data.sort(sortFn);\n        return [{ name: 'series 1', data: data }];\n    }\n\n    // for the rest of the cases we need to normalize to the full format of the series\n    if (Array.isArray(data)) {\n        if ((isObject(data[0]) && data[0].hasOwnProperty('data')) || Array.isArray(data[0])) {\n            // this would be the shape for multiple series\n            return data.map(function (d, i) { return normal(d.data ? d.data : d, d.name ? d.name : 'series ' + (i+1)); });\n        } else {\n            // this is just the shape [1,2,3,4] or [{x:0, y:1}, { x: 1, y:2}...]\n            return [normal(data, 'series 1')];\n        }\n    }\n\n    // nothing to do to the data if it's not in a supported format\n    return data;\n};\n\n// returns a function to format the data into a 'stacked' d3 layout\n// passing in a series data will add a y0 to each data point\n// where the point should start relative to the reset of the series points\n// at that x value\nexport const stackLayout = function () {\n    var stack = d3.layout\n        .stack()\n        .values(function (d) { return d.data; });\n    // prepare satck to handle different x values with different lengths\n    var outFn = function() {\n        var y0s = {};\n        return function (d, y0, y) {\n            d.y0 = y0s[d.x] != null ? y0s[d.x] : 0;\n            d.y = y;\n            y0s[d.x] = (y0s[d.x] || 0) + y;\n        };\n    };\n\n    stack.out(outFn());\n\n    return stack;\n};\n\nexport const sum = function (array) {\n    return array.reduce(function (acc, cur) { return acc += cur; }, 0);\n};\n\nexport const maxTickValues = function (max, domain) {\n    var len = domain.length;\n    var values = [];\n\n    if (max >= len) return domain.slice();\n\n    // return d3.scale.linear().domain(domain).ticks(max);\n\n    var tickInteval = Math.ceil((len) / (max));\n    var cur = 0;\n    while (cur < len) {\n        values.push(domain[cur]);\n        cur += tickInteval;\n    }\n\n    return values;\n};\n\nexport const isSupportedDataFormat = function (data) {\n    // this covers all supported formats so far:\n    // [ {data: [...] }, ... ]\n    // [ [...], [...] ]\n    return Array.isArray(data) &&\n        (isObject(data[0]) && data[0].hasOwnProperty('data') && Array.isArray(data[0].data)) ||\n        Array.isArray(data[0]);\n};\n\nexport const selectDom = function (selector) {\n    return d3.select(selector)[0][0];\n};\n\nexport const getStyle = function (el, style) {\n    if(!el) return undefined;\n    var elem = typeof el === 'string' ? this.selectDom(el) : el;\n    // we need a good way to check if the element is detached or not\n    var styles = elem.offsetParent ? elem.ownerDocument.defaultView.getComputedStyle(elem, null) : elem.style;\n\n    return style ? styles[style] : styles;\n};\n\nexport const getCentroid = function (element) {\n    var getOffsetParent = function () {\n        if (element.offsetParent) {\n            return element.offsetParent;\n        }\n\n        // we we don't have an offsetParent, we may be in firefox\n        // let's just assume that the offset parent is the svg element\n        var t = element;\n        while(t && t.tagName !== 'svg') {\n            t = t.parentNode;\n        }\n\n        return t;\n    };\n\n    var parentBox = getOffsetParent().getBoundingClientRect();\n    var bbox = element.getBoundingClientRect();\n\n    return [bbox.left - parentBox.left + bbox.width/2, bbox.top - parentBox.top + bbox.height/2];\n};\n\nexport const warning = function (msg) {\n    if(console && console.log) {\n        console.log('WARNING: ' + msg);\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/contour-utils.js","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"d3\"\n// module id = 1\n// module chunks = 0 1","import d3 from 'd3';\nimport VisualizationContainer from '../utils/visualization-container';\nimport * as nwt from '../utils/contour-utils';\nimport { xScaleFactory, yScaleFactory, addAxis, axes } from './axis/axis-scale-factory';\n\nvar defaults = {\n    chart: {\n        animations: {\n            enable: true,\n            // duration of the animation in ms\n            duration: 400,\n        },\n        // by default take the size of the parent container\n        defaultWidth: 400,\n        // height = width * ratio\n        defaultAspect: 1 / 1.61803398875,\n        // calculated at render time based on the options & container\n        width: undefined,\n        // if defined, height takes precedence over aspect\n        height: undefined,\n        // margin between the container and the chart (ie labels or axis title)\n        margin: {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0\n        },\n        // padding between the chart area and the inner plot area */\n        padding: {\n            top: null,\n            right: null,\n            bottom: null,\n            left: null\n        },\n        internalPadding: {\n            bottom: 0,\n            left: 0\n        },\n        // automatically false by default anyway; adding here to help generate docs\n        rotatedFrame: false,\n        // width in pixels of the plot area (area inside the axis if any). This gets calculated on render\n        plotWidth: undefined,\n        // height in pixels of the plot area (area inside the axis if any). This gets calculated on render\n        plotHeight: undefined,\n        // top edge in pixels (from the edge of the svg) of the plot area (area inside the axis if any). This gets calculated on render\n        plotTop: undefined,\n        // left edge in pixels (from the edge of the svg) of the plot area (area inside the axis if any). This gets calculated on render\n        plotLeft: undefined,\n    },\n\n    xAxis: {\n    },\n\n    yAxis: {\n    },\n\n    tooltip: {\n    }\n};\n\n/**\n* Creates a Contour instance, based on the core Contour visualizations object. This instance can contain a set of related visualizations.\n*\n*   * Pass the constructor any configuration options in the *options* parameter. Make sure the `el` option contains the selector of the container in which the Contour instance will be rendered.\n*   * Set the frame for this Contour instance (e.g. `.cartesian()`).\n*   * Add one or more specific visualizations to this Contour instance (e.g. `.scatter()`, `.trend-line()`). Pass each visualization constructor the data it displays. Pass configuration options if desired.\n*   * Invoke an action for this Contour instance (e.g. `.render()`).\n*\n* ### Example:\n*\n*     new Contour({el: 'myChart'})\n*       .cartesian()\n*       .line([1,3,2,5])\n*       .render()\n*\n*\n* @class Contour()\n* @param {object} options The global configuration options object\n*\n*/\nexport default function Contour (options) {\n    this.init(options);\n\n    return this;\n}\nContour.version = VERSION;\nContour.xScaleFactory = xScaleFactory;\nContour.yScaleFactory = yScaleFactory;\nContour.utils = nwt;\nContour.addAxis = addAxis;\nContour.axes = axes;\n\n/**\n* Adds a new kind of visualization to the core Contour object.\n* The *renderer* function is called when you add this visualization to instances of Contour.\n* See a sample in the [Contour Gallery](http://forio.com/contour/gallery.html#/chart/pie/pie-gauge).\n*\n* ### Example:\n*\n*     Contour.export(\"exampleVisualization\", function(data, layer) {\n*           //function body to create exampleVisualization\n*           //for example using SVG and/or D3\n*     });\n*\n*     //to include the visualization into a specific Contour instance\n*     new Contour(options)\n*           .exampleVisualization(data)\n*           .render()\n*\n* @param {String} ctorName Name of the visualization, used as a constructor name.\n* @param {Function} renderer Function called when this visualization is added to a Contour instance. This function receives the data that is passed in to the constructor.\n*/\nContour.export = function (ctorName, renderer) {\n\n    if (typeof renderer !== 'function') throw new Error('Invalid render function for ' + ctorName + ' visualization');\n\n    function sortSeries(data) {\n        if(!data || !data.length) return [];\n\n        if(data[0].data) {\n            data.forEach(sortSeries);\n        }\n\n        var shouldSort = nwt.isObject(data[0]) && nwt.isDate(data[0].x);\n        var sortFunc = function (a, b) { return a.x - b.x; };\n        if(shouldSort) {\n            data.sort(sortFunc);\n        }\n\n        return data;\n    }\n\n    Contour.prototype[ctorName] = function (data, options) {\n        var vizOpt = {};\n        vizOpt[ctorName] = options || {};\n        var vis;\n        var ownData = true;\n\n        if (!data) {\n            data = this.lastData || [];\n            ownData = false;\n        }\n\n        sortSeries(data);\n        vis = new VisualizationContainer(data, vizOpt, ctorName, renderer, this);\n        vis.ownData = ownData;\n        this._visualizations.push(vis);\n\n        // lastData is used to pass the last specified dataset\n        // to the next visualiaztion in the chain wihtout\n        // the need to specify it again.... this allows you to do\n        // new Contour().cartesian().line(dataset).lengend().tooltip().render()\n        // and legend and tooltip will recieve dataset\n        this.lastData = data;\n\n        return this;\n    };\n\n    /* expose the renderer function so it can be reused\n    * by other visualizations though the constructor function\n    * ie. Contour.export('customLineChart', function (data, layer, options) {\n    *       // call the line chart directly\n    *       return this.line.renderer(data, layer, options);\n    *    });\n    */\n    Contour.prototype[ctorName].renderer = renderer;\n};\n\n\n/**\n* Exposes functionality to the core Contour object.\n* Use this to add *functionality* that will be available for any visualizations.\n*\n* ###Example:\n*\n*     Contour.expose('example', function ctor(params) {\n*         // params are the parameters passed into the constructor function\n*         return {\n*             // the init function, if provided, is called automatically upon instantiation of the functionality\n*             // the options parameter has the global Contour options object\n*             init: function (options) { ... },\n*\n*             // when included in the instance, the function `.myFunction` is available in the visualizations\n*             myFunction: function(data) { .... }\n*         };\n*     });\n*\n*     Contour.export('visualizationThatUsesMyFunction', function(data, layer) {\n*           //function body including call to this.myFunction(data)\n*     });\n*\n*     // to include the functionality into a specific instance\n*     new Contour(options)\n*           .example({ text: 'someText' })\n*           .visualizationThatUsesMyFunction()\n*           .render()\n*\n\n*/\nContour.expose = function (ctorName, functionalityConstructor) {\n    var ctor = function () {\n        var functionality = functionalityConstructor;\n        if (typeof functionalityConstructor === 'function') {\n            functionality = Object.create(functionalityConstructor);\n            functionality = functionalityConstructor.apply(functionality, arguments);\n        }\n\n        // extend the --instance-- we don't want all charts to be overriden...\n        Object.assign(this, nwt.omit(functionality, 'init'));\n\n        if(functionality.init) {\n            functionality.init.call(this, this.originalOptions);\n        }\n\n        // keep a list of the included functionality into this instance\n        // so we can match and check dependencies\n        this._exposed.push(ctorName);\n\n        return this;\n    };\n\n    Contour.prototype[ctorName] = ctor;\n\n    return this;\n};\n\nContour.prototype = Object.assign(Contour.prototype, {\n    _visualizations: undefined,\n\n    _extraOptions: undefined,\n\n    _exposed: undefined,\n\n    // Initializes the instance of Contour\n    init: function (options) {\n        // for now, just  store this options here...\n        // the final set of options will be composed before rendering\n        // after all components/visualizations have been added\n        this.originalOptions = options || {};\n\n        this._extraOptions = [];\n        this._visualizations = [];\n        this._exposed = [];\n\n        return this;\n    },\n\n    calculateWidth: function () {\n\n        // assume all in pixel units and border-box box-sizing\n        var outerWidth = parseInt(nwt.getStyle(this.options.el, 'width') || 0, 10);\n        var paddingLeft = parseInt(nwt.getStyle(this.options.el, 'padding-left') || 0, 10);\n        var paddingRight = parseInt(nwt.getStyle(this.options.el, 'padding-right') || 0, 10);\n\n        var width = outerWidth - paddingRight - paddingLeft;\n\n        return this.options.el ? (width || this.options.chart.defaultWidth) : this.options.chart.defaultWidth;\n    },\n\n    calculateHeight: function () {\n        // assume all in pixel units and border-box box-sizing\n        var outerHeight = parseInt(nwt.getStyle(this.options.el, 'height') || 0, 10);\n        var paddingTop = parseInt(nwt.getStyle(this.options.el, 'padding-top') || 0, 10);\n        var paddingBottom = parseInt(nwt.getStyle(this.options.el, 'padding-bottom') || 0, 10);\n        var height = outerHeight - paddingTop - paddingBottom;\n\n        var containerHeight = this.options.el ? height : undefined;\n        var calcWidth = this.options.chart.width;\n        var ratio = this.options.chart.aspect || this.options.chart.defaultAspect;\n\n        return !!containerHeight && containerHeight > 1 ?  containerHeight : Math.round(calcWidth * ratio);\n    },\n\n    calcMetrics: function () {\n        var options = this.options;\n\n        this.adjustPadding();\n\n        this.adjustTitlePadding();\n\n        options.chart.width = options.chart.width || this.calculateWidth();\n        options.chart.height = options.chart.height || this.calculateHeight();\n\n        this.options = nwt.merge(options, {\n            chart: {\n                plotWidth: options.chart.width - options.chart.margin.left - options.chart.margin.right - options.chart.internalPadding.left - options.chart.padding.right,\n                plotHeight: options.chart.height - options.chart.margin.top - options.chart.margin.bottom - options.chart.padding.top - options.chart.internalPadding.bottom,\n                plotLeft: options.chart.margin.left + options.chart.internalPadding.left,\n                plotTop: options.chart.margin.top + options.chart.padding.top\n            }\n        });\n\n        if (this.options.chart.plotWidth <= 0 || this.options.chart.plotHeight <= 0) {\n            console.warn('The chart has no space to render. Either the width/height is zero or you have too much padding\\nWidth: ' + options.chart.width +\n                '\\nHeight: ' + options.chart.height +\n                '\\npadding-left: ' + options.chart.padding.left +\n                '\\npadding-right: ' + options.chart.padding.right +\n                '\\npadding-top: ' + options.chart.padding.top +\n                '\\npadding-bottom: ' + options.chart.padding.bottom);\n\n            this.options.chart.plotWidth = this.options.chart.plotWidth < 0 ? 0 : this.options.chart.plotWidth;\n            this.options.chart.plotHeight = this.options.chart.plotHeight < 0 ? 0 : this.options.chart.plotHeight;\n        }\n    },\n\n    adjustPadding: function () {\n        // overriden by components that need to adjust padding\n        return this;\n    },\n\n    adjustTitlePadding: function () {\n        // overriden by components that need to adjust padding\n        return this;\n    },\n\n    composeOptions: function () {\n        var allDefaults = nwt.merge({}, defaults);\n        var mergeExtraOptions = function (opt) { nwt.merge(allDefaults, opt); };\n        var mergeDefaults = function (vis) { nwt.merge(allDefaults, vis.renderer.defaults); };\n\n        this._extraOptions.forEach(mergeExtraOptions);\n        this._visualizations.forEach(mergeDefaults);\n\n        var forceSkip = ['skip', /formatter/, 'el', /preprocess/, 'column.style', 'bar.style', 'pie.style', /barClass/, /sliceClass/, /sliceClass/, /columnClass/];\n\n        // compose the final list of options right before start rendering\n        var opt = nwt.merge({}, allDefaults, this.originalOptions);\n        this.options = nwt.materialize(opt, this, { skip: forceSkip.concat(this.originalOptions.skip) });\n    },\n\n    /**\n     * Updates the contour configuration for the instance.\n     * The passed options are merged with the current options in the object\n     *\n     * ### Example:\n     *\n     *     var chart = new Contour({\n     *         el: '.myChart'\n     *     })\n     *     .cartesian()\n     *     .line([1,2,3,4,5])\n     *     .render();\n     *\n     *     chart.updateOptions({ yAxis: { max: 100 }}).render();\n     *\n     *\n     * @param {object} options - Options object to be merged with current options.\n     * @function updateOptions\n     */\n    updateOptions: function (options) {\n        this.originalOptions = nwt.merge({}, this.originalOptions, options);\n        return this;\n    },\n\n    baseRender: function () {\n        this.plotArea();\n\n        return this;\n    },\n\n    /**\n    * Renders this Contour instance and all its visualizations into the DOM.\n    *\n    * ### Example:\n    *\n    *     new Contour({ el:'.myChart' })\n    *           .pie([1,2,3])\n    *           .render();\n    *\n    * @function render\n    *\n    */\n    render: function () {\n        this.composeOptions();\n\n        this.calcMetrics();\n\n        this.baseRender();\n\n        this.renderVisualizations();\n\n        return this;\n    },\n\n    /**\n    * Clears this Contour instance and all its visualizations of any size information, so that on the next call to `render()` the instance is re-measured.\n    *\n    * The function takes two optional arguments `width` and `height`. If given a specific width/height the chart uses that sizing information on the next render.\n    *\n    * ### Example:\n    *\n    *     var contour = new Contour({ el:'.myChart' })\n    *           .pie([1,2,3])\n    *           .render();\n    *\n    *     var onResize = function(e) {\n    *          contour.resize().render();\n    *     }\n    *\n    *     window.addEventListener('resize', onResize);\n    *\n    * @function resize\n    * @param {Number} width (optional) The new width for the visualizations. If left blank, the width will be calcuated from options.el's parent.\n    * @param {Number} height (optional) The new height for the visualizations. If left blank, the height will be calcuated from options.el's parent.\n    */\n    resize: function(width, height) {\n\n        if (this.container)\n            this.container.style('height', 0);\n\n        delete this.options.chart.width;\n        delete this.options.chart.height;\n        delete this.options.chart.plotWidth;\n        delete this.options.chart.plotHeight;\n        delete this.options.chart.plotLeft;\n        delete this.options.chart.plotTop;\n\n        if (width)\n            this.options.chart.width = width;\n\n        if (height)\n            this.options.chart.height = height;\n        return this;\n    },\n\n    update: function () {\n        this.calcMetrics();\n        return this;\n    },\n\n    plotArea: function () {\n\n        var chartOpt = this.options.chart;\n\n        this.container = d3.select(this.options.el);\n        // fix a flicker im web-kit when animating opacity and the chart is in an iframe\n        this.container.attr('style', '-webkit-backface-visibility: hidden; position: relative');\n\n        if(!this.svg) {\n            this.svg = this.container\n                .append('svg')\n                .attr('viewBox', '0 0 ' + chartOpt.width + ' ' + chartOpt.height)\n                .attr('preserveAspectRatio', 'xMinYMin')\n                .attr('class', 'contour-chart')\n                .attr('height', chartOpt.height)\n                .append('g')\n                    .attr('transform', 'translate(' + chartOpt.margin.left + ',' + chartOpt.margin.top + ')');\n        } else {\n            this.svg\n                .attr('transform', 'translate(' + chartOpt.margin.left + ',' + chartOpt.margin.top + ')');\n\n            d3.select(this.svg.node().parentNode)\n                .attr('viewBox', '0 0 ' + chartOpt.width + ' ' + chartOpt.height)\n                .attr('height', chartOpt.height);\n        }\n\n        return this;\n    },\n\n    createVisualizationLayer: function (vis, id) {\n        return this.svg.append('g')\n            .attr('vis-id', id)\n            .attr('vis-type', vis.type);\n    },\n\n    renderVisualizations: function () {\n\n        this._visualizations.forEach(function (visualization, index) {\n            var id = index + 1;\n            var layer = visualization.layer || this.createVisualizationLayer(visualization, id);\n            var opt = nwt.merge({}, this.options, visualization.options);\n\n            layer.attr('transform', 'translate(' + this.options.chart.internalPadding.left + ',' + (this.options.chart.padding.top || 0) + ')');\n            visualization.layer = layer;\n            visualization.parent = this;\n            visualization.normalizeData(opt);\n            visualization.render(layer, opt, this);\n        }.bind(this));\n\n        return this;\n    },\n\n    /**\n    * Assert that all the dependencies are in the Contour instance.\n    * For example, if a visualization requires Cartesian to be included in the instance,\n    * it could call this.checkDependencies('Cartesian'), and the framework would\n    * give a helpful error message if Cartesian was not included.\n    *\n    * @function checkDependencies\n    * @param {string|array} list of dependencies (as specified in the instance constructor)\n    *\n    */\n    checkDependencies: function (listOfDependencies) {\n        listOfDependencies = Array.isArray(listOfDependencies) ? listOfDependencies : [listOfDependencies];\n        var _this = this;\n        var missing = [];\n\n        listOfDependencies.forEach(function (dep) {\n            if (_this._exposed.indexOf(dep) === -1) {\n                missing.push(dep);\n            }\n        });\n\n        if (missing.length) {\n            throw new Error('ERROR: Missing depeendencies in the Contour instance (ej. new Contour({}).cartesian())\\n The missing dependencies are: [' + missing.join(', ') + ']\\nGo to http://forio.com/contour/documentation.html#key_concepts for more information');\n        }\n    },\n\n    ensureDefaults: function (options, renderer) {\n        if (nwt.isString(renderer)) {\n            renderer = this[renderer].renderer;\n        }\n\n        if (renderer.defaults) {\n            var defaults = renderer.defaults;\n            options = nwt.defaults(options || {}, defaults);\n            this.options = nwt.defaults(this.options, defaults);\n        }\n    },\n\n    /**\n    * Sets the same data into all visualizations for a Contour instance. Useful for creating interactive\n    * visualizations: call after getting the additional data from the user.\n    *\n    * ###Example:\n    *\n    *     var data = [1,2,3,4,5];\n    *     var chart = new Contour({ el:'.myChart' })\n    *           .cartesian()\n    *           .scatter(data)\n    *           .trendLine(data);\n    *\n    *     data.push(10);\n    *     chart.setData(data)\n    *           .render();\n    *\n    * @function setData\n    *\n    */\n    setData: function (data) {\n        this._visualizations.forEach(function (v) {\n            v.setData(data);\n        });\n\n        return this;\n    },\n\n    /**\n    * Returns a VisualizationContainer object for the visualization at a given index (0-based).\n    *\n    * ###Example:\n    *\n    *     var chart = new Contour({ el:'.myChart' })\n    *           .pie([1,2,3])\n    *           .render();\n    *\n    *     var myPie = chart.select(0);\n    *\n    *     // do something with the visualization, for example updating its data set\n    *     myPie.setData([6,7,8,9]).render();\n    *\n    * @function select\n    *\n    */\n    select: function (index) {\n        return this._visualizations[index];\n    },\n\n    // place holder function for now\n    data: function () {\n\n    },\n\n    dataNormalizer: nwt.normalizeSeries,\n\n    isSupportedDataFormat: nwt.isSupportedDataFormat\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/core/contour.js","import d3 from 'd3';\nimport * as nwt from '../../utils/contour-utils';\n\nfunction YAxis(data, options, domain) {\n    this.data = data;\n    this.options = options || {\n        yAxis: {\n            scaling: { options: {} },\n            labels: { format: 's' }\n        }\n    };\n    this.domain = domain || [0, 1];\n}\n\nfunction setRange(scale, options) {\n    var rangeSize = options.chart.rotatedFrame ? options.chart.plotWidth : options.chart.plotHeight;\n    var range = options.chart.rotatedFrame ? [0, rangeSize] : [rangeSize, 0];\n    return scale.range(range);\n}\n\nYAxis.prototype = {\n    axis: function () {\n        var options = this.options.yAxis;\n        var domain = this.domain;\n        var zeroAnchor = (options.zeroAnchor != null) ? options.zeroAnchor : options.scaling.options.zeroAnchor;\n        var tickValues = options.tickValues || nwt.niceTicks(options.min, options.max, options.ticks, zeroAnchor, domain);\n        var numTicks = this.numTicks(domain, options.min, options.max);\n        var format = options.labels.formatter || d3.format(options.labels.format);\n\n        return d3.svg.axis()\n            .scale(this._scale)\n            .tickFormat(format)\n            .tickSize(options.innerTickSize, options.outerTickSize)\n            .tickPadding(options.tickPadding)\n            .ticks(numTicks)\n            .tickValues(tickValues);\n    },\n\n    scale: function (domain) {\n        if(!this._scale) {\n            this._scale = d3.scale.linear();\n            this.setDomain(domain);\n        }\n\n        setRange(this._scale, this.options);\n        return this._scale;\n    },\n\n    setDomain: function (domain) {\n        this._scale.domain(domain);\n        this._niceTheScale();\n        return this._scale;\n    },\n\n    update: function (domain, dataSrc) {\n        this.data = dataSrc;\n        this.setDomain(domain);\n        this.scale();\n    },\n\n    numTicks: function () {\n        return this.options.yAxis.ticks != null ? this.options.yAxis.ticks : undefined;\n    },\n\n    _niceTheScale: function () {\n        // nothing to do for the regular y-axis\n    }\n};\n\nexport default YAxis;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/core/axis/y-axis.js","import * as nwt from '../../utils/contour-utils';\nimport YAxis from  './y-axis';\nimport CenteredYAxis from './centered-y-axis';\nimport LinearScale from './linear-scale-axis';\nimport LogYAxis from './log-y-axis';\nimport OrdinalScale from './ordinal-scale-axis';\nimport SmartYAxis from './smart-y-axis';\nimport TimeScale from './time-scale-axis';\n\n\nexport const axes = {\n    'log': LogYAxis,\n    'smart': SmartYAxis,\n    'linear': YAxis,\n    'centered': CenteredYAxis,\n    'ordinal': OrdinalScale,\n    'time': TimeScale,\n    'xLinear': LinearScale\n};\nexport const addAxis = (name, axisCtor) => {\n    axes[name] = axisCtor;\n};\n\nexport const xScaleFactory = function (data, options) {\n    // if we have dates in the x field of the data points\n    // we need a time scale, otherwise is an oridinal\n    // two ways to shape the data for time scale:\n    //  [{ x: date, y: 1}, {x: date, y: 2}]\n    //  [{ data: [ x: date, y: 1]}, {data: [x: date, y: 100]}]\n    // if we get no data, we return an ordinal scale\n    var isTimeData = options.xAxis.type === 'time' || (Array.isArray(data) && data.length > 0 && data[0].data ?\n        data[0].data[0].x && nwt.isDate(data[0].data[0].x) :\n        Array.isArray(data) && data.length > 0 && data[0].x && nwt.isDate(data[0].x));\n\n\n    if (isTimeData && options.xAxis.type !== 'ordinal') {\n        return new TimeScale(data, options);\n    }\n\n    if (!options.xAxis.categories && options.xAxis.type === 'linear') {\n        return new LinearScale(data, options);\n    }\n\n    return new OrdinalScale(data, options);\n};\n\nexport const yScaleFactory = function (data, options, axisType, domain) {\n    var map = {\n        'log': LogYAxis,\n        'smart': SmartYAxis,\n        'linear': YAxis,\n        'centered': CenteredYAxis\n    };\n\n    if (!axisType) {\n        axisType = 'linear';\n    }\n\n    if (axisType === 'linear' && (options.yAxis.smartAxis || options.yAxis.scaling.type === 'smart')) {\n        axisType = 'smart';\n    }\n\n    if (axisType === 'linear' && options.yAxis.scaling.type === 'centered') {\n        axisType = 'centered';\n    }\n\n    if (axisType in axes) {\n        return new axes[axisType](data, options, domain);\n    }\n\n    throw new Error('Unknown axis type: \"' + axisType + '\"');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/core/axis/axis-scale-factory.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 5\n// module chunks = 0 1","import d3 from 'd3';\nimport * as nwt from '../../utils/contour-utils';\nimport YAxis from './y-axis';\n\n// focus on vertically centering data - zero anchor is ignored\nfunction CenteredYAxis(data, options, domain) {\n    this.data = data;\n    this.options = options;\n    this.yMax = domain[0];\n    this.yMin = domain[1];\n    this.NUM_DECIMALS = 1;\n}\n\nconst __super = YAxis.prototype;\nCenteredYAxis.prototype = Object.assign({}, __super, {\n    axis: function () {\n        var options = this.options.yAxis;\n        this.domain = this._scale.domain();\n        var numTicks = options.ticks || 5;\n        var axis = __super.axis.call(this);\n        var tickValues = this._extractYTickValues(options.min, options.max, numTicks);\n\n        return axis.ticks(numTicks)\n            .tickValues(tickValues)\n            .tickFormat(undefined);\n    },\n\n    setDomain: function (domain) {\n        var scaledDomain = this._getScaledDomain(domain);\n\n        this.yMin = scaledDomain[0];\n        this.yMax = scaledDomain[1];\n        this._scale.domain(scaledDomain);\n    },\n\n    _getScaledDomain: function(domain) {\n        var extent = d3.extent(domain);\n        var dataRange = extent[1] - extent[0];\n        var domainPadding = dataRange * 0.1;\n\n        var scaledMin = d3.round(extent[0] - domainPadding, this.NUM_DECIMALS);\n        var scaledMax = d3.round(extent[1] + domainPadding, this.NUM_DECIMALS);\n\n        return [scaledMin, scaledMax];\n    },\n\n        _extractYTickValues:  function(min, max, numTicks) {\n        var tickMin = min != null ? min : this.yMin;\n        var tickMax = max != null ? max : this.yMax;\n\n        var tickRange = tickMax - tickMin;\n        var tickSpacing = tickRange / numTicks;\n\n        var currentTick = tickMin;\n        var tickValues = [tickMin];\n        while (currentTick < tickMax) {\n            currentTick += tickSpacing;\n            tickValues.push(d3.round(currentTick, this.NUM_DECIMALS));\n        }\n        tickValues.push(tickMax);\n\n        return tickValues;\n    }\n});\n\nexport default CenteredYAxis;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/core/axis/centered-y-axis.js","import d3 from 'd3';\nimport * as nwt from '../../utils/contour-utils';\n\nfunction LinearScale(data, options) {\n    this.options = options;\n    this.data = data;\n\n    this.init();\n}\n\nLinearScale.prototype = {\n    init: function () {\n        delete this._scale;\n    },\n\n    scale: function (domain) {\n        this._domain = domain ? this._getAxisDomain(domain) : this._getAxisDomain(this.data);\n        this._scale = this._scale || d3.scale.linear();\n        this._scale.domain(this._domain);\n\n        if (this.options.xAxis.min == null && this.options.xAxis.max == null) {\n            this._scale.nice();\n        }\n\n        this._setRange();\n\n        return this._scale;\n    },\n\n    axis: function () {\n        var options = this.options.xAxis;\n        var formatLabel = options.labels.formatter || d3.format(options.labels.format || 'g');\n        var axis = d3.svg.axis()\n            .scale(this._scale)\n            .tickSize(options.innerTickSize, options.outerTickSize)\n            .tickPadding(options.tickPadding)\n            .tickFormat(function (d) {\n                return nwt.isDate(d) ? d.getDate() : formatLabel(d);\n            });\n\n        var ticks = axis.scale().ticks();\n\n        var labelsFit = nwt.doXLabelsFit(ticks, formatLabel, this.options);\n\n        if (options.firstAndLast) {\n            // show only first and last tick\n            axis.tickValues(nwt.firstAndLast(this._domain));\n        } else if (options.tickValues) {\n            axis.tickValues(options.tickValues);\n        } else if (options.ticks != null) {\n            axis.ticks(options.ticks);\n        } else if (!labelsFit) {\n            var finalTicks = nwt.getTicksThatFit(ticks, formatLabel, this.options);\n            axis.tickValues(finalTicks);\n            axis.ticks(finalTicks.length);\n        }\n\n        return axis;\n    },\n\n    update: function (domain, dataSrc, options) {\n        this.data = dataSrc;\n        this.options = options || this.options;\n        this.scale(domain);\n    },\n\n    rangeBand: function () {\n        return 1;\n    },\n\n    postProcessAxis: function () {\n        return this;\n    },\n\n    _setRange: function () {\n        var rangeSize = !!this.options.chart.rotatedFrame ? this.options.chart.plotHeight : this.options.chart.plotWidth;\n        var range = !!this.options.chart.rotatedFrame ? [rangeSize, 0]  : [0, rangeSize];\n        return this._scale.range(range);\n    },\n\n    _getAxisDomain: function (domain) {\n        var optMin = this.options.xAxis.min;\n        var optMax = this.options.xAxis.max;\n        var extents = d3.extent(domain);\n\n        if (optMin == null && optMax == null) {\n            return extents;\n        }\n\n        if (optMin == null) {\n            return [Math.min(extents[0], optMax), optMax];\n        }\n\n        if (optMax == null) {\n            return [optMin, Math.max(extents[1], optMin)];\n        }\n\n        // options are invalid, use the extents\n        if (optMin > optMax) {\n            return extents;\n        }\n\n        return [optMin, optMax];\n    }\n};\n\nexport default LinearScale;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/core/axis/linear-scale-axis.js","import d3 from 'd3';\nimport YAxis from './y-axis';\n\nfunction LogYAxis(data, options) {\n    this.data = data;\n    this.options = options;\n}\n\nfunction setRange(scale, options) {\n    var rangeSize = options.chart.rotatedFrame ? options.chart.plotWidth : options.chart.plotHeight;\n    var range = options.chart.rotatedFrame ? [0, rangeSize] : [rangeSize, 0];\n    return scale.range(range);\n}\n\nvar __super = YAxis.prototype;\nLogYAxis.prototype = Object.assign({}, __super, {\n    axis: function () {\n        var options = this.options.yAxis;\n        var domain = this._scale.domain();\n        var ticksHint = Math.ceil(Math.log(domain[1]) / Math.log(10));\n        var format = options.labels.formatter || d3.format(options.labels.format || ',.0f');\n\n        var axis = d3.svg.axis()\n            .scale(this._scale)\n            .tickSize(options.innerTickSize, options.outerTickSize)\n            .tickPadding(options.tickPadding);\n        if(options.labels.formatter) {\n            axis.tickFormat(options.labels.formatter);\n        } else {\n            axis.ticks(options.ticks || ticksHint, format);\n        }\n\n\n        return axis;\n    },\n\n    scale: function (domain) {\n        if(!this._scale) {\n            if(domain[0] <= 0.1) domain[0] = 0.1; //throw new Error('Log scales don\\'t support 0 or negative values');\n\n            this._scale = d3.scale.log();\n            this.setDomain(domain).clamp(true);\n\n        }\n\n        setRange(this._scale, this.options);\n\n        return this._scale;\n    },\n\n    update: function (domain, dataSrc) {\n        this.data = dataSrc;\n        if(domain[0] <= 0.1) domain[0] = 0.1; //throw new Error('Log scales don\\'t support 0 or negative values');\n        this.setDomain(domain).clamp(true);\n        this.scale();\n    },\n});\n\nexport default LogYAxis;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/core/axis/log-y-axis.js","import d3 from 'd3';\nimport * as nwt from '../../utils/contour-utils';\n\n// implements the following interface\n/*\n{\n    scale: returns the d3 scale for the type\n\n    axis: returns the d3 axis\n\n    range: returns the d3 range for the type\n\n    postProcessAxis:\n}\n*/\n\nfunction OrdinalScale(data, options) {\n    this.options = options;\n    this.data = data;\n\n    this.init();\n}\n\nOrdinalScale.prototype = {\n    init: function () {\n        this.isCategorized = true;\n        delete this._scale;\n    },\n\n    scale: function (domain) {\n        if(!this._scale) {\n            this._scale = new d3.scale.ordinal();\n        }\n\n        this.setDomain(domain || this.data);\n\n        return this._scale;\n    },\n\n    /* jshint eqnull:true */\n    axis: function () {\n        var options = this.options.xAxis;\n        var optFormat = (options.labels.format ? d3.format(options.labels.format) : 0);\n        var formatLabel = options.labels.formatter || d3.format(options.labels.format || 'g');\n\n        var tickFormat = options.labels.formatter || (!this.isCategorized ? optFormat : 0) || function (d) { return nwt.isDate(d) ? d.getDate() : d; };\n        var axis = d3.svg.axis()\n            .scale(this._scale)\n            .innerTickSize(options.innerTickSize)\n            .outerTickSize(options.outerTickSize)\n            .tickPadding(options.tickPadding)\n            .tickFormat(tickFormat);\n\n        var ticks = this.isCategorized && options.categories ? options.categories : nwt.range(this._domain.length) || [];\n        var labelsFit = nwt.doXLabelsFit(ticks, formatLabel, this.options);\n\n        if (options.firstAndLast) {\n            // show only first and last tick\n            axis.tickValues(nwt.firstAndLast(this._domain));\n        } else if (options.maxTicks) {\n            axis.tickValues(nwt.maxTickValues(options.maxTicks, this._domain));\n        } else if (options.tickValues) {\n            axis.tickValues(options.tickValues);\n        } else if (options.ticks != null) {\n            axis.ticks(options.ticks);\n            if (options.ticks === 0) {\n                axis.tickValues([]);\n            }\n        } else if (!labelsFit) {\n            var finalTicks = nwt.getTicksThatFit(ticks, formatLabel, this.options);\n            axis.tickValues(finalTicks);\n            axis.ticks(finalTicks.length);\n        } else {\n            axis.tickValues(options.categories);\n        }\n\n        return axis;\n    },\n\n    /* jshint eqnull:true */\n    postProcessAxis: function (axisGroup) {\n        var options = this.options.xAxis;\n        if (!options.labels || options.labels.rotation == null) return;\n\n        var deg = options.labels.rotation;\n        var rad = nwt.degToRad(deg);\n        var sign = deg > 0 ? 1 : deg < 0 ? -1 : 0;\n        var pos = deg < 0 ? -1 : 1;\n        var lineHeight = 0.71;\n        var lineCenter = lineHeight / 2; // center of text line is at .31em\n        var cos = Math.cos(rad);\n        var sin = Math.sin(rad);\n        var anchor = options.labels.rotation < 0 ? 'end' : options.labels.rotation > 0 ? 'start' : 'middle';\n\n        axisGroup.selectAll('.tick text')\n            .style({'text-anchor': anchor})\n            .attr('transform', function (d, i, j) {\n                var x = d3.select(this).attr('x') || 0;\n                var y = d3.select(this).attr('y') || 0;\n                return 'rotate(' + options.labels.rotation + ' ' + x + ',' + y + ')';\n            })\n            .attr('dy', function (d, i, j) {\n                var ref = deg === 0 ? lineHeight : lineCenter;\n                var num = ((cos * ref) + (sin * ref * pos));\n                return (num).toFixed(4) + 'em';\n                // return (sign * ((cos * lineCenter) + (sin * lineCenter))).toFixed(4) + 'em';\n            })\n            .attr('dx', function (d, i, j) {\n                // var num = ((sin * lineCenter * pos));\n                // return -num.toFixed(4) + 'em';\n                return -(sin * lineCenter - 0.31 * sign).toFixed(4) + 'em';\n\n            });\n    },\n\n    update: function (domain, data, options) {\n        this.data = data;\n        this.options = options || this.options;\n        this.scale(domain);\n    },\n\n    setDomain: function (domain) {\n        this._domain = domain;\n        this._scale.domain(domain);\n        this._range();\n    },\n\n    rangeBand: function () {\n        var band = this._scale.rangeBand();\n        if (!band) nwt.warn('rangeBand is 0, you may have too many points in in the domain for the size of the chart (ie. chartWidth = ' + this.options.chart.plotWidth + 'px and ' + (this._domain.length) + ' X-axis points (plus paddings) means less than 1 pixel per band and there\\'re no half pixels');\n\n        return this._scale.rangeBand();\n    },\n\n    _range: function () {\n        var range = this.options.chart.rotatedFrame ? [this.options.chart.plotHeight, 0] : [0, this.options.chart.plotWidth];\n        var numCats = (this._domain || []).length;\n        var threshold = 30;\n        var rangeType = numCats <= threshold ? 'rangeRoundBands' : 'rangeBands';\n\n        return this.isCategorized ?\n            // this._scale.rangeBands(range, this.options.xAxis.innerRangePadding, this.options.xAxis.outerRangePadding) :\n            this._scale[rangeType](range, this.options.xAxis.innerRangePadding, this.options.xAxis.outerRangePadding) :\n            this._scale.rangePoints(range);\n    }\n};\n\nexport default OrdinalScale;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/core/axis/ordinal-scale-axis.js","import d3 from 'd3';\nimport * as nwt from '../../utils/contour-utils';\nimport YAxis from './y-axis';\n\nfunction SmartYAxis(data, options, domain) {\n    this.data = data;\n    this.options = options;\n    this.yMax = domain[0];\n    this.yMin = domain[1];\n    this.dataMax = d3.max(data.map(function (d) { return d.y; }));\n}\n\nfunction _extractYTickValues(domain, min, max, yMin, yMax, dataMax) {\n    var adjustedDomain = nwt.uniq(nwt.mergeArrays(nwt.mergeArrays(domain, yMax), dataMax));\n    // we want to be able to remove parameters with default values\n    // so to remove the default yAxis.min: 0, you pass yAxis.min: null\n    // and for that we need to to a truly comparison here (to get null or undefined)\n    if (min == null && max == null)\n        return adjustedDomain;\n\n    if (min == null) {\n        return max > yMin ? nwt.mergeArrays([max], adjustedDomain) : [max];\n    }\n\n    if (max == null) {\n        if (min >= yMax) return [min];\n        adjustedDomain[0] = min;\n\n        return adjustedDomain;\n    }\n\n    return nwt.mergeArrays([min, max], yMax);\n}\n\nvar __super = YAxis.prototype;\nSmartYAxis.prototype = Object.assign({}, __super, {\n    axis: function () {\n        var options = this.options.yAxis;\n        this.domain = this._scale.domain();\n        var tickValues = _extractYTickValues(this.domain, options.min, options.max, this.yMin, this.yMax, this.dataMax);\n        var numTicks = this.numTicks();\n        var axis = __super.axis.call(this);\n        return axis.ticks(numTicks)\n            .tickValues(tickValues);\n    },\n\n    numTicks: function () {\n        return 3;\n    },\n\n    setDomain: function (domain) {\n        var extent = d3.extent(domain);\n        this.yMin = extent[0];\n        this.yMax = extent[1];\n        this._scale.domain(domain);\n\n        this._niceTheScale();\n    },\n\n    _niceTheScale: function () {\n        var perTreshold = 0.05;\n        var domain = this._scale.domain();\n        var min = this.options.yAxis.min || domain[0];\n        var rawMax = this.options.yAxis.max || this.dataMax;\n        var nextTick = nwt.roundToNextTick(rawMax);\n\n        var max = Math.abs(nextTick - rawMax) < rawMax * perTreshold ? nwt.roundToNextTick(rawMax + rawMax * perTreshold) : nextTick;\n        // var max = nextTick === rawMax ? nwt.roundToNextTick(rawMax + Math.pow(10, -nwt.decDigits(rawMax) - 1)) : nextTick;\n        var nice = [min, max];\n        this._scale.domain(nice);\n    }\n});\n\nexport default SmartYAxis;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/core/axis/smart-y-axis.js","import d3 from 'd3';\nimport * as nwt from '../../utils/contour-utils';\n\n// implements the following interface\n/*\n{\n    scale: returns the d3 scale for the type\n\n    range: returns the d3 range for the type\n}\n*/\n\nfunction dateDiff(d1, d2) {\n    if (!d1 || !d2) return 0;\n    var diff = d1.getTime() - d2.getTime();\n    return diff / (24*60*60*1000);\n}\n\n\nfunction TimeScale(data, options) {\n    this.options = options;\n    this.data = data;\n\n    this.init();\n}\n\nTimeScale.prototype = {\n    init: function () {\n        delete this._scale;\n    },\n\n    scale: function (domain) {\n\n        if(!this._scale) {\n            this._scale = new d3.time.scale();\n            this.setDomain(domain);\n        }\n\n        this.range();\n\n        return this._scale;\n    },\n\n\n    /* jshint eqnull:true */\n    axis: function () {\n        var options = this.options.xAxis;\n        var tickFormat = this.getOptimalTickFormat();\n\n        var axis = d3.svg.axis()\n            .scale(this._scale)\n            .tickFormat(tickFormat)\n            .tickSize(options.innerTickSize, options.outerTickSize)\n            .tickPadding(options.tickPadding)\n            .tickValues(this._domain);\n\n        if (this.options.xAxis.tickValues != null) {\n            axis.tickValues(this.options.xAxis.tickValues);\n        } else if (this.options.xAxis.maxTicks != null && this.options.xAxis.maxTicks < this._domain.length) {\n            // override the tickValues with custom array based on number of ticks\n            // we don't use D3 ticks() because you cannot force it to show a specific number of ticks\n            axis.tickValues(nwt.maxTickValues(options.maxTicks, this._domain));\n\n        } else if (this.options.xAxis.firstAndLast) {\n            // show only first and last tick\n            axis.tickValues(nwt.firstAndLast(this._domain));\n        }\n\n        return axis;\n    },\n\n    update: function (domain, data, options) {\n        this.data = data;\n        this.options = options || this.options;\n        this.setDomain(domain);\n        this.scale();\n    },\n\n    setDomain: function (domain) {\n        this._domain = domain;\n        var axisDomain = this._getAxisDomain(this._domain);\n        this._scale.domain(axisDomain);\n    },\n\n    postProcessAxis: function (axisGroup) {\n        if (!this.options.xAxis.firstAndLast) return;\n        var labels = axisGroup.selectAll('.tick text')[0];\n        d3.select(labels[0]).style({'text-anchor': 'start'});\n        d3.select(labels[labels.length - 1]).style({'text-anchor': 'end'});\n    },\n\n    rangeBand: function () {\n        return 4;\n    },\n\n    getOptimalTickFormat: function () {\n        if (this.options.xAxis.labels.formatter) return this.options.xAxis.labels.formatter;\n        if (this.options.xAxis.labels.format) return d3.time.format(this.options.xAxis.labels.format);\n\n        var spanDays = Math.abs(dateDiff(this._domain[this._domain.length-1], this._domain[0]));\n        var daysThreshold = this.options.xAxis.maxTicks || 1;\n        if (spanDays < daysThreshold) return d3.time.format('%H:%M');\n        if (spanDays < 365) return d3.time.format('%d %b');\n\n        return d3.time.format('%Y');\n    },\n\n    range: function () {\n        var range = this._getAxisRange(this._domain);\n        return this._scale.rangeRound(range, 0.1);\n    },\n\n\n    _getAxisDomain: function (domain) {\n        if(this.options.xAxis.linearDomain) {\n            return domain;\n        }\n\n        return d3.extent(domain);\n    },\n\n    _getAxisRange: function (domain) {\n        var size = this.options.chart.rotatedFrame ? this.options.chart.plotHeight : this.options.chart.plotWidth;\n\n        if(this.options.xAxis.linearDomain) {\n            return nwt.range(0, size, size / (domain.length - 1)).concat([size]);\n        }\n\n        return [0, size];\n    }\n};\n\nexport default TimeScale;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/core/axis/time-scale-axis.js","\nimport Contour from './core/contour';\nimport './core/cartesian';\nimport './core/horizontal-frame';\nimport './core/exportable';\n\nimport './core/axis/y-axis';\nimport './core/axis/axis-scale-factory';\nimport './core/axis/centered-y-axis';\nimport './core/axis/linear-scale-axis';\nimport './core/axis/log-y-axis';\nimport './core/axis/ordinal-scale-axis';\nimport './core/axis/smart-y-axis';\nimport './core/axis/time-scale-axis';\n\nimport './visualizations/area';\nimport './visualizations/bar';\nimport './visualizations/column';\nimport './visualizations/cool-narwhal';\nimport './visualizations/legend';\nimport './visualizations/line';\nimport './visualizations/null';\nimport './visualizations/pie';\nimport './visualizations/scatter';\nimport './visualizations/stack-tooltip';\nimport './visualizations/title';\nimport './visualizations/tooltip';\nimport './visualizations/trend-line';\n\nimport '../styles/contour.less';\n\nmodule.exports = Contour;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/index.js","import d3 from 'd3';\nimport * as nwt from './contour-utils';\n\nvar _extent = function (series, field) {\n    var maxs = [], mins = [];\n    series.forEach(function (d) {\n        if(!d.data.length) return;\n        var values = d.data.map(function (d) { return d[field]; });\n        maxs.push(d3.max(values));\n        mins.push(d3.min(values));\n    });\n\n    //\n    if(!mins.length || !maxs.length) return [];\n\n    return [Math.min.apply(null, mins), Math.max.apply(null, maxs)];\n};\n\nvar _stackedExtent = function (data) {\n    var stack = nwt.stackLayout();\n    var dataSets = stack(data);\n    var ext = [];\n    dataSets.forEach(function (set) {\n        set.data.forEach(function (d, i) {\n            var cur = ext[i] || 0;\n            ext[i] = cur + d.y;\n        });\n    });\n\n    return [Math.min.apply(null, ext), Math.max.apply(null, ext)];\n};\n\nvar _xExtent = nwt.partialRight(_extent, 'x');\nvar _yExtent = nwt.partialRight(_extent, 'y');\n\nfunction VisInstanceContainer(data, vizOptions, type, renderer, context) {\n    this.type = type;\n    this.renderer = renderer;\n    this.ctx = context;\n    this.options = vizOptions;\n    this.init(data);\n}\n\nVisInstanceContainer.prototype = {\n    init: function (data) {\n        this.rawData = data;\n    },\n\n    render: function (layer, options, ctx) {\n        this.renderer.call(ctx, this.data, layer, options);\n        return ctx;\n    },\n\n    setVisibility: function (visible) {\n        var node = this.layer.node();\n\n        if (visible) {\n            node.style.display = 'block';\n        } else {\n            node.style.display = 'none';\n        }\n\n        return this.ctx;\n    },\n\n    setData: function (data) {\n        this.rawData = data;\n        return this.ctx;\n    },\n\n\n    normalizeData: function (options) {\n        var normal = (this.ctx || {}).dataNormalizer || nwt.normalizeSeries;\n        var categories = (options.xAxis || {}).categories;\n        this.data = normal(this.rawData, categories);\n        this._updateDomain(options);\n\n        return this.ctx;\n    },\n\n    _updateDomain: function (options) {\n        if(!options[this.type]) throw new Error('Set the options before calling setData or _updateDomain');\n\n        var isSupportedFormat = (this.ctx || {}).isSupportedDataFormat || nwt.isSupportedDataFormat;\n\n        if (isSupportedFormat(this.data)) {\n            this.xDomain = nwt.flatten(this.data.map(function (set) { return set.data.map(function (d) { return d.x; }); }));\n            this.xExtent = _xExtent(this.data, 'x');\n            this.yExtent = options[this.type].stacked ? _stackedExtent(this.data) : _yExtent(this.data);\n        }\n    }\n};\n\nexport default VisInstanceContainer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/utils/visualization-container.js","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Used by `_.defaults` to customize its `_.assignIn` use.\n *\n * @private\n * @param {*} objValue The destination value.\n * @param {*} srcValue The source value.\n * @param {string} key The key of the property to assign.\n * @param {Object} object The parent object of `objValue`.\n * @returns {*} Returns the value to assign.\n */\nfunction assignInDefaults(objValue, srcValue, key, object) {\n  if (objValue === undefined ||\n      (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n    return srcValue;\n  }\n  return objValue;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * This method is like `_.assignIn` except that it accepts `customizer`\n * which is invoked to produce the assigned values. If `customizer` returns\n * `undefined`, assignment is handled by the method instead. The `customizer`\n * is invoked with five arguments: (objValue, srcValue, key, object, source).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias extendWith\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} [customizer] The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @see _.assignWith\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   return _.isUndefined(objValue) ? srcValue : objValue;\n * }\n *\n * var defaults = _.partialRight(_.assignInWith, customizer);\n *\n * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n  copyObject(source, keysIn(source), object, customizer);\n});\n\n/**\n * Assigns own and inherited enumerable string keyed properties of source\n * objects to the destination object for all destination properties that\n * resolve to `undefined`. Source objects are applied from left to right.\n * Once a property is set, additional values of the same property are ignored.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaultsDeep\n * @example\n *\n * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar defaults = baseRest(function(args) {\n  args.push(undefined, assignInDefaults);\n  return apply(assignInWith, undefined, args);\n});\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = defaults;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/lodash.defaults/index.js\n// module id = 14\n// module chunks = 0 1","/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright JS Foundation and other contributors <https://js.foundation/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Gets the value at `key`, unless `key` is \"__proto__\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  return key == '__proto__'\n    ? undefined\n    : object[key];\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeMax = Math.max,\n    nativeNow = Date.now;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    if (isObject(srcValue)) {\n      stack || (stack = new Stack);\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || (srcIndex && isFunction(objValue))) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = merge;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/lodash.merge/index.js\n// module id = 15\n// module chunks = 0 1","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 16\n// module chunks = 0 1","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from './contour';\nimport { xScaleFactory, yScaleFactory } from './axis/axis-scale-factory';\n\nvar defaults = {\n    chart: {\n        gridlines: 'none',\n        // not clipping the plot area could be a performance gain\n        // but by default we clip to be safe\n        clipPlotArea: true,\n        padding: {\n            top: 6,\n            right: 5,\n            // this get's defined based on the axis & title\n            bottom: undefined,\n            // this get's defined based on the axis & title\n            left: undefined\n        }\n    },\n\n    xAxis: {\n        // type of axis {ordinal|linear|time}\n        type: null, // default is linear in line.js (needs to be null here so overrides work)\n        categories: undefined,\n        max: undefined,\n        min: undefined,\n        innerTickSize: 6,\n        outerTickSize: 0,\n        tickPadding: 6,\n        maxTicks: undefined,\n        ticks: undefined,\n        tickValues: undefined,\n        title: undefined,\n        titlePadding: 4,\n        // padding between ranges (ie. columns) expressed in percentage of rangeBand width\n        innerRangePadding: 0.1,\n        // padding between all ranges (ie. columns) and the axis (left & right) expressed in percentage of rangeBand width\n        outerRangePadding: 0.1,\n        firstAndLast: false,\n        orient: 'bottom',\n        labels: {\n            format: undefined,\n            formatter: undefined\n        },\n        linearDomain: false,     // specify if a time domain should be treated linearly or ....\n        // should the xAxis be rendered at y=0 or at the bottom of the chart regardless of where y = 0 is\n        zeroPlane: false,\n    },\n\n    yAxis: {\n        // @param: {linear|smart|log}\n        // type: 'smart',\n        min: undefined,\n        max: undefined,\n        scaling: {\n            type: 'auto', // || 'smart' || 'centered'\n            options: {\n                zeroAnchor: true\n            }\n        },\n        innerTickSize: 6,\n        outerTickSize: 6,\n        tickPadding: 4,\n        tickValues: undefined,\n        ticks: undefined,\n        title: undefined,\n        titlePadding: 4,\n        orient: 'left',\n        labels: {\n            // top, middle, bottom\n            verticalAlign: 'middle',\n            format: 's', // d3 formats\n            formatter: undefined // a function that formats each value ie. function (datum) { return 'x: ' + datum.x + ', y:' + datum.y }\n        }\n    }\n};\n\n\n/**\n* Provides a Cartesian frame to the Contour instance.\n*\n* This is required for all visualizations displayed in a Cartesian frame, for example line charts, bar charts, area charts, etc. It is not required otherwise; for instance, pie charts do not use a Cartesian frame.\n*\n* ###Example:\n*\n*     new Contour(options)\n*           .cartesian();\n*\n* @name cartesian\n*/\nvar cartesian = function () {\n    var maxTickSize = function (options) { return Math.max(options.outerTickSize || 0, options.innerTickSize || 0); };\n    return {\n        dataSrc: [],\n\n        init: function (options) {\n\n            // readonly properties (ie. user cannot modify)\n            var readOnlyProps = {\n                chart: {\n                    rotatedFrame: false,\n                    internalPadding: {\n                        bottom: undefined,\n                        left: undefined\n                    }\n                }\n            };\n\n            this.options = options || {};\n\n            nwt.merge(this.options, readOnlyProps);\n\n            var extraPadding = {};\n            if (!this.options.xAxis || !this.options.xAxis.firstAndLast) {\n                extraPadding = { chart : { padding: { right: 15 }}};\n            }\n\n            this._extraOptions.push(nwt.merge({}, defaults, extraPadding));\n\n            return this;\n        },\n\n        xDomain: [],\n        yDomain: [],\n\n        _getYScaledDomain: function (domain, options) {\n            var opts = this.options.yAxis;\n            var zeroAnchor = (opts.zeroAnchor != null) ? opts.zeroAnchor : opts.scaling.options.zeroAnchor;\n            var absMin = zeroAnchor && domain && domain[0] > 0 ? 0 : undefined;\n            var min = opts.min != null ? opts.min : absMin;\n\n            if (opts.tickValues) {\n                if (opts.min != null && opts.max != null) {\n                    return [opts.min, opts.max];\n                } else if (opts.min != null) {\n                    return [opts.min, d3.max(zeroAnchor ? [0].concat(opts.tickValues) : opts.tickValues)];\n                } else if (opts.max != null) {\n                    return [d3.min(zeroAnchor ? [0].concat(opts.tickValues) : opts.tickValues), opts.max];\n                } else {\n                    return d3.extent(zeroAnchor || opts.min != null ? [min].concat(opts.tickValues) : opts.tickValues);\n                }\n            } else if (opts.smartAxis || opts.scaling.type === 'smart') {\n                return d3.extent(zeroAnchor || opts.min != null ? [min].concat(domain) : domain);\n            } else if (opts.scaling.type === 'centered') {\n                return d3.extent(domain);\n            }\n\n            return nwt.extractScaleDomain(domain, min, opts.max, opts.ticks);\n        },\n\n        /*jshint eqnull:true */\n        adjustPadding: function () {\n            var xOptions = this.options.xAxis;\n            var yOptions = this.options.yAxis;\n            // bottom padding calculations\n            if (this.options.chart.padding.bottom == null) {\n                this.options.chart.internalPadding.bottom = this._getAdjustedBottomPadding(xOptions);\n            } else {\n                this.options.chart.internalPadding.bottom = this.options.chart.padding.bottom || 0;\n            }\n\n            this.options.chart.padding.top = this.options.chart.internalPadding.top = this._getAdjustedTopPadding(xOptions);\n\n            // left padding calculations\n            if (this.options.chart.padding.left == null) {\n                this.options.chart.internalPadding.left = this._getAdjustedLeftPadding(yOptions);\n            } else {\n                this.options.chart.internalPadding.left = this.options.chart.padding.left;\n            }\n\n            this.options.chart.padding.right = this.options.chart.internalPadding.right = this._getAdjustedRightPadding(yOptions);\n        },\n\n        _getAdjustedTopPadding: function (options) {\n            return this.options.chart.padding.top;\n        },\n\n        _getAdjustedBottomPadding: function (options) {\n            if (options.ticks !== 0) {\n                var xLabels = this.xDomain;\n                var xAxisText = xLabels.join('<br>');\n                var xLabelBounds = nwt.textBounds(xAxisText, '.x.axis');\n                var regularXBounds = nwt.textBounds('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890', '.x.axis');\n                var em = regularXBounds.height;\n                var ang = options.labels && options.labels.rotation ? options.labels.rotation % 360 : 0;\n                var xLabelHeightUsed = ang === 0 ? regularXBounds.height : Math.ceil(Math.abs(xLabelBounds.width * Math.sin(nwt.degToRad(ang))) + em / 5) ;\n                return maxTickSize(options) + (options.tickPadding || 0) +\n                    xLabelHeightUsed;\n            } else {\n                return maxTickSize(options) + (options.tickPadding || 0);\n            }\n        },\n\n        _getAdjustedLeftPadding: function (options) {\n            var yDomainScaled = this._getYScaledDomain(this.yDomain, this.options);\n            var tmpScale = d3.scale.linear().domain(yDomainScaled);\n            var yLabels = tmpScale.ticks(options.ticks);\n\n            var format = options.labels.formatter || d3.format(options.labels.format || ',.0f');\n            var yAxisText = yLabels.map(format).join('<br>');\n            var yLabelBounds = nwt.textBounds(yAxisText, '.y.axis');\n            return maxTickSize(this.options.yAxis) + (this.options.yAxis.tickPadding || 0) +\n                yLabelBounds.width;\n        },\n\n        _getAdjustedRightPadding: function (options) {\n            return this.options.chart.padding.right;\n        },\n\n        adjustTitlePadding: function () {\n            var titleBounds;\n            if (this.options.xAxis.title || this.options.yAxis.title) {\n                if(this.options.xAxis.title) {\n                    titleBounds = nwt.textBounds(this.options.xAxis.title, '.x.axis-title');\n                    this.options.chart.internalPadding.bottom += titleBounds.height + this.options.xAxis.titlePadding;\n                }\n\n                if(this.options.yAxis.title) {\n                    titleBounds = nwt.textBounds(this.options.yAxis.title, '.y.axis-title');\n                    this.options.chart.internalPadding.left += titleBounds.height + this.options.yAxis.titlePadding;\n                }\n            }\n        },\n\n        computeXScale: function () {\n            if (!this.xDomain) throw new Error('You are trying to render without setting data (xDomain).');\n\n            if(!this.xScale) {\n                this.xScaleGenerator = xScaleFactory(this.dataSrc, this.options);\n                this.xScale = this.xScaleGenerator.scale(this.xDomain);\n                this.rangeBand = this.xScaleGenerator.rangeBand();\n            } else {\n                this.xScaleGenerator.update(this.xDomain, this.dataSrc, this.options);\n                this.rangeBand = this.xScaleGenerator.rangeBand();\n            }\n        },\n\n        computeYScale: function () {\n            if (!this.yDomain) throw new Error('You are trying to render without setting data (yDomain).');\n\n            var yScaleDomain = this._getYScaledDomain(this.yDomain, this.options);\n\n            if(!this.yScale) {\n                this.yScaleGenerator = yScaleFactory(this.dataSrc, this.options, this.options.yAxis.type, this.yDomain);\n                this.yScale = this.yScaleGenerator.scale(yScaleDomain);\n            } else {\n                this.yScaleGenerator.update(yScaleDomain, this.dataSrc);\n            }\n        },\n\n        /**\n        * Provides a scaling function based on the xAxis values.\n        *\n        * ###Example:\n        *\n        *     var scaledValue = this.xScale(100);\n        *\n        * @function xScale\n        * @param {Number|String} value The value to be scaled.\n        * @return {Number} The scaled value according to the current xAxis settings.\n        */\n        xScale: undefined,\n\n        /**\n        * Provides a scaling function based on the yAxis values.\n        *\n        * ###Example:\n        *\n        *     var scaledValue = this.yScale(100);\n        *\n        * @function yScale\n        * @param {Number} value The value to be scaled.\n        * @return {Number} The scaled value according to the current yAxis settings.\n        */\n        yScale: undefined,\n\n        /**\n        * Modifies the domain for the yAxis.\n        *\n        * ###Example:\n        *\n        *     this.setYDomain([100, 200]);\n        *\n        * @function setYDomain\n        * @param {Array} domain The domain array representing the min and max values visible on the yAxis.       */\n        setYDomain: function (domain) {\n            this.yScaleGenerator.setDomain(domain);\n        },\n\n        /**\n        * Redraws the yAxis with the new settings and domain.\n        *\n        * ###Example:\n        *\n        *     this.redrawYAxis();\n        *\n        * @function redrawYAxis\n        */\n        redrawYAxis: function () {\n            this.svg.select('.y.axis').call(this.yAxis());\n            this.renderGridlines();\n        },\n\n        _animationDuration: function () {\n            var opt = this.options.chart.animations;\n            return opt && opt.enable ?\n                opt.duration != null ? opt.duration : 400 :\n                0;\n        },\n\n        computeScales: function () {\n            this.computeXScale();\n            this.computeYScale();\n\n            return this;\n        },\n\n        _xAxis: undefined,\n        xAxis: function () {\n            if (!this._xAxis) {\n                this._xAxis = this.xScaleGenerator.axis().orient(this.options.xAxis.orient);\n            }\n            return this._xAxis;\n        },\n\n        _yAxis: undefined,\n        yAxis: function () {\n            if(!this._yAxis) {\n                this._yAxis = this.yScaleGenerator.axis().orient(this.options.yAxis.orient);\n            }\n            return this._yAxis;\n        },\n\n        renderXAxis: function () {\n            const xAxis = this.xAxis();\n            const plotHeight = this.options.chart.plotHeight;\n            const paddingTop = this.options.chart.internalPadding.top;\n            const x = this.options.chart.internalPadding.left;\n            const animOpt = this.options.chart.animations;\n            let y = this.options.chart.padding.top;\n            const t = d3.transition().duration(this._animationDuration());\n\n            const adjustTickLabels = () => (selection) => {\n                if (this.options.xAxis.zeroPlane) {\n                    const adj = plotHeight - y + paddingTop;\n                    const textSel = selection.selectAll('.x.axis text');\n                    textSel.attr('transform', 'translate(0, ' + (adj) + ')');\n                }\n            };\n\n            if (this.options.xAxis.zeroPlane) {\n                y += this.yScale(0);\n            } else {\n                y += plotHeight;\n            }\n\n            this._xAxisGroup = this.svg.selectAll('.x.axis')\n                .data([1]);\n\n            if (!this._xAxisGroup.node()) {\n                this._xAxisGroup.enter()\n                    .append('g')\n                    .attr('transform', 'translate(' + x + ',' + y + ')')\n                    .attr('class', 'x axis')\n                    .call(xAxis)\n                    .call(adjustTickLabels());\n            } else {\n                const opt = this.options.chart.animations;\n\n                if (opt && opt.enable) {\n                    // we can't attached the transition an not configure it so\n                    // we need to repeat this both with and without transition\n                    this._xAxisGroup\n                        .transition(t)\n                        .attr('transform', 'translate(' + x + ',' + y + ')')\n                        .call(xAxis)\n                        .call(adjustTickLabels());\n                } else {\n            this._xAxisGroup\n                        .attr('transform', 'translate(' + x + ',' + y + ')')\n                .call(xAxis)\n                        .call(adjustTickLabels(true));\n                }\n            }\n\n            this.xScaleGenerator.postProcessAxis(this._xAxisGroup);\n\n            return this;\n        },\n\n        renderYAxis: function () {\n            var x = this.options.chart.internalPadding.left;\n            var y = this.options.chart.padding.top;\n\n            this._yAxisGroup = this.svg.selectAll('.y.axis')\n                .data([1]);\n\n            if (!this._yAxisGroup.node()) {\n                this._yAxisGroup\n                    .enter().append('g')\n                    .attr('transform', 'translate(' + x + ',' + y + ')')\n                    .attr('class', 'y axis');\n            } else {\n                d3.select(this._yAxisGroup.node())\n                    .attr('transform', 'translate(' + x + ',' + y + ')');\n            }\n\n            this._renderYAxisElement();\n\n            return this;\n        },\n\n        _renderYAxisElement: function () {\n            const options = this.options.yAxis;\n            const alignmentOffset = { bottom: '.8em', middle: '.35em', top: '0' };\n            const animOpt = this.options.chart.animations;\n\n            if (animOpt && animOpt.enable) {\n                this._yAxisGroup\n                    .transition().duration(this._animationDuration())\n                    .call(this.yAxis())\n                    .selectAll('.tick text')\n                        .attr('dy', alignmentOffset[options.labels.verticalAlign]);\n            } else {\n                this._yAxisGroup\n                    .call(this.yAxis())\n                    .selectAll('.tick text')\n                        .attr('dy', alignmentOffset[options.labels.verticalAlign]);\n            }\n        },\n\n        renderAxisLabels: function () {\n            var adjustFactor = 40/46.609; // this factor is to account for the difference between the actual svg size and what we get from the DOM\n            var bounds, x, y;\n            var el;\n\n            if (this.options.xAxis.title) {\n                bounds = nwt.textBounds(this.options.xAxis.title, '.x.axis-title');\n                y = this.options.chart.internalPadding.bottom;\n                x = 0;\n                el = this._xAxisGroup.selectAll('.x.axis-title').data([1]);\n                if (!el.node()) {\n                    el.enter().append('text')\n                        .attr('class', 'x axis-title');\n                }\n\n                d3.select(el.node())\n                    .attr('x', x)\n                    .attr('y', y)\n                    .attr('alignment-baseline', 'after-edge')\n                    .attr('dx', (this.options.chart.plotWidth - bounds.width) / 2)\n                    .text(this.options.xAxis.title);\n            }\n\n            if (this.options.yAxis.title) {\n                bounds = nwt.textBounds(this.options.yAxis.title, '.y.axis-title');\n                y = -this.options.chart.internalPadding.left + bounds.height * adjustFactor;\n                x = 0;\n                el = this._yAxisGroup.selectAll('.y.axis-title').data([1]);\n                if (!el.node()) {\n                    el.enter().append('text')\n                        .attr('class', 'y axis-title');\n                }\n\n                d3.select(el.node())\n                    .attr('class', 'y axis-title')\n                    .attr('transform', 'rotate(-90)')\n                    .attr('x', x)\n                    .attr('y', y)\n                    .attr('dx', -(this.options.chart.plotHeight + bounds.width) / 2)\n                    .attr('dy', 0)\n                    .text(this.options.yAxis.title);\n            }\n\n            return this;\n        },\n\n        renderGridlines: function () {\n            var option = this.options.chart.gridlines;\n            var horizontal = option === 'horizontal' || option === 'both';\n            var vertical = option === 'vertical' || option === 'both';\n\n            function getYTicks(axis, smart) {\n                var tickValues = axis.tickValues();\n\n                if(!tickValues) {\n                    var numTicks = axis.ticks()[0];\n                    return axis.scale().ticks(numTicks).slice(1);\n                }\n\n                if (smart) {\n                    tickValues.pop();\n                }\n\n                return tickValues.slice(1);\n            }\n\n            function getXTicks(axis) {\n                return axis.tickValues() || (axis.scale().ticks ? axis.scale().ticks().slice(1) : axis.scale().domain());\n            }\n\n            var ticks, gr;\n            var x = this.xScale;\n            var y = this.yScale;\n\n            if(horizontal) {\n                var smartAxis = this.options.yAxis.smartAxis || this.options.yAxis.scaling.type === 'smart';\n                ticks = getYTicks(this.yAxis(), smartAxis);\n                var w = this.options.chart.plotWidth;\n\n                // remove previous lines (TODO: we need a better way)\n                // this._yAxisGroup.select('g.grid-lines').remove();\n                gr = this._yAxisGroup\n                    .selectAll('.grid-lines')\n                    .data([ticks]);\n\n                gr.enter().append('svg:g')\n                    .attr('class', 'grid-lines');\n\n                var lines = gr.selectAll('.grid-line')\n                    .data(function (d) { return d; });\n\n                lines.transition().duration(this._animationDuration())\n                    .attr('x1', 0)\n                    .attr('x2', function () {\n                        return w;\n                    })\n                    .attr('y1', y)\n                    .attr('y2', y);\n\n                lines.enter().append('line')\n                        .attr('class', 'grid-line')\n                        .attr('x1', 0)\n                        .attr('x2', function () {\n                            return w;\n                        })\n                        .attr('y1', y)\n                        .attr('y2', y);\n\n                lines.exit().remove();\n            }\n\n            if(vertical) {\n                // remove previous lines (TODO: we need a better way)\n                this._xAxisGroup.select('g.grid-lines').remove();\n                gr = this._xAxisGroup.append('svg:g').attr('class', 'grid-lines');\n                ticks = getXTicks(this.xAxis());\n                var offset = this.rangeBand / 2;\n                var h = this.options.chart.plotHeight;\n\n                gr.selectAll('.grid-line')\n                    .data(ticks)\n                    .enter().append('line')\n                        .attr('class', 'grid-line')\n                        .attr('x1', function (d) { return x(d) + offset; })\n                        .attr('x2', function (d) { return x(d) + offset; })\n                        .attr('y1', -h)\n                        .attr('y2', 0);\n            }\n\n            return this;\n        },\n\n        renderBackground: function () {\n            var options = this.options.chart;\n            this.background = this.background || this.createVisualizationLayer('background', 0);\n            var g = this.background.selectAll('.plot-area-background').data([null]);\n\n            g.enter().append('rect')\n                .attr('class', 'plot-area-background')\n                .attr('x', options.internalPadding.left)\n                .attr('y', options.internalPadding.top)\n                .attr('width', options.plotWidth)\n                .attr('height', options.plotHeight);\n\n            g.exit().remove();\n\n            return this;\n        },\n\n        renderClipArea: function () {\n            const data = this.options.chart.clipPlotArea ? [null] : [];\n            const defs = this.svg.selectAll('defs').data(data);\n            defs.enter().append('defs');\n\n            const clip = defs.selectAll('clipPath').data(data);\n            clip.enter().append('clipPath').attr('id', 'clip');\n\n            const rect = clip.selectAll('rect').data(data);\n            rect.enter().append('rect');\n\n            const w = this.options.chart.plotWidth;\n            const h = this.options.chart.plotHeight;\n\n            rect.attr('width', w)\n                .attr('height', h);\n\n            rect.exit().remove();\n            clip.exit().remove();\n            defs.exit().remove();\n\n            return this;\n        },\n\n        render: function () {\n\n            this.composeOptions();\n            this._normalizeData();\n            this.adjustDomain();\n            this.calcMetrics();\n            this.computeScales();\n            this.baseRender();\n\n            this\n                .renderClipArea()\n                .renderBackground()\n                .renderXAxis()\n                .renderYAxis()\n                .renderGridlines()\n                .renderAxisLabels()\n                .renderVisualizations();\n\n            return this;\n        },\n\n        datum: function (d, index) {\n            if(nwt.isObject(d) && Array.isArray(d.data))\n                return d.data.map(this.datum.bind(this));\n\n            return {\n                y: nwt.isObject(d) ? d.y : d,\n                x: nwt.isObject(d) ? d.x : this.options.xAxis.categories ? this.options.xAxis.categories[index] : index\n            };\n        },\n\n        adjustDomain: function () {\n            var extents = this.getExtents();\n            this._adjustXDomain(extents);\n            this._adjustYDomain(extents);\n\n            this._yAxis = null;\n            this._xAxis = null;\n            this.yScale = null;\n        },\n\n        _adjustXDomain: function (extents) {\n            this.xDomain = this.getXDomain();\n            var dataVis = this._visualizations.filter(function (v) { return nwt.isSupportedDataFormat(v.data); });\n            this.dataSrc = nwt.flatten(\n                dataVis.map(function (v) {\n                    return nwt.flatten(v.data.map(this.datum.bind(this)));\n                }.bind(this))\n            );\n\n            // every() on empty array returns true, so we guard against it\n            var isCategoricalData = this.dataSrc.length && this.dataSrc.every(function (d) { return +d.x !== d.x; });\n            var dataSrcCategories = nwt.uniq(this.dataSrc.map(function (d) { return d.x; }));\n            var sameCats = this.options.xAxis.categories ?\n                this.options.xAxis.categories.length === dataSrcCategories.length && nwt.intersection(this.options.xAxis.categories, dataSrcCategories).length === dataSrcCategories.length :\n                false;\n\n            if (isCategoricalData && !(this.options.xAxis.categories && sameCats)) {\n                this.options.xAxis.categories = dataSrcCategories;\n            }\n        },\n\n        _adjustYDomain: function (extents) {\n            this.yDomain = extents.length ? extents : [0, 10];\n            this.yMin = this.yDomain[0];\n            this.yMax = this.yDomain[this.yDomain.length - 1];\n        },\n\n        _normalizeData: function () {\n            var opt = this.options;\n            this._visualizations.forEach(function (viz) {\n                var vizOpt = nwt.merge({}, opt, viz.options);\n                viz.normalizeData(vizOpt);\n            });\n        },\n\n        getExtents: function (axis) {\n            var field = axis && axis === 'x' ? 'xExtent' : 'yExtent';\n            var dataVis = this._visualizations.filter(function (v) { return nwt.isSupportedDataFormat(v.data); });\n            var all = nwt.flatten(dataVis.map(function (d) { return d[field]; }));\n            return all.length ? d3.extent(all) : [];\n        },\n\n        getXDomain: function () {\n            var dataVis = this._visualizations.filter(function (v) { return nwt.isSupportedDataFormat(v.data); });\n            var all = nwt.uniq(nwt.flatten(dataVis.map(function (d) { return d.xDomain; })));\n\n            return all;\n        }\n\n    };\n};\n\nContour.expose('cartesian', cartesian);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/core/cartesian.js","import Contour from './contour';\nimport * as nwt from '../utils/contour-utils';\n\nvar defaults = {\n    chart: {\n        rotatedFrame: true,\n    },\n\n    xAxis: {\n        orient: 'left'\n    },\n\n    yAxis: {\n        orient: 'bottom'\n    }\n};\n\nvar frame = {\n\n    init: function () {\n        nwt.merge(this.options, defaults);\n    },\n\n    adjustPadding: function () {\n        var categoryLabels = this.options.xAxis.categories || this.dataSrc.map(function (d) { return d.x; });\n        var text = categoryLabels.join('<br>');\n        var xLabel = nwt.textBounds(text, '.x.axis');\n        var yLabel = nwt.textBounds('ABC', '.y.axis');\n        var maxTickSize = function (options) { return Math.max(options.outerTickSize, options.innerTickSize); };\n\n        this.options.chart.internalPadding.left = this.options.chart.padding.left || maxTickSize(this.options.xAxis) + this.options.xAxis.tickPadding + xLabel.width;\n        this.options.chart.internalPadding.bottom = this.options.chart.padding.bottom || maxTickSize(this.options.yAxis) + this.options.yAxis.tickPadding + yLabel.height;\n    },\n\n    adjustTitlePadding: function () {\n        var titleBounds;\n        if (this.options.xAxis.title || this.options.yAxis.title) {\n            if(this.options.xAxis.title) {\n                titleBounds = nwt.textBounds(this.options.xAxis.title, '.x.axis-title');\n                this.options.chart.internalPadding.left += titleBounds.height + this.options.xAxis.titlePadding;\n            }\n\n            if(this.options.yAxis.title) {\n                titleBounds = nwt.textBounds(this.options.yAxis.title, '.y.axis-title');\n                this.options.chart.internalPadding.bottom += titleBounds.height + this.options.yAxis.titlePadding;\n            }\n        }\n    },\n\n    renderYAxis: function () {\n        var yAxis = this.yAxis();\n        var x = this.options.chart.internalPadding.left;\n        var y = this.options.chart.padding.top + this.options.chart.plotHeight;\n\n        this._yAxisGroup = this.svg.selectAll('.y.axis')\n            .data([1]);\n\n        this._yAxisGroup.enter().append('g')\n            .attr('class', 'y axis')\n            .attr('transform', 'translate(' + x+ ',' + y + ')');\n\n        this._yAxisGroup.exit().remove();\n\n        this._yAxisGroup\n                .transition().duration(this._animationDuration())\n                .attr('transform', 'translate(' + x+ ',' + y + ')')\n                .call(yAxis);\n\n        return this;\n    },\n\n    renderXAxis: function () {\n        var x = this.options.chart.internalPadding.left;\n        var y = this.options.chart.padding.top;\n        var xAxis = this.xAxis();\n\n        this._xAxisGroup = this.svg.selectAll('.x.axis')\n            .data([1]);\n\n        this._xAxisGroup.enter().append('g')\n            .attr('class', 'x axis')\n            .attr('transform', 'translate(' + x + ',' + y + ')');\n\n        this._xAxisGroup.exit().remove();\n\n        this._xAxisGroup\n            .transition().duration(this._animationDuration())\n            .attr('transform', 'translate(' + x + ',' + y + ')')\n            .call(xAxis);\n\n        this.xScaleGenerator.postProcessAxis(this._xAxisGroup);\n\n        return this;\n    },\n\n    renderAxisLabels: function () {\n        var lineHeightAdjustment = this.titleOneEm * 0.25; // add 25% of font-size for a complete line-height\n        var adjustFactor = 40/46.609;\n        var el;\n        var bounds, anchor, rotation, tickSize, x, y;\n\n        if (this.options.xAxis.title) {\n            bounds = nwt.textBounds(this.options.xAxis.title, '.x.axis-title');\n            x = this.options.chart.rotatedFrame ? -bounds.height : this.options.chart.plotWidth;\n            y = this.options.chart.rotatedFrame ? -this.options.chart.internalPadding.left : this.options.chart.internalPadding.bottom - lineHeightAdjustment;\n\n            rotation = this.options.chart.rotatedFrame ? '-90' : '0';\n            el = this._xAxisGroup.selectAll('.x.axis-title').data([null]);\n\n            el.enter().append('text')\n                .attr('class', 'x axis-title');\n\n            el.attr('x', 0)\n                .attr('y', y)\n                .attr('transform', ['rotate(', rotation, ')'].join(''))\n                .attr('dy', bounds.height * adjustFactor)\n                .attr('dx', -(this.options.chart.plotHeight + bounds.width) / 2)\n                .text(this.options.xAxis.title);\n\n            el.exit().remove();\n        }\n\n        if (this.options.yAxis.title) {\n            bounds = nwt.textBounds(this.options.yAxis.title, '.y.axis-title');\n            tickSize = Math.max(this.options.yAxis.innerTickSize, this.options.yAxis.outerTickSize);\n            anchor = this.options.chart.rotatedFrame ? 'end' : 'middle';\n            x = this.options.chart.rotatedFrame ? this.options.chart.plotWidth : 0;\n            y = this.options.chart.rotatedFrame ?\n                this.options.chart.internalPadding.bottom:\n                -this.options.chart.internalPadding.left + this.titleOneEm - lineHeightAdjustment;\n\n            rotation = this.options.chart.rotatedFrame ? '0' : '-90';\n\n            el = this._yAxisGroup.selectAll('.y.axis-title').data([null]);\n\n            el.enter().append('text')\n                .attr('class', 'y axis-title');\n\n            el.attr('y', y)\n                .attr('x', x)\n                .attr('dx', -(this.options.chart.plotWidth + bounds.width) / 2)\n                .attr('dy', -4) // just because\n                .attr('transform', ['rotate(', rotation, ')'].join(''))\n                .text(this.options.yAxis.title);\n\n            el.exit().remove();\n        }\n\n        return this;\n    }\n};\n\n/**\n* Sets the visualization frame so that the xAxis is vertical and the yAxis is horizontal.\n*\n* This visualization requires `.cartesian()`.\n*\n* This visualization is a prerequiste for rendering bar charts (`.bar()`).\n*\n* ###Example:\n*\n*     new Contour({el: '.myChart'})\n*        .cartesian()\n*        .horizontal()\n*        .bar([1, 2, 3, 4, 5, 4, 3, 2, 1])\n*        .render()\n*\n* @function horiztonal\n*/\n\nContour.expose('horizontal', frame);\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/core/horizontal-frame.js","import Contour from './contour';\nimport * as nwt from '../utils/contour-utils';\n\nvar root = typeof window === 'undefined' ? this : window;\n\nvar defaultParams = {\n    type: 'image/png', // the mime type of the image; see http://en.wikipedia.org/wiki/Comparison_of_web_browsers#Image_format_support for browser support\n    fileName: 'contour.png', // the fileName for the `download()`\n    target: undefined, // a selector for the container in which to `place()` the image; for example '#image'\n    backgroundColor: '#fff', // the fill color of the image, or `null` for transparent background\n    width: undefined, // the width of the exported image; if `height` is falsy then the height will be scaled proportionally\n    height: undefined // the height of the exported image; if `width` is falsy then the width will be scaled proportionally\n};\n\n// browser capabilities\nvar browser = {\n    checked: false // true after browser capabilities have been checked\n};\n\n// queue of operations to perform synchronously\nvar queue = [];\n// true if working on something\nvar working = false;\n\n\n/**\n* Saves a visualization as an image.\n* You can either trigger a download of the image or place the image within a container.\n*\n* ###Example:\n*\n*     var chart = new Contour(...)\n*         ...\n*         .exportable()\n*         .render();\n*\n*     document.getElementById('save').onclick = function () {\n*         chart.download({\n*             fileName: 'myContourChart.png'\n*         });\n*\n* ###External dependencies:\n*\n* IE9-11 and Safari won't safely export a canvas to which an SVG has been\n* rendered. To get around this limitation in those browsers, we use CanVG\n* (\"canned veggies\"), an implementation of SVG written in JavaScript to\n* render the SVG directly to the canvas. During initialization of the\n* 'exportable' plugin, CanVG is automatically downloaded from\n* http://canvg.googlecode.com/svn/trunk/ if the browser fails the test\n* SVG export.\n*\n* @name exportable\n*/\nvar exportable = function () {\n    // CSS properties to ignore for diff\n    var cssIgnoreDiff = {\n        cssText: 1,\n        parentRule: 1\n    };\n    // CSS properties shared between HTML and SVG\n    var cssSharedSvg = {\n        font: 1,\n        fontFamily: 1,\n        fontSize: 1,\n        fontSizeAdjust: 1,\n        fontStretch: 1,\n        fontStyle: 1,\n        fontVariant: 1,\n        fontWeight: 1,\n        direction: 1,\n        letterSpacing: 1,\n        textDecoration: 1,\n        unicodeBidi: 1,\n        wordSpacing: 1,\n        clip: 1,\n        cursor: 1,\n        display: 1,\n        overflow: 1,\n        visibility: 1,\n        opacity: 1\n    };\n\n\n    // interface\n\n    return {\n        init: function () {\n            // check browser capabilities and set up necessary shims\n            // only do this once per page load\n            if (!browser.checked) {\n                addToQueue(checkBrowser);\n            }\n\n            return this;\n        },\n\n        /**\n        * Saves a visualization as an image, triggering a download.\n        *\n        * ###Browser variations:\n        *\n        * - Chrome saves the image.\n        * - Firefox and IE10-11 display a prompt, then save the image.\n        * - IE9 and Safari open the image in a new tab, enabling the user to manually save the image.\n        *\n        * ###Example:\n        *\n        *     var chart = new Contour(...)\n        *         ...\n        *         .exportable()\n        *         .render();\n        *\n        *     document.getElementById('save').onclick = function () {\n        *         chart.download({\n        *             fileName: 'contour.png',\n        *             width: 640\n        *         });\n        *\n        * @name download\n        * @param {object} options Configuration options specific to downloading the image.\n        * @param {string} options.type Specifies the mime type of the image. See http://en.wikipedia.org/wiki/Comparison_of_web_browsers#Image_format_support for browser support. Default: 'image/png'.\n        * @param {string} options.fileName Specifies the file name for the download. Default: 'contour.png'.\n        * @param {string} options.backgroundColor Specifies the fill color of the image. Use `null` for transparent background. Default: '#fff'.\n        * @param {int} options.width Specifies the width of the exported image. If `height` is falsy then the height is scaled proportionally. Default: `undefined`, which means don't do any scaling.\n        * @param {int} options.height Specifies the height of the exported image. If `width` is falsy then the width is scaled proportionally. Default: `undefined`, which means don't do any scaling.\n        */\n        download: function (options) {\n            var container = this.container;\n\n            addToQueue(function () {\n                exportImage(container, options, 'download');\n            });\n\n            return this;\n        },\n\n        /**\n        * Saves a visualization as an image, placing it within a container.\n        *\n        * ###Example:\n        *\n        *     var chart = new Contour(...)\n        *         ...\n        *         .exportable()\n        *         .render();\n        *     document.getElementById('save').onclick = function () {\n        *         chart.place({\n        *             target: '#image'\n        *         });\n        *\n        * @name place\n        * @param {object} options Configuration options specific to placing the image in a container.\n        * @param {string} options.type Specifies the mime type of the image. See http://en.wikipedia.org/wiki/Comparison_of_web_browsers#Image_format_support for browser support. Default: 'image/png'.\n        * @param {string} options.target Specifies a selector for the container. For example: '#image' will append the image into `<div id=\"image\"></div>`.\n        * @param {string} options.backgroundColor Specifies the fill color of the image. Use `null` for transparent background. Default: '#fff'.\n        * @param {int} options.width Specifies the width of the exported image. If `height` is falsy then the height is scaled proportionally. Default: `undefined`, which means don't do any scaling.\n        * @param {int} options.height specifies the height of the exported image. If `width` is falsy then the width is scaled proportionally. Default: `undefined`, which means don't do any scaling.\n        */\n        place: function (options) {\n            var container = this.container;\n\n            addToQueue(function () {\n                exportImage(container, options, 'place');\n            });\n\n            return this;\n        }\n    };\n\n\n    // SVG to canvas export function\n    // adapted from https://github.com/sampumon/SVG.toDataURL\n    // which based on http://svgopen.org/2010/papers/62-From_SVG_to_Canvas_and_Back/#svg_to_canvas\n    function getSvgDataUrl(svg, options, dataUrlCreated) {\n        switch (options.type) {\n            case 'image/svg+xml':\n                return makeSvgUrl();\n\n            default: // 'image/png' or 'image/jpeg'\n                return makeImageUrl();\n        }\n\n\n        function encodeBase64DataUrl(svgXml) {\n            // https://developer.mozilla.org/en/DOM/window.btoa\n            return 'data:image/svg+xml;base64,' + btoa(svgXml);\n        }\n\n        // convert base64/URLEncoded data component to raw binary data held in a string\n        function dataUrlToBlob(dataUrl) {\n            /*jshint nonstandard:true*/\n            var byteString;\n            if (dataUrl.split(',')[0].indexOf('base64') >= 0) {\n                byteString = atob(dataUrl.split(',')[1]);\n            } else {\n                byteString = unescape(dataUrl.split(',')[1]);\n            }\n\n            // separate out the mime component\n            var mimeString = dataUrl.split(',')[0].split(':')[1].split(';')[0];\n\n            // write the bytes of the string to a typed array\n            var byteArray = new Uint8Array(byteString.length);\n            for (var i = 0; i < byteString.length; i++) {\n                byteArray[i] = byteString.charCodeAt(i);\n            }\n\n            return new Blob([byteArray], {\n                type: mimeString\n            });\n        }\n\n        function makeSvgUrl() {\n            var svgXml = (new XMLSerializer()).serializeToString(svg);\n            var svgDataUrl = encodeBase64DataUrl(svgXml);\n\n            dataUrlCreated(svgDataUrl, null, function () {});\n        }\n\n        function makeImageUrl() {\n            var canvas = document.createElement('canvas');\n            var context = canvas.getContext('2d');\n\n            var svgXml = (new XMLSerializer()).serializeToString(svg);\n\n            if (root.canvg) {\n                // use Canvg renderer for image export\n                renderImageCanvg();\n            } else {\n                // use native renderer for image export (this might fail)\n                renderImageNative();\n            }\n\n            function imageRendered() {\n                var imageDataUrl = canvas.toDataURL(options.type);\n\n                if (browser.createsObjectUrls) {\n                    var imageBlob = dataUrlToBlob(imageDataUrl);\n\n                    var domUrl = root.URL || root.webkitURL;\n                    var objectUrl = domUrl.createObjectURL(imageBlob);\n\n                    dataUrlCreated(objectUrl, imageBlob, function () {\n                        domUrl.revokeObjectURL(objectUrl);\n                    });\n                } else {\n                    dataUrlCreated(imageDataUrl, null, function () {});\n                }\n            }\n\n            function renderImageNative() {\n                var svgImg = new Image();\n                svgImg.src = encodeBase64DataUrl(svgXml);\n\n                svgImg.onload = function () {\n                    canvas.width = svgImg.width;\n                    canvas.height = svgImg.height;\n\n                    if (options.backgroundColor) {\n                        context.fillStyle = options.backgroundColor;\n                        context.fillRect(0, 0, svgImg.width, svgImg.height);\n                    }\n\n                    context.drawImage(svgImg, 0, 0);\n\n                    imageRendered();\n                };\n\n                svgImg.onerror = function () {\n                    throw new Error('Cannot export image');\n                };\n            }\n\n            function renderImageCanvg() {\n                // note that Canvg gets the SVG element dimensions incorrectly if not specified as attributes\n                // also this Canvg call is synchronous and blocks\n                canvg(canvas, svgXml, {\n                    ignoreMouse: true,\n                    ignoreAnimation: true,\n                    offsetX: undefined,\n                    offsetY: undefined,\n                    scaleWidth: undefined,\n                    scaleHeight: undefined,\n                    renderCallback: imageRendered\n                });\n            }\n        }\n    }\n\n\n    // clone SVG in isolation with styles directly applied\n    function createSvgClone(svgNode, svgCloned) {\n        createIsolatedNode(function (nodeClone, destroyIsolatedNode) {\n            // clone nodes and apply styles directly to each node\n            cloneNodes(svgNode, nodeClone);\n\n            // clone legend DIV as SVG\n            cloneLegendDiv(svgNode, nodeClone);\n\n            svgCloned(d3.select(nodeClone).select('svg').node(), destroyIsolatedNode);\n        });\n\n\n        // compare computed styles at this node and apply the differences directly\n        function applyStyles(sourceNode, targetNode) {\n            var sourceStyle = root.getComputedStyle(sourceNode);\n            var targetStyle = root.getComputedStyle(targetNode);\n\n            for (var prop in sourceStyle) {\n                if (!cssIgnoreDiff[prop] && !isFinite(prop)) {\n                    // note that checking for sourceStyle.hasOwnProperty(prop) eliminates all valid style properties in Firefox\n                    if (targetStyle[prop] !== sourceStyle[prop]) {\n                        targetNode.style[prop] = sourceStyle[prop];\n                    }\n                }\n            }\n        }\n\n        // clone nodes and apply styles directly to each node\n        function cloneNodes(sourceNode, targetNode) {\n            var newNode = sourceNode.cloneNode(false);\n            targetNode.appendChild(newNode);\n\n            if (!sourceNode.tagName) return; // skip inner text\n\n            // compare computed styles at this node and apply the differences directly\n            applyStyles(sourceNode, newNode);\n\n            [].forEach.call(sourceNode.childNodes, function (childNode) {\n                // clone each child node and apply styles\n                cloneNodes(childNode, newNode);\n            });\n        }\n\n        function createIsolatedNode(nodeLoaded) {\n            var iframe = document.body.appendChild(document.createElement('iframe'));\n            iframe.style.visibility = 'hidden';\n            var iframeWindow = iframe.contentWindow;\n            var iframeDocument = iframeWindow.document;\n\n            iframe.onload = function () {\n                var nodeClone = iframeDocument.createElement('div');\n                iframeDocument.body.appendChild(nodeClone);\n\n                var destroyIframe = function () {\n                    // destroy clone\n                    iframeDocument.body.removeChild(nodeClone);\n                    document.body.removeChild(iframe);\n                };\n\n                nodeLoaded(nodeClone, destroyIframe);\n            };\n\n            iframeDocument.open();\n            iframeDocument.write('<!DOCTYPE html>');\n            iframeDocument.write('<html><head></head><body></body></html>');\n            iframeDocument.close();\n        }\n\n        function applyDivStylesToSvg(sourceNode, target) {\n            var targetNode = target.node();\n            var sourceStyle = root.getComputedStyle(sourceNode);\n            var targetStyle = root.getComputedStyle(targetNode);\n\n            for (var prop in sourceStyle) {\n                if (cssSharedSvg[prop]) {\n                    // note that checking for sourceStyle.hasOwnProperty(prop) eliminates all valid style properties in Firefox\n                    if (targetStyle[prop] !== sourceStyle[prop]) {\n                        targetNode.style[prop] = sourceStyle[prop];\n                    }\n                }\n            }\n\n            // translate DIV styles to SVG attributes and styles\n            switch (targetNode.nodeName) {\n            case 'rect':\n                target.attr({\n                    'rx': sourceStyle.borderTopLeftRadius,\n                    'ry': sourceStyle.borderTopLeftRadius\n                });\n                target.style({\n                    'fill': sourceStyle.backgroundColor,\n                    'stroke': sourceStyle.borderLeftColor,\n                    'stroke-width': sourceStyle.borderLeftWidth\n                });\n                break;\n            case 'text':\n                target.style({\n                    'fill': sourceStyle.color\n                });\n                break;\n            }\n        }\n\n        function cloneLegendDiv(sourceNode, targetNode) {\n            var containerDiv = d3.select(sourceNode.parentNode).select('div.contour-legend');\n            if (containerDiv.empty()) return;\n\n            var containerDivNode = containerDiv.node();\n\n            var containerSvg = d3.select(targetNode).select('svg').append('g')\n                .attr('transform', 'translate(' + (containerDivNode.offsetLeft + containerDivNode.clientLeft) +\n                    ',' + (containerDivNode.offsetTop + containerDivNode.clientTop) + ')');\n            applyDivStylesToSvg(containerDivNode, containerSvg);\n\n            var rect = containerSvg.append('rect')\n                .attr('width', containerDivNode.clientWidth)\n                .attr('height', containerDivNode.clientHeight);\n            applyDivStylesToSvg(containerDivNode, rect);\n\n            var entriesDivs = containerDiv.selectAll('.contour-legend-entry');\n\n            entriesDivs[0].forEach(function (entryDivNode) {\n                var entryDiv = d3.select(entryDivNode);\n\n                var enter = containerSvg.append('g');\n                applyDivStylesToSvg(entryDivNode, enter);\n\n                var entryDivKeyNode = getEntryDivSubNode('.contour-legend-key');\n                var swatch = enter.append('rect')\n                    .attr('x', entryDivKeyNode.offsetLeft)\n                    .attr('y', entryDivKeyNode.offsetTop)\n                    .attr('width', entryDivKeyNode.offsetWidth - 2)\n                    .attr('height', entryDivKeyNode.offsetHeight - 2);\n                applyDivStylesToSvg(entryDivKeyNode, swatch);\n\n                var entryDivSeriesNode = getEntryDivSubNode('.series-name');\n                var text = enter.append('text')\n                    .attr('x', entryDivSeriesNode.offsetLeft + 1)\n                    .attr('y', entryDivSeriesNode.offsetTop + entryDivSeriesNode.offsetHeight - entryDivSeriesNode.offsetParent.clientTop - 2)\n                    .text(entryDivSeriesNode.textContent);\n                applyDivStylesToSvg(entryDivSeriesNode, text);\n\n                function getEntryDivSubNode(selector) {\n                    return entryDiv.select(selector).node();\n                }\n            });\n        }\n    }\n\n\n    function getProportionedBounds(original, specified) {\n        if (specified.width && specified.height) {\n            return specified;\n        } else if (specified.width) {\n            return {\n                width: specified.width,\n                height: specified.width * original.height / original.width\n            };\n        } else if (specified.height) {\n            return {\n                width: specified.height * original.width / original.height,\n                height: specified.height\n            };\n        } else {\n            return original;\n        }\n    }\n\n\n    function exportImage(container, options, exporter) {\n        startWork();\n\n        // merge configuration options with defaults\n        options = options || {};\n        nwt.defaults(options, defaultParams);\n\n        var svgNode = container.select('svg').node();\n        // get bounds from original SVG, and proportion them based on specified options\n        var bounds = svgNode.getBoundingClientRect();\n        var boundsClone = getProportionedBounds(bounds, options);\n\n        // clone SVG in isolation with styles directly applied\n        createSvgClone(svgNode, performExport);\n\n        function performExport(svgNodeClone, destroySvgClone) {\n            svgNodeClone.setAttribute('width', boundsClone.width);\n            svgNodeClone.setAttribute('height', boundsClone.height);\n\n            // Safari can only open a new tab with the image\n            // the tab must be opened before `getSvgDataUrl()` to avoid getting blocked due to asynchronous callbacks\n            var win;\n            if (exporter === 'download' && !(browser.aDownloads || browser.savesMsBlobs)) {\n                win = root.open();\n            }\n\n            getSvgDataUrl(svgNodeClone, options, function (url, blob, revokeUrl) {\n                destroySvgClone();\n\n                // exporter functions\n                var exporters = {\n                    'download': function () {\n                        if (browser.aDownloads) {\n                            // make a link to download and click it\n                            var a = document.createElement('a');\n                            a.download = options.fileName;\n                            a.href = url;\n                            document.body.appendChild(a);\n                            a.click();\n                            document.body.removeChild(a);\n                        } else if (browser.savesMsBlobs && blob) {\n                            // IE10-11 support a method to save/open a blob\n                            navigator.msSaveOrOpenBlob(blob, options.fileName);\n                        } else {\n                            // Safari and IE9 can only open a new tab with the image\n                            if (!win) {\n                                // in case `blob` was falsy or the `open()` above returned undefined, `win` will be undefined, so attempt here (and this might return undefined as well)\n                                win = root.open();\n                            }\n                            if (win) {\n                                if (browser.createsObjectUrls) {\n                                    // Safari can set the url of the newly-opened tab to the object URL of the blob\n                                    win.location = url;\n                                } else {\n                                    // for IE9, create a document with the image\n                                    var doc = win.document;\n                                    doc.write('<!DOCTYPE html>');\n                                    doc.write('<html><head></head><body>');\n                                    doc.write('<img src=\"' + url + '\">');\n                                    doc.write('</body></html>');\n                                }\n                            }\n                        }\n                        // wait for download to start\n                        setTimeout(function () {\n                            revokeUrl();\n                            finishWork();\n                        }, 1);\n                    },\n                    'place': function () {\n                        var img = document.createElement('img');\n                        img.onload = function () {\n                            revokeUrl();\n                            finishWork();\n                        };\n                        img.src = url;\n                        d3.select(options.target).node().appendChild(img);\n                    }\n                };\n                // call exporter function\n                exporters[exporter]();\n            });\n        }\n    }\n};\n\n\n// queue functions\n\n// queue will wait until any asynchronous tasks are complete prior to calling the next fn()\nfunction addToQueue(fn) {\n    if (working) {\n        queue.push(fn);\n    } else {\n        fn();\n    }\n}\n\n// call before starting an asynchronous task\nfunction startWork() {\n    working = true;\n}\n\n// call after finishing an asynchronous task\nfunction finishWork() {\n    working = false;\n\n    var fn = queue.shift();\n    if (fn) {\n        fn();\n    }\n}\n\n\n// check browser capabilities and set up necessary shims\nfunction checkBrowser() {\n    startWork();\n    browser.checked = true;\n\n    checkEncodesBase64();\n    checkADownloads();\n    checkSavesMsBlobs();\n    checkCreatesObjectUrls();\n    checkExportsSvg(finishWork);\n\n\n    function checkEncodesBase64() {\n        browser.encodesBase64 = !!root.btoa;\n\n        // setup shim for IE9\n        if (!browser.encodesBase64) {\n            setupBase64Shim();\n        }\n    }\n\n    function checkADownloads() {\n        browser.aDownloads = document.createElement('a').download !== undefined;\n    }\n\n    function checkSavesMsBlobs() {\n        browser.savesMsBlobs = !!navigator.msSaveOrOpenBlob;\n    }\n\n    function checkCreatesObjectUrls() {\n        var domUrl = root.URL || root.webkitURL;\n        browser.createsObjectUrls = domUrl && domUrl.createObjectURL;\n    }\n\n    function checkExportsSvg() {\n        startWork();\n\n        browser.exportsSvg = false;\n\n        var iframe = document.body.appendChild(document.createElement('iframe'));\n        iframe.style.visibility = 'hidden';\n        var doc = iframe.contentWindow.document;\n\n        iframe.onload = function () {\n            try {\n                var svg = doc.querySelector('svg');\n                var img = doc.querySelector('img');\n                var canvas = doc.querySelector('canvas');\n                var context = canvas.getContext('2d');\n                canvas.width = img.getAttribute('width') * 1;\n                canvas.height = img.getAttribute('height') * 1;\n                var sourceImg = new Image();\n                sourceImg.width = canvas.width;\n                sourceImg.height = canvas.height;\n                sourceImg.onload = function () {\n                    try {\n                        context.drawImage(sourceImg, 0, 0, img.width, img.height);\n                        img.src = canvas.toDataURL();\n\n                        browser.exportsSvg = true; // yay\n                    } catch (e) {}\n\n                    svgExportChecked();\n                };\n                var xml = (new XMLSerializer()).serializeToString(svg);\n                sourceImg.src = 'data:image/svg+xml,' + encodeURIComponent(xml);\n            } catch (e) {\n                svgExportChecked();\n            }\n        };\n\n        doc.open();\n        doc.write('<!DOCTYPE html>');\n        doc.write('<html><head></head><body>');\n        doc.write('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"2\" height=\"2\" viewBox=\"0 0 1 1\"><circle r=\"1\" fill=\"red\"/></svg>');\n        doc.write('<img width=\"2\" height=\"2\">');\n        doc.write('<canvas></canvas>');\n        doc.write('</body></html>');\n        doc.close();\n\n\n        function svgExportChecked() {\n            document.body.removeChild(iframe);\n\n            // load Canvg SVG renderer for browsers that can't safely export SVG\n            if (browser.exportsSvg) {\n                finishWork();\n            } else {\n                setupCanvgShim(finishWork);\n            }\n        }\n    }\n\n    // base64 shim, for IE9\n    function setupBase64Shim() {\n        var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n        function InvalidCharacterError(message) {\n            this.message = message;\n        }\n        InvalidCharacterError.prototype = new Error();\n        InvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n        // base64 encoder\n        // from https://gist.github.com/999166\n        root.btoa = function (input) {\n            var str = String(input);\n            for (\n                // initialize result and counter\n                var block, charCode, idx = 0, map = chars, output = '';\n                // if the next str index does not exist:\n                //   change the mapping table to \"=\"\n                //   check if d has no fractional digits\n                str.charAt(idx | 0) || (map = '=', idx % 1);\n                // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n                output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n            ) {\n                charCode = str.charCodeAt(idx += 3 / 4);\n                if (charCode > 0xFF) {\n                    throw new InvalidCharacterError('\"btoa\" failed: The string to be encoded contains characters outside of the Latin1 range.');\n                }\n                block = block << 8 | charCode;\n            }\n            return output;\n        };\n    }\n\n    // Canvg shim, for IE9-11 and Safari\n    function setupCanvgShim(done) {\n        var scripts = [\n            'https://cdnjs.cloudflare.com/ajax/libs/canvg/1.4/rgbcolor.min.js',\n            'https://cdnjs.cloudflare.com/ajax/libs/stackblur-canvas/1.4.1/stackblur.min.js',\n            'https://cdn.jsdelivr.net/npm/canvg/dist/browser/canvg.min.js'\n        ];\n        var remaining = scripts.length;\n        scripts.forEach(function (srcURL) {\n            var script = document.createElement('script');\n            script.type = 'text/javascript';\n            script.onload = function () {\n                remaining--;\n                if (remaining === 0) done();\n            };\n            script.src = srcURL;\n            document.head.appendChild(script);\n        });\n    }\n}\n\n\nContour.expose('exportable', exportable);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/core/exportable.js","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nvar defaults = {\n    xAxis: {\n        type: 'linear'\n    },\n    area: {\n        stacked: true,\n        areaBase: undefined,\n    }\n};\n\ndefaults.area.preprocess = nwt.minMaxFilter(1000);\n\nfunction renderer(data, layer, options) {\n    this.checkDependencies('cartesian');\n    var duration = options.chart.animations.duration != null ? options.chart.animations.duration : 400;\n    var x = function (val) { return this.xScale(val) + this.rangeBand / 2 + 0.5; }.bind(this);\n    var y = function (val) { return this.yScale(val) + 0.5; }.bind(this);\n    var h = options.chart.plotHeight;\n    var classFn = function (d, i) { return 'series s-' + (i+1) + ' ' + d.name; };\n    var stack = d3.layout.stack().values(function (d) { return d.data; });\n\n    var startArea = d3.svg.area()\n        .x(function(d) { return x(d.x); })\n        .y0(function (d) { return h; })\n        .y1(function(d) { return h; });\n\n    var areaBase = options.area.areaBase != null ? options.area.areaBase : options.yAxis.min;\n    var area = d3.svg.area()\n        .x(function(d) { return x(d.x); })\n        .y0(function (d) { return options.area.stacked ? y(d.y0 || areaBase || 0) : y(0); })\n        .y1(function(d) { return y((options.area.stacked ? d.y0 : 0) + d.y); });\n\n    if(options.area.smooth) {\n        area.interpolate('cardinal');\n        startArea.interpolate('cardinal');\n    }\n\n    renderSeries();\n\n    if (options.tooltip && options.tooltip.enable)\n        renderTooltipTrackers();\n\n    function renderSeries() {\n        data = options.area.preprocess(data);\n\n        var series = layer.selectAll('g.series')\n                .data(stack(data));\n\n        series.enter()\n            .append('svg:g')\n            .append('path').datum(function (d) { return d.data; })\n                .attr('class', 'area')\n                .attr('d', startArea);\n\n        series.attr('class', classFn);\n        series.exit().remove();\n\n        if (options.chart.animations && options.chart.animations.enable) {\n            series.select('.area')\n                .datum(function (d) { return d.data; })\n                .transition().duration(options.chart.animations.duration || duration)\n                .attr('d', area);\n        } else {\n            series.select('.area')\n                .datum(function (d) { return d.data; })\n                .attr('d', area);\n        }\n    }\n\n    function renderTooltipTrackers() {\n        var trackerSize = 10;\n        // add the tooltip trackers regardless\n        var markers = layer.selectAll('.tooltip-trackers')\n            .data(data, function (d) { return d.name; });\n\n        markers.enter().append('g')\n            .attr('class', 'tooltip-trackers');\n\n        markers.exit().remove();\n\n        var blocks = markers.selectAll('.tooltip-tracker')\n                .data(function (d) {\n                    return d.data;\n                }, function (d, i) {\n                    return [d.x,d.y,d.y0].join('&');\n                });\n\n        blocks.enter().append('rect')\n                .attr('class', 'tooltip-tracker')\n                .attr('opacity', 0)\n                .attr('width', trackerSize * 2);\n\n        blocks.attr('x', function(d) { return x(d.x) - trackerSize; })\n            .attr('y', function(d) { return y((options.area.stacked ? d.y0 : 0) + d.y); })\n            .attr('height', function(d) { return y(0) - y(d.y); });\n\n        blocks.exit().remove();\n\n    }\n}\n\nrenderer.defaults = defaults;\n\n/**\n* Adds an area chart to the Contour instance.\n*\n* Area charts are stacked by default when the _data_ includes multiple series.\n*\n* This visualization requires `.cartesian()`.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*           .cartesian()\n*           .area([1,2,3,4])\n*           .render();\n*\n* @name area(data, options)\n* @param {object|array} data The _data series_ to be rendered with this visualization. This can be in any of the supported formats.\n* @param {object} [options] Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n*/\nContour.export('area', renderer);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/area.js","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nvar defaults = {\n    bar: {\n        barClass: null,\n        style: null,\n        stacked: false,\n        groupPadding: 2,      // two px between same group bars\n        barWidth: function() { return this.rangeBand; },\n        offset: function() { return 0; },\n        preprocess: function(data) {\n            return data;\n        }\n    }\n};\n\nfunction barRender(data, layer, options) {\n    this.checkDependencies(['cartesian', 'horizontal']);\n    var duration = options.chart.animations.duration != null ? options.chart.animations.duration : 400;\n    var _this = this;\n    var opt = options.bar;\n    var rectClass = opt.barClass;\n    var style = opt.style;\n    var x = function (d) { return _this.xScale(d) - 0.5; };\n    var y = function (d) { \n        const yScale =  _this.yScale(d) + 0.5; \n        return yScale;\n    };\n    var chartOffset = nwt.getValue(opt.offset, 0, this);\n    var rangeBand = nwt.getValue(opt.barWidth, this.rangeBand, this);\n    var stack = nwt.stackLayout();\n    var update = options.bar.stacked ? stacked : grouped;\n    var enter = nwt.partialRight(update, true);\n    var classFn = function (d, i) { return 'series s-' + (i+1) + ' ' + d.name; };\n\n    data = options.bar.preprocess(data);\n    var series = layer.selectAll('g.series')\n        .data(stack(data));\n\n    series.enter().append('svg:g');\n    series.attr('class', classFn);\n    series.exit().remove();\n\n    var bars = series.selectAll('.bar')\n        .data(function (d) { return d.data; });\n\n    var cssClass = 'bar' + (options.tooltip.enable ? ' tooltip-tracker' : '');\n    bars.enter().append('rect')\n        .attr('class', function (d, i, j) {\n            if (!rectClass) return cssClass;\n\n            return cssClass + ' ' + (typeof rectClass === 'function' ? rectClass.call(this, d, i, j) : rectClass);\n        })\n        .call(enter);\n\n    if(options.chart.animations && options.chart.animations.enable) {\n        bars\n            .attr('style', style)\n            .transition().duration(duration).call(update);\n        bars.exit()\n            .transition().duration(duration)\n            .attr('width', y(0))\n            .remove();\n    } else {\n        bars.attr('style', style).call(update);\n        bars.exit().remove();\n    }\n\n    function stacked(bar, enter) {\n        bar\n            .attr('y', function (d) { return x(d.x) + chartOffset; })\n            .attr('height', rangeBand);\n\n        if (enter) {\n            return bar\n                .attr('x', function (d) { return y(0); })\n                .attr('width', function (d) { return 0; });\n\n        } else {\n            return bar\n                .attr('x', function (d) { return d.y >= 0 ? y(d.y0 || 0) : y(d.y + d.y0); })\n                .attr('width', function (d) { return d.y >=0 ? y(d.y) - y(0) : y(0) - y(d.y); });\n        }\n    }\n\n    function grouped(bar, enter) {\n        var numSeries = data.length;\n        var height = function () { \n            const h = rangeBand / numSeries - options.bar.groupPadding + 0.5; \n            return h;\n        };\n        var offset = function (d, i) { return rangeBand / numSeries * i + 0.5; };\n\n        bar.attr('y', function (d, i, j) { return x(d.x) + offset(d, j) + chartOffset; })\n            .attr('height', height);\n\n        if (enter) {\n            return bar\n                .attr('x', y(0))\n                .attr('width', function (d) { return 0.5; });\n        } else {\n            return bar\n                .attr('width', function (d) { return d.y >= 0 ? y(d.y) - y(0) : y(0) - y(d.y); })\n                .attr('x', function (d) { return d.y < 0 ? y(d.y) : y(0); });\n        }\n    }\n}\n\nbarRender.defaults = defaults;\n/**\n* Adds a bar chart (horizontal columns) to the Contour instance.\n*\n* You can use this visualization to render both stacked and grouped charts (controlled through the _options_).\n*\n* This visualization requires `.cartesian()` and `.horizontal()`.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*       .cartesian()\n*       .horizontal()\n*       .bar([1,2,3,4])\n*       .render();\n*\n* @name bar(data, options)\n* @param {object|array} data The _data series_ to be rendered with this visualization. This can be in any of the supported formats.\n* @param {object} [options] Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n*/\nContour.export('bar', barRender);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/bar.js","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nvar defaults = {\n    column : {\n        // specifies a class string or function that will be added to each column\n        columnClass: null,\n        style: null,\n        stacked: false,\n        groupPadding: 1,\n        columnWidth: function() { return this.rangeBand; },\n        offset: function() { return 0; }\n    }\n};\n\nfunction render(data, layer, options) {\n    this.checkDependencies('cartesian');\n    var duration = options.chart.animations.duration != null ? options.chart.animations.duration : 400;\n    var opt = options.column;\n    var h = options.chart.plotHeight;\n    var rectClass = options.column.columnClass;\n    var rectStyle = options.column.style;\n    var _this = this;\n    var x = function (v) { return Math.round(_this.xScale(v)) + 0.5; };\n    var y = function (v) { return Math.round(_this.yScale(v)) - 0.5; };\n    var dataKey = function (d) { return d.data; };\n    var chartOffset = nwt.getValue(opt.offset, 0, this);\n    var rangeBand = nwt.getValue(opt.columnWidth, this.rangeBand, this);\n    var enter = nwt.partialRight((options.column.stacked ? stacked : grouped), true);\n    var update = options.column.stacked ? stacked : grouped;\n    var filteredData = data.map(function (series, j) {\n        return {\n            name: series.name,\n            data: series.data.filter(function (d, i) {\n                return i === 0 ? true : x(d.x) !== x(series.data[i-1].x);\n            })\n        };\n    });\n    var classFn = function(d, i) {\n        return d.name + \" series s-\" + (i + 1) + ' ' + d.name;\n    };\n\n    var stack = nwt.stackLayout();\n    var series = layer.selectAll('g.series')\n            .data(stack(filteredData));\n\n    series.enter().append('g');\n    series.attr(\"class\", classFn);\n    series.exit().remove();\n\n    var cols = series.selectAll('.column')\n            .data(dataKey, function (d) { return d.x || d; });\n\n    var cssClass = 'column' + (options.tooltip.enable ? ' tooltip-tracker' : '');\n\n    cols.enter()\n        .append('rect')\n        .attr('class', function (d, i, j) {\n            if (!rectClass) return cssClass;\n\n            return cssClass + ' ' + (typeof rectClass === 'function' ? rectClass.call(this, d, i, j) : rectClass);\n        })\n        .call(enter);\n\n    if (options.chart.animations && options.chart.animations.enable) {\n        cols.exit()\n            .transition().duration(duration)\n            .attr('y', h)\n            .attr('height', function () { return 0.5; })\n            .remove();\n        cols.transition().duration(duration)\n            .call(update);\n    } else {\n        cols.exit().remove();\n        cols.call(update);\n    }\n\n    // for every update\n    cols.attr('style', rectStyle);\n\n    function stacked(col, enter) {\n        var base = y(0);\n\n        col.attr('x', function (d) { return x(d.x) + chartOffset; })\n            .attr('width', function () { return rangeBand; });\n\n        if (enter) {\n            col.attr('y', function (d) { return d.y >= 0 ? base : base; })\n                .attr('height', function (d) { return 0.5; });\n        } else {\n            col.attr('y', function (d) { return d.y >= 0 ? y(d.y) + y(d.y0) - base : y(d.y0) ; })\n                .attr('height', function (d) { return d.y >=0 ? base - y(d.y) : y(d.y) - base; });\n        }\n    }\n\n    function grouped(col, enter) {\n        var width = rangeBand / data.length - opt.groupPadding + 0.5;\n        var offset = function (d, i) { return rangeBand / data.length * i + 0.5; };\n        var base = y(0);\n\n        col.attr('x', function (d, i, j) { return x(d.x) + offset(d, j) + chartOffset; })\n            .attr('width', width);\n\n        if (enter) {\n            col.attr('y', base)\n                .attr('height', 0);\n        } else {\n            col.attr('y', function (d) { return d.y >= 0 ? y(d.y) : base; })\n                .attr('height', function (d) { return d.y >= 0 ? base - y(d.y) : y(d.y) - base; });\n        }\n    }\n}\n\nrender.defaults = defaults;\n\n/**\n* Adds a column chart (vertical columns) to the Contour instance.\n*\n* This visualization requires `.cartesian()`.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*           .cartesian()\n*           .column([1,2,3,4])\n*           .render();\n*\n* @name column(data, options)\n* @param {object|array} data The _data series_ to be rendered with this visualization. This can be in any of the supported formats.\n* @param {object} [options] Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n*/\nContour.export('column', render);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/column.js","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nContour.export('coolNarwhal', function (data, layer) {\n    layer.append('path')\n        .attr('class', 'cool')\n        .attr('opacity', 0)\n        .attr('transform', 'scale(.5) translate(500 150)')\n        .attr('d', 'M-220.02,76.509l-0.78,8.927c-0.956,10.949,1.389,20.422,6.188,30.383c10.203,21.173,63.095,84.05,93.72,115.075c20.145,20.406,19.487,23.018,21.549,40.122c2.487,20.621,24.897,66.462,40.838,71.269 c15.086,4.549,12.91-12.398,13.319-37.83c5.746,2.457,10.917,5.638,20.206,12.697c61.697,46.892,139.734,69.97,206.5,71.733c46.209,1.221,81.432-7.081,142.957-33.694c40.484-17.512,54.271-22.098,65.639-21.504c4.432,0.232,22.678,11.204,41.746,21.563c35.398,19.229,69.457,34.595,75.896,34.239c12.609-1.457-0.701-11.783-8.072-24.217c-7.049-11.892-15.414-29.572-18.844-42.134s-4.723-22.272-8.91-27.091c-2.143-2.463-12.812-6.786-21.189-8.146c-18.045-2.933-22.191-2.922-13.531-8.957c13.076-9.115,17.377-11.039,1.826-29.068c-6.383-7.402-11.336-20.003-13.709-39.542c-1.607-13.237,1.057-23.679-3.869-27.451s-17.271,12.341-20.846,19.334c-2.01,3.937-7.102,19.005-11.312,33.485c-13.795,47.427-29.865,65.742-62.693,71.447c-34.361,5.971-71.623-9.506-116.543-48.404c-13.164-11.399-29.533-25.26-39.254-36.913c-13.428-16.101-15.48-18.138-19.785-20.66c-16.166-9.472-54.98-31.694-103.525-63.815c-24.393-16.141-57.72-36.928-71.453-43.693c-27.236-13.417-68.416-28.952-90.731-46.771c-24.665-19.697-38.108-19.793-67.804-5.479c-21.429,10.328-23.941,15.298-26.52,15.726c-8.216-10.129-22.917-11.198-31.647-20.682c-9.529-10.35-28.027-14.098-37.824-24.957c-10.668-11.826-31.25-16.752-40.886-26.94c-11.339-11.989-29.387-16.096-40.838-26.637c-11.617-10.694-27.159-14.843-37.68-24.045c-10.383-9.082-23.187-12.538-31.408-19.163c-8.193-6.601-16.593-9.444-22.026-11.993c-5.433-2.549-7.398-2.522-7.658-1.927c-0.26,0.594,1.355,2.955,6.054,6.447c4.699,3.491,22.193,18.451,31.645,22.77c10.921,5.104,17.502,15.01,29.671,21.375c13.224,6.918,22.212,18.731,36.229,25.924c15.53,7.971,24.754,21.184,39.657,28.253c16.462,7.808,25.503,21.598,39.958,28.36c14.499,6.78,20.647,20.252,34.429,23.428C-238.033,58.207-227.932,70.443-220.02,76.509L-220.02,76.509z')\n        .transition()\n            .delay(300)\n            .duration(2000)\n            .attr('opacity', 1);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/cool-narwhal.js","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nvar defaults = {\n    legend: {\n        vAlign: 'middle',\n        hAlign: 'right',\n        direction: 'vertical',\n        enabled: true,\n        formatter: function (d) {\n            return d.name;\n        },\n        el: undefined\n    }\n};\n\nfunction validAlignmentClasses(options) {\n    var classes = [];\n    if (['top', 'middle', 'bottom'].indexOf(options.legend.vAlign) !== -1) {\n        classes.push(options.legend.vAlign);\n    } else {\n        classes.push('top');\n    }\n\n    if (['left', 'center', 'right'].indexOf(options.legend.hAlign) !== -1) {\n        classes.push(options.legend.hAlign);\n    } else {\n        classes.push('right');\n    }\n\n    if (options.legend.direction === 'vertical') {\n        classes.push('vertical');\n    }\n\n    return classes;\n}\n\nfunction Legend(data, layer, options) {\n    if (options.legend.enabled === false) {\n        return;\n    }\n    var container;\n    if (options.legend.el) {\n        container = d3.select(options.legend.el).node();\n        while (container.firstChild) {\n            container.removeChild(container.firstChild);\n        }\n    } else {\n        this.container.selectAll('.contour-legend').remove();\n    }\n    var em = nwt.textBounds('series', '.contour-legend.contour-legend-entry');\n    var count = data.length;\n    var legendHeight = (em.height + 4) * count + 12; // legend has 1px border and 5px margin (12px) and each entry has ~2px margin\n    var mid = (options.chart.plotHeight - legendHeight) / 2;\n    var positioner = function (selection) {\n        // adjust position of legend only when is horizontally centered\n        // since we need to have all elements in the legend to calculate its width\n        if (options.legend.hAlign !== 'center' || !selection.length) {\n            return ;\n        }\n\n        // adjust the left\n        var legendWidth = selection[0].parentNode.clientWidth;\n        var left = (options.chart.plotWidth - legendWidth) / 2 + options.chart.internalPadding.left;\n\n        d3.select(selection[0].parentNode)\n            .style('left', left + 'px');\n    };\n\n    if (options.legend.el) {\n        container = d3.select(options.legend.el);\n    } else {\n        var legend = this.container.selectAll('.contour-legend').data([null]);\n        container = legend.enter().append('div');\n    }\n\n    container.attr('class', function () {\n        return ['contour-legend'].concat(validAlignmentClasses(options)).join(' ');\n    });\n\n    container.attr('style', function () {\n        var styles = [];\n\n        if (options.legend.vAlign === 'top') {\n            styles.push('top: 0');\n        } else if (options.legend.vAlign === 'middle') {\n            styles.push('top: ' + mid + 'px');\n        } else {\n            styles.push('bottom: ' + (options.chart.internalPadding.bottom + 5) + 'px');\n        }\n\n        if (options.legend.hAlign === 'left') {\n            styles.push('left: ' + options.chart.plotLeft + 'px');\n        } else if (options.legend.hAlign === 'center') {\n            var bounds = nwt.textBounds(this, '.contour-legend');\n\n            styles.push('left: ' + ((options.chart.plotWidth - bounds.width) / 2 + options.chart.internalPadding.left) + 'px' );\n        } else {\n            styles.push('right: 10px');\n        }\n\n        return styles.join(';');\n    });\n\n    var entries = container.selectAll('.contour-legend-entry')\n        .data(data);\n\n    entries.enter()\n        .append('div')\n        .attr('class', function () {\n            return 'contour-legend-entry';\n        });\n\n    entries.append('span')\n        .attr('class', function (d, i) { return 'contour-legend-key series s-' + (i+1) + ' ' + nwt.seriesNameToClass(d.name); });\n\n    entries.append('span')\n        .attr('class', 'series-name')\n        .text(options.legend.formatter)\n        .call(positioner);\n\n    entries.exit()\n        .remove();\n}\n\nLegend.defaults = defaults;\n\n/**\n* Adds a legend to the Contour instance. One entry is added to the legend for each series in the data.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*           .cartesian()\n*           .column(data)\n*           .legend(data)\n*           .render();\n*\n* @name legend(data, options)\n* @param {object|array} data The _data series_ for which to create a legend. This can be in any of the supported formats.\n* @param {object} [options] Configuration options particular to this visualization that override the defaults.\n* @api public\n* @see {core_config/config.legend} legend options\n*\n*/\n\nContour.export('legend', Legend);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/legend.js","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nvar defaults = {\n    xAxis: {\n        type: 'linear'\n    },\n    line: {\n        stacked: false,\n        smooth: false,\n        animationDirection: 'left-to-right',\n        // animationDirection: 'bottom-to-top',\n        marker: {\n            enable: true,\n            size: 3,\n            animationDelay: null\n        },\n    }\n};\n\ndefaults.line.preprocess = nwt.minMaxFilter(1000);\nvar duration;\nvar animationDirection;\nvar animationsMap = {\n    'left-to-right': {\n        enter: function (line) {\n            var path = this;\n            path.each(function () {\n                var totalLength = this.getTotalLength();\n                d3.select(this)\n                    .attr('stroke-dasharray', totalLength + ' ' + totalLength)\n                    .attr('stroke-dashoffset', totalLength)\n                    .transition().duration(duration).ease('linear')\n                        .attr('stroke-dashoffset', 0)\n                        .transition().duration(0)\n                            .attr('stroke-dasharray', undefined);\n            });\n        },\n\n        update: function (line) {\n            this.attr('d', function (d) { return line(d.data); });\n            this.each(function () {\n                var totalLength = this.getTotalLength();\n                d3.select(this)\n                    .attr('stroke-dasharray', totalLength + ' ' + totalLength)\n                    .attr('stroke-dashoffset', totalLength)\n                    .transition().duration(duration).ease('linear')\n                        .attr('stroke-dashoffset', 0)\n                        .transition().duration(0)\n                            .attr('stroke-dasharray', undefined);\n            });\n        }\n    },\n\n    'bottom-to-top': {\n        enter: function (line) {\n            this.transition().duration(duration)\n                .attr('d', function (d) { return line(d.data); });\n        },\n\n        update: function (line) {\n            this.transition().duration(duration)\n                .attr('d', function (d) { return line(d.data); });\n        }\n    }\n};\n\n\nfunction render(rawData, layer, options, id) {\n    this.checkDependencies('cartesian');\n\n    var x = function (d) { return this.xScale(d.x) + this.rangeBand / 2 + 0.5; }.bind(this);\n    var y = function (d) { return this.yScale(d.y + (d.y0 || 0)) + 0.5; }.bind(this);\n    var shouldAnimate = options.chart.animations && options.chart.animations.enable;\n    animationDirection = options.line.animationDirection || 'left-to-right';\n    duration = options.chart.animations.duration != null ? options.chart.animations.duration : 400;\n    // jshint eqnull:true\n    var data = options.line.preprocess(nwt.cleanNullValues()(rawData));\n\n    data = options.line.stacked ? d3.layout.stack().values(function (d) { return d.data; })(data) : data;\n\n    renderPaths();\n\n    renderMarkers(options.line.marker.enable);\n\n    renderTooltipTrackers(options.tooltip && options.tooltip.enable);\n\n    function seriesClassName(extras) { return function (d, i) { return (extras||'') + ' s-' +(i+1) + ' ' + nwt.seriesNameToClass(d.name); }; }\n\n    function renderPaths() {\n        var startLine = d3.svg.line()\n            .x(function (d) { return x(d); })\n            .y(function () { return y({x: 0, y: options.yAxis.min || 0}); });\n\n        var line = d3.svg.line()\n            .x(function (d) { return x(d); })\n            .y(function (d) { return y(d); });\n\n        if(options.line.smooth) line.interpolate('cardinal');\n\n        var animFn = animationsMap[animationDirection];\n        var series = layer.selectAll('g.series')\n                .data(data, function (d) { return d.name; });\n\n        // enter\n        var el = series.enter().append('svg:g')\n            .attr('class',seriesClassName('series'))\n            .attr('clip-path', 'url(#clip)')\n            .append('path')\n                .attr('class', 'line');\n\n        if (shouldAnimate) {\n            var startLineFn = animationDirection === 'left-to-right' ? line : startLine;\n            el.attr('d', function(d) { return startLineFn(d.data); })\n                .call(nwt.partial(animFn.enter, line));\n        } else {\n            el.attr('d', function (d) { return line(d.data); });\n        }\n\n        // update\n        el = series\n            .attr('class', seriesClassName('series'))\n            .select('.line');\n\n        if (shouldAnimate) {\n            el.call(nwt.partial(animFn.update, line));\n        } else  {\n            el.attr('d', function (d) { return line(d.data); });\n        }\n\n        series.exit().remove();\n    }\n\n    function renderMarkers(enabled) {\n        var animationDelay = (options.line.marker.animationDelay == null) ? duration : options.line.marker.animationDelay;\n        var markers = layer.selectAll('.line-chart-markers')\n            .data(enabled ? data : [], function (d) { return d.name; });\n\n        markers.enter().append('g');\n        markers.attr('class', seriesClassName('line-chart-markers markers'));\n        markers.exit().remove();\n\n        var dots = markers.selectAll('.dot')\n            .data(function (d) { return d.data; }, function (d) { return d.x; });\n\n        if (shouldAnimate) {\n            dots.transition().delay(animationDelay).duration(duration)\n                .attr('cx', x)\n                .attr('cy', y)\n                .attr('opacity', 1);\n        } else {\n            dots.attr('cx', x)\n                .attr('cy', y)\n                .attr('opacity', 1);\n        }\n\n\n        dots.enter().append('circle')\n            .attr('class', 'dot')\n            .attr('r', options.line.marker.size)\n            .attr('opacity', 0)\n            .attr('cx', x)\n            .attr('cy', y)\n            .transition().delay(animationDelay)\n                .attr('opacity', 1);\n\n        dots.exit().remove();\n\n    }\n\n    function renderTooltipTrackers(enabled) {\n        var trackerSize = 10;\n        var markers = layer.selectAll('.tooltip-trackers')\n            .data(enabled ? data : [], function (d) { return d.name; });\n\n        markers.enter().append('g');\n        markers.attr('class', seriesClassName('tooltip-trackers'));\n        markers.exit().remove();\n\n        var dots = markers.selectAll('.tooltip-tracker')\n            .data(function (d) { return d.data; }, function (d) { return d.x; });\n\n        dots.enter().append('circle')\n            .attr({\n                'class': 'tooltip-tracker',\n                'r': trackerSize,\n                'opacity': 0\n            });\n\n        dots.attr({\n            'cx': x,\n            'cy': y\n        });\n\n        dots.exit().remove();\n    }\n\n    return this;\n}\n\nrender.defaults = defaults;\n\n\n/**\n* Adds a line chart to the Contour instance.\n*\n* This visualization requires `.cartesian()`.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*           .cartesian()\n*           .line([1,2,3,4])\n*           .render();\n*\n* @name line(data, options)\n* @param {object|array} data The _data series_ to be rendered with this visualization. This can be in any of the supported formats.\n* @param {object} [options] Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n*/\nContour.export('line', render);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/line.js","import { noop } from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nContour.export('nullVis', noop);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/null.js","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nvar defaults = {\n    pie: {\n        sliceClass: null,\n\n        style: null,\n\n        piePadding: {\n            left: null,\n            top: null,\n            right: null,\n            bottom: null\n        },\n\n        // inner and outer radius can be numbers of pixels if >= 1, percentage if > 0 && < 1 or functions\n\n        // inner radius as function will recive the outerRadius as parameter\n        // passing a value between 0 and 1 (non-inclusing), this value is interpreted as % of radius\n        // ie. outerRadius: 100, innerRadius: .8 would give a inner radius or 80 pixles\n        innerRadius: null,\n\n        // outer radius as function will recieve the proposed maximum radius for a pie\n        // passing a value between 0 and 1 (non-inclusing), this value is interpreted as % of width\n        // the default behavior is 50% of the mininum between with and height of the container (adjusted for padding)\n        outerRadius: null\n    }\n};\n\nfunction normalizePadding(options) {\n    if (nwt.isNumber(options.pie.piePadding)) {\n        return {\n            top: options.pie.piePadding,\n            left: options.pie.piePadding,\n            right: options.pie.piePadding,\n            bottom: options.pie.piePadding\n        };\n    }\n\n    return options.pie.piePadding;\n}\n\nfunction clampBounds(bounds, maxWidth, maxHeight) {\n    return {\n        top: nwt.clamp(bounds.top, 0, maxHeight),\n        bottom: nwt.clamp(bounds.bottom, 0, maxHeight),\n        left: nwt.clamp(bounds.left, 0, maxWidth),\n        right: nwt.clamp(bounds.right, 0, maxWidth)\n    };\n}\n\nfunction calcPadding(options) {\n    var padding = normalizePadding(options);\n    var w = options.chart.plotWidth;\n    var h = options.chart.plotHeight;\n\n    return clampBounds(padding, w, h);\n}\n\nfunction resolveValueUnits(value, ref) {\n    // resolve (0,1) interval to a percentage of the reference value\n    // otherwise as a pixel valie\n    return value > 0 && value < 1 ? ref * value : value;\n}\n\nfunction resolvePaddingUnits(padding, w, h) {\n    // if the value of padding is betweem 0 and 1 (non inclusing),\n    // interpret it as a percentage, otherwise as a pixel value\n    return {\n        top: resolveValueUnits(padding.top, h) || 5,\n        bottom: resolveValueUnits(padding.bottom, h) || 5,\n        left: resolveValueUnits(padding.left, w) || 5,\n        right: resolveValueUnits(padding.right, w) || 5\n    };\n}\n\nfunction renderer(data, layer, options) {\n    /*jshint eqnull:true */\n    var duration = options.chart.animations.duration != null ? options.chart.animations.duration : 400;\n    var shouldAnimate = options.chart.animations && options.chart.animations.enable;\n    var w = options.chart.plotWidth, h = options.chart.plotHeight;\n    var padding = calcPadding.call(this, options);\n    var numSeries = data.length;\n    var style = options.pie.style;\n    var _this = this;\n    var shouldCenterX = [options.pie.piePadding.left, options.pie.piePadding.right].every(function (d) { return d == null; });\n    var shouldCenterY = [options.pie.piePadding.top, options.pie.piePadding.bottom].every(function (d) { return d == null; });\n    var pixelPadding = resolvePaddingUnits(padding, w, h);\n    // the reference size is the min between with and height of the container\n    var referenceSize = Math.min(w, h);\n\n    // for auto radius we need to take the min between the available with or height adjusted by padding and num series\n    var totalPadding = pixelPadding.left + (pixelPadding.right + pixelPadding.left) * (numSeries - 1) + pixelPadding.right;\n    var proposedRadius = Math.min(((w - totalPadding) / numSeries) / 2, (h - pixelPadding.top - pixelPadding.bottom) / 2);\n    var radius = resolveValueUnits(nwt.getValue(options.pie.outerRadius, proposedRadius, this, proposedRadius, referenceSize), referenceSize);\n    // inner radius is a pixel value or % of the radius\n    var innerRadius = resolveValueUnits(nwt.getValue(options.pie.innerRadius, 0, this, radius), radius);\n    var pieData = d3.layout.pie().value(function (d) { return d.y; }).sort(null);\n    var totalWidth = totalPadding + radius * numSeries * 2;\n    var outerPaddingLeft = shouldCenterX ? (w - totalWidth) / 2 : pixelPadding.left;\n    var centerY = h / 2;\n\n    var classFn = function (d, i, j) {\n        var baseClass = 'series arc' + (options.tooltip.enable ? ' tooltip-tracker' : '') + ' s-' + (i+1) + ' ' + d.data.x;\n\n        if (!options.pie.sliceClass) {\n            return baseClass;\n        }\n\n        return baseClass + ' ' + (typeof options.pie.sliceClass === 'function' ? options.pie.sliceClass.call(_this, d, i, j) : options.pie.sliceClass);\n    };\n\n    var translatePie = function (d,i) {\n        // calc the left side coord of the pie, including padding for the prevousous pies\n        var offsetX = outerPaddingLeft + (radius * 2 * i + (pixelPadding.right + pixelPadding.left) * i);\n        // calc the center of the pie starting from offsetX\n        var posY = shouldCenterY ? centerY : radius + pixelPadding.top;\n\n        return 'translate(' + (radius + offsetX) + ',' + (posY) + ')';\n    };\n\n    var pieGroup = layer.selectAll('g.pie-group')\n        .data(data);\n\n    pieGroup.enter().append('svg:g')\n        .attr('class', 'pie-group')\n        .attr('transform', translatePie)\n        .call(renderSeries);\n\n    pieGroup.exit().remove();\n\n    if (shouldAnimate) {\n        pieGroup\n            .call(renderSeries)\n            .transition().duration(duration/2)\n            .attr('transform', translatePie);\n    } else {\n        pieGroup.call(renderSeries)\n            .attr('transform', translatePie);\n    }\n\n    function renderSeries(group) {\n        var arc = d3.svg.arc()\n            .outerRadius(radius).innerRadius(innerRadius);\n\n        var startArc = d3.svg.arc()\n            .outerRadius(radius).innerRadius(innerRadius)\n            .startAngle(0).endAngle(0);\n\n        var pie = group.selectAll('path')\n            .data(function (d) { return pieData(d.data); }, function (d) { return d.data.x; });\n\n        pie.enter()\n            .append('path')\n            .attr('d', function (d) { return startArc(d); })\n            .attr('style', style)\n            .each(function (d) { this._current = { startAngle: d.startAngle, endAngle: d.startAngle }; });\n\n        pie.attr('class', classFn);\n        \n        if (shouldAnimate) {\n            pie.exit()\n                .remove();\n\n            pie.transition().duration(duration)\n                .ease('cubic-in')\n                .attrTween('d', arcTween);\n        } else {\n            pie.exit().remove();\n            pie.attr('d', arc);\n        }\n\n        // Store the displayed angles in _current.\n        // Then, interpolate from _current to the new angles.\n        // During the transition, _current is updated in-place by d3.interpolate.\n        // from http://bl.ocks.org/mbostock/1346410\n        function arcTween(a) {\n            var i = d3.interpolate(this._current, a);\n            this._current = i(0);\n            return function(t) {\n                return arc(i(t));\n            };\n        }\n    }\n}\n\nrenderer.defaults = defaults;\n\n\n/**\n* Adds a pie chart to the Contour instance.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*           .pie([1,2,3,4])\n*           .render();\n*\n* @name pie(data, options)\n* @param {object|array} data The _data series_ to be rendered with this visualization. This can be in any of the supported formats. The data elements are summed and then divided. In the example, `.pie([1,2,3,4])` makes four pie slices: 1/10, 2/10, 3/10, and 4/10.\n* @param {object} [options] Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n*/\nContour.export('pie', renderer);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/pie.js","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nvar defaults = {\n    xAxis: {\n        type: 'linear'\n    },\n    scatter: {\n        radius: 4,\n        preprocess: function(data) {\n            return data;\n        }\n    }\n};\n\nfunction ScatterPlot(data, layer, options) {\n    this.checkDependencies('cartesian');\n    var duration = options.chart.animations.duration != null ? options.chart.animations.duration : 400;\n    var shouldAnimate = options.chart.animations && options.chart.animations.enable;\n    var opt = options.scatter;\n    var halfRangeBand = this.rangeBand / 2;\n    var x = function (d) { return this.xScale(d.x) + halfRangeBand; }.bind(this);\n    var y = function (d) { return this.yScale(d.y); }.bind(this);\n    var h = options.chart.plotHeight;\n    var classFn = function (d, i) { return d.name + ' series s-' + (i+1); };\n\n    data = options.scatter.preprocess(data);\n\n    var series = layer.selectAll('.series')\n        .data(data);\n\n    series.enter().append('svg:g')\n        .attr('class', classFn);\n        \n    series.attr('class', classFn);\n    series.exit().remove();\n\n    var dots = series.selectAll('.dot')\n        .data(function (d) { return d.data; }, function (d) {\n            return options.scatter.dataKey ? d[options.scatter.dataKey] : d.x;\n        });\n\n    dots.enter().append('circle')\n            .attr('class', 'dot tooltip-tracker')\n            .attr('r', opt.radius)\n            .attr('cx', x)\n            .attr('cy', h);\n\n    if (shouldAnimate) {\n        dots.transition().duration(duration)\n            .attr('r', opt.radius)\n            .attr('cx', x)\n            .attr('cy', y);\n    } else {\n        dots.attr('r', opt.radius)\n            .attr('cx', x)\n            .attr('cy', y);\n    }\n\n\n    dots.exit().remove();\n}\n\nScatterPlot.defaults = defaults;\n\n/**\n* Adds a scatter plot to the Contour instance.\n*\n* This visualization requires `.cartesian()`.\n*\n* ### Example:\n*\n*     new Contour({el: '.chart'})\n*           .cartesian()\n*           .scatter([1,2,3,4])\n*           .render();\n*\n* @name scatter(data, options)\n* @param {object|array} data The _data series_ to be rendered with this visualization. This can be in any of the supported formats.\n* @param {object} [options] Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n*/\nContour.export('scatter', ScatterPlot);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/scatter.js","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nvar defaults = {\n    tooltip: {\n        enable: true\n    }\n};\n\n/**\n* Adds a tooltip and legend combination for stacked (multiple) series visualizations in the Contour instance.\n* Requires a second display element (`<div>`) for the legend in the html.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*           .cartesian()\n*           .column(stackedColData)\n*           .stackTooltip(stackedColData, {el: '.myChartLegend'})\n*           .render();\n*\n* @name stackTooltip(data, options)\n* @param {object|array} data The _data series_ to be rendered with this visualization. This can be in any of the supported formats.\n* @param {object} options Configuration options particular to this visualization that override the defaults. Requires an `el` option with the selector of the container in which to render the tooltip.\n* @api public\n*\n* ### Notes:\n*\n* Each Contour instance can only include one `stackTooltip` visualization.\n*/\nfunction stackTooltip(data, layer, options) {\n\n    var valueFormatter = this.yAxis().tickFormat();\n    var tooltip = d3.select(options.stackTooltip.el);\n\n    tooltip.classed('stack-tooltip', true);\n\n    // jshint eqnull:true\n    var onMouseOver = function (d) {\n        var isNull = function (p) {\n            return !(p && p.y != null);\n        };\n        var mapFn = function (p, i) {\n            var index = nwt.isNumber(d.x) ? d.x : options.xAxis.categories.indexOf(d.x);\n            return !isNull(p.data[index]) ?\n                { seriesName: p.name, value: p.data[index].y, cssClass: 's-' + (i+1) } :\n                null;\n        };\n        var filtered =data.map(mapFn).filter(function (x) { return x; });\n        var text = filtered.map(function (t) { return '<span class=\"' + t.cssClass + '\"\">' + t.seriesName + ': ' + valueFormatter(t.value) + '</span>'; }).join(' / ');\n        tooltip.html(text).style({display: 'block'});\n    };\n\n    var onMouseOut = function (// datum\n                                ) {\n        tooltip.html('');\n    };\n\n    this.svg.selectAll('.tooltip-tracker')\n        .on('mouseover.tooltip', onMouseOver.bind(this))\n        .on('mouseout.tooltip',  onMouseOut.bind(this));\n}\n\nstackTooltip.defaults = defaults;\n\nContour.export('stackTooltip', stackTooltip);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/stack-tooltip.js","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nfunction pxToNumber(pixels) {\n    // removes 'px' from end of padding -- padding is always translated into px\n    return Number(pixels.slice(0, -2));\n}\n\nfunction title(data, layer, options) {\n    var svg = d3.select(this.container[0][0].firstChild);\n    var height = pxToNumber(svg.style('height'));\n    var width = pxToNumber(svg.style('width'));\n    var paddingTop = svg.style('padding-top');\n\n    if (paddingTop === '0px') {\n        svg.style('padding-top', '2rem');\n        paddingTop = '32px';\n    }\n\n    paddingTop = pxToNumber(paddingTop);\n\n    var textAnchor;\n    var xVal;\n    var yVal = -paddingTop / 2;\n\n    switch (options.title.position) {\n        case 'center':\n            xVal = width / 2;\n            textAnchor = \"middle\";\n            break;\n        case 'right':\n            xVal = width;\n            textAnchor = \"end\";\n            break;\n        default:\n            xVal = 0;\n            textAnchor = \"start\";\n            break;\n    }\n\n    // Because the title isn't dependent on data, this takes the place of the d3 exit\n    if (d3.select('.title-text')[0][0]) {\n        svg.remove('.title-text');\n    }\n    svg.append('text')\n        .attr('x', xVal)\n        .attr('y', yVal)\n        .classed('chart-title', true)\n        .style('text-anchor', textAnchor)\n        .text(options.title.text);\n}\n\ntitle.defaults = {\n    title: {\n        text: '',\n        position: 'left'\n    }\n};\n\n/**\n* Adds a title to the Contour chart. By default, this will also add some padding to the top of the chart to make room for the title.\n* If the chart already has padding, or if the user wants to style the text with CSS, they may have to style this themselves.\n* The title can be accessed with the CSS class `chart-title`.\n*\n*\n* **Note:** This chart will appear in images generated by `exportable`.\n*\n* ### Example:\n*\n*        new Contour({el: '.myChart', title: { text: 'First Seven Fibonacci Numbers', position: 'left' }})\n*           .cartesian()\n*           .trendLine([1, 1, 2, 3, 5, 7, 12])\n*           .title()\n*           .render();\n*\n* @name title(text, position, styles)\n* @param {object|array} data Ignored!\n* @param {object} options Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n*/\n\nContour.export('title', title);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/title.js","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nvar defaults = {\n    tooltip: {\n        enable: true,\n        animate: true,\n        opacity: 0.85,\n        showTime: 300,\n        hideTime: 500,\n        distance: {\n            x: 5,\n            y: 5,\n        },\n        formatter: undefined //defined in formatters array in getTooltipText()\n    }\n};\n\nfunction render(data, layer, options) {\n\n    var clearHideTimer = function () {\n        clearTimeout(this.tooltip.hideTimer);\n    };\n\n    var changeOpacity = function (opacity, delay) {\n        if(this.options.tooltip.animate) {\n            this.tooltipElement\n                .transition().duration(delay)\n                    .style('opacity', opacity);\n        } else {\n            this.tooltipElement.style('opacity', opacity);\n        }\n    };\n\n    var positionTooltip = function (d) {\n        var pointOrCentroid = function () {\n            return d3.event.target.tagName === 'path' ? nwt.getCentroid(d3.event.target) : d3.mouse(this.container.node());\n        };\n        var xScale = this.xScale;\n        var yScale = this.yScale;\n        var plotLeft = this.options.chart.plotLeft;\n        var plotWidth = this.options.chart.plotWidth;\n        var plotTop = this.options.chart.plotTop;\n        var plotHeight = this.options.chart.plotHeight;\n        var distanceX = this.options.tooltip.distance.x !== undefined ? this.options.tooltip.distance.x : this.options.tooltip.distance;\n        var distanceY = this.options.tooltip.distance.y !== undefined ? this.options.tooltip.distance.y : this.options.tooltip.distance;\n        var width = parseFloat(this.tooltipElement.node().offsetWidth);\n        var height = parseFloat(this.tooltipElement.node().offsetHeight);\n        var pointX = xScale ? xScale(d.x) : pointOrCentroid.call(this)[0];\n        var pointY = yScale ? yScale(d.y) : pointOrCentroid.call(this)[1];\n        var alignedRight;\n\n        var clampPosition = function (pos) {\n            // Check outside plot area (left)\n            if (pos.x < plotLeft) {\n                pos.x = plotLeft;\n            }\n\n            // Check outside plot area (right)\n            if (pos.x + width > plotLeft + plotWidth) {\n                pos.x -= (pos.x + width) - (plotLeft + plotWidth);\n                // Don't overlap point\n\n                alignedRight = true;\n            }\n\n            // Check outside the plot area (top)\n            if (pos.y < plotTop) {\n                pos.y = plotTop;\n\n                // Don't overlap point\n                if (alignedRight && pointY >= pos.y && pointY <= pos.y + height) {\n                    pos.y = pointY + plotTop + distanceY;\n                }\n            }\n\n            // Check outside the plot area (bottom)\n            if (pos.y + height > plotTop + plotHeight) {\n                pos.y = plotTop + plotHeight - (height);\n            }\n\n            return pos;\n        };\n\n        var positioner = {\n            'vertical': function verticalPositioner() {\n                var pos = {\n                    x: plotLeft + pointX + (distanceX - width),\n                    y: plotTop + pointY - (distanceY + height)\n                };\n\n                return clampPosition(pos);\n            },\n\n            'horizontal': function horizontalPositioner() {\n                var pos = {\n                    x: plotLeft + pointY + (distanceX - width),\n                    y: plotTop + pointX - (distanceY + height)\n                };\n\n                return clampPosition(pos);\n            }\n        };\n\n        return options.chart.rotatedFrame ? positioner.horizontal() : positioner.vertical();\n\n    };\n\n    var onMouseOver = function (d) {\n        show.call(this, d);\n    };\n\n    var onMouseOut = function () {\n        changeOpacity.call(this, 0, this.options.tooltip.hideTime);\n    };\n\n    var getTooltipText = function (d, allPoints) {\n        function match() {\n            var params = Array.prototype.slice.call(arguments);\n            var list = params[0];\n            var rest = params.slice(1);\n\n            var response = list.map(function(fn) { return fn.apply(this, rest); }).concat([nwt.noop]);\n\n            return response.filter(function (a) { return a; })[0];\n        }\n\n        var options = this.options.tooltip;\n        var formatters = [\n            function (d) { return options.formatter ? nwt.partial(options.formatter, d, allPoints) : null; },\n            function (d) { return d.hasOwnProperty('x') ? nwt.partial(function (d) { return d.series + '<br>' + d.x + '<br>' + d.y; }, d) : null; },\n            function (d) { return d.data && d.data.hasOwnProperty('x') ? nwt.partial(function (d) { return d.series + '<br>' +  d.x + '<br>' + d.y; }, d.data) : null; },\n            function (d) { return d.hasOwnProperty('value') ? nwt.partial(function (d) { return d.value; }, d) : null;  },\n            function () { return function () { return 'NA'; }; }\n        ];\n\n\n        return match(formatters, d)();\n    };\n\n    var show = function (d) {\n        clearHideTimer.call(this);\n\n        var dataPoints = findOriginalDataPoint(d);\n\n        this.tooltipElement.select('.text').html(getTooltipText.call(this, d || dataPoints[0], dataPoints));\n\n        var pos = positionTooltip.call(this, d);\n\n        this.tooltipElement\n            .style('top', pos.y + 'px')\n            .style('left', pos.x + 'px');\n\n        changeOpacity.call(this, this.options.tooltip.opacity, this.options.tooltip.showTime);\n    };\n\n    function findOriginalDataPoint(d) {\n        var res = [];\n        data.forEach(function (series, seriesIndex) {\n            var name = series.name;\n            series.data.forEach(function (point) {\n                if (point.x === d.x && d.y === point.y) {\n                    res.push(Object.assign(point, { series: name, seriesIndex:seriesIndex }));\n                }\n            });\n        });\n\n        return res;\n    }\n\n    this.tooltipElement = this.container\n        .style('position', 'relative')\n        .selectAll('.nw-tooltip').data([1]);\n\n    this.tooltipElement\n        .enter().append('div')\n        .attr('class', 'nw-tooltip')\n        .style('opacity', 0)\n        .append('div')\n            .attr('class', 'text');\n\n    this.svg.selectAll('.tooltip-tracker')\n        .on('mouseover.tooltip', onMouseOver.bind(this))\n        .on('mouseout.tooltip',  onMouseOut.bind(this));\n}\n\nrender.defaults = defaults;\n\n\n/**\n* Adds a tooltip on hover to all other visualizations in the Contour instance.\n*\n* Although not strictly required, this visualization does not appear unless there are already one or more visualizations in this Contour instance for which to show the tooltips.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*           .cartesian()\n*           .line([2, 4, 3, 5, 7])\n*           .tooltip()\n*           .render();\n*\n* @name tooltip(data, options)\n* @param {object|array} data Ignored!\n* @param {object} options Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n* ### Notes:\n*\n* Each Contour instance can only include one `tooltip` visualization.\n*/\nContour.export('tooltip', render);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/tooltip.js","import d3 from 'd3';\nimport * as nwt from '../utils/contour-utils';\nimport Contour from '../core/contour';\n\nfunction normalizeDataSet(dataSet) {\n    var all = nwt.flatten(dataSet.map(function (set) { return set.data; }));\n    var isLinear = all.length && nwt.isNumber(all[0].x);\n    var normalizer = function (d, i) { return { x: i, y: d.y }; };\n\n    return isLinear ? all : all.map(normalizer);\n}\n\nfunction ctor(raw, layer, options) {\n    this.checkDependencies('cartesian');\n    var data = normalizeDataSet(raw);\n    var duration = options.chart.animations.duration != null ? options.chart.animations.duration : 400;\n    var shouldAnimate = options.chart.animations && options.chart.animations.enable;\n    var x = function(d) { return this.xScale(d) + this.rangeBand / 2; }.bind(this);\n    var y = function(d) { return this.yScale(d); }.bind(this);\n    var regression = nwt.linearRegression(data);\n    var domain = d3.extent(this.xScale.domain());\n    var numericDomain = d3.extent(data, function(p) { return p.x; });\n    var lineY = function (x) { return regression.intercept + regression.slope * x; };\n\n    var line = layer.selectAll('.trend-line')\n        .data([1]);\n\n    if (isNaN(lineY(numericDomain[0])) || isNaN(lineY(numericDomain[1])) || isNaN(x(domain[0])) || isNaN(x(domain[1]))) {\n        line.remove();\n    } else {\n        line.enter().append('line')\n            .attr('class', 'trend-line')\n            .attr('x1', x(domain[0]))\n            .attr('y1', y(lineY(numericDomain[0])))\n            .attr('x2', x(domain[0]))\n            .attr('y2', y(lineY(numericDomain[0])));\n\n        line.exit().remove();\n\n        if (shouldAnimate) {\n            line = line.transition().duration(duration);\n        }\n\n        line.attr('x1', x(domain[0]))\n            .attr('y1', y(lineY(numericDomain[0])))\n            .attr('x2', x(domain[1]))\n            .attr('y2', y(lineY(numericDomain[1])));\n    }\n}\n\nctor.defaults = {};\n\n/**\n* Adds a trend line to the Contour instance, based on linear regression.\n*\n* This visualization requires `.cartesian()`.\n*\n* ### Example:\n*\n*     new Contour({el: '.myChart'})\n*           .cartesian()\n*           .trendLine([2,4,3,5,7])\n*           .render();\n*\n* @name trendLine(data, options)\n* @param {object|array} data The _data series_ to be rendered with this visualization. This can be in any of the supported formats. A linear regression is performed on the _data series_ and the resulting trend line is displayed.\n* @param {object} [options] Configuration options particular to this visualization that override the defaults.\n* @api public\n*\n*/\nContour.export('trendLine', ctor);\n\n\n\n// WEBPACK FOOTER //\n// ./src/scripts/visualizations/trend-line.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/styles/contour.less\n// module id = 33\n// module chunks = 0 1"],"sourceRoot":""}